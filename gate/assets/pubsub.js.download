(function(a,b){'use strict';var c={};a.PubSub=c;var d=a.define;b(c),"function"==typeof d&&d.amd?d(function(){return c}):"object"==typeof exports&&(module!==void 0&&module.exports&&(exports=module.exports=c),exports.PubSub=c,module.exports=exports=c)})("object"==typeof window&&window||this,function(a){'use strict';function b(a){for(var b in a)if(a.hasOwnProperty(b))return!0;return!1}function c(a){return function(){throw a}}function d(a,b,d){try{a(b,d)}catch(a){setTimeout(c(a),0)}}function e(a,b,c){a(b,c)}function f(a,b,c,f){var g,h=j[b],i=f?e:d;if(j.hasOwnProperty(b))for(g in h)h.hasOwnProperty(g)&&i(h[g],a,c)}function g(a,b,c){return function(){var d=a+"",e=d.lastIndexOf(".");for(f(a,a,b,c);-1!==e;)d=d.substr(0,e),e=d.lastIndexOf("."),f(a,d,b,c)}}function h(a){for(var c=a+"",d=!!(j.hasOwnProperty(c)&&b(j[c])),e=c.lastIndexOf(".");!d&&-1!==e;)c=c.substr(0,e),e=c.lastIndexOf("."),d=!!(j.hasOwnProperty(c)&&b(j[c]));return d}function i(a,b,c,d){a="symbol"==typeof a?a.toString():a;var e=g(a,b,d),f=h(a);return!!f&&(!0===c?e():setTimeout(e,0),!0)}var j={},k=-1;a.publish=function(b,c){return i(b,c,!1,a.immediateExceptions)},a.publishSync=function(b,c){return i(b,c,!0,a.immediateExceptions)},a.subscribe=function(a,b){if("function"!=typeof b)return!1;a="symbol"==typeof a?a.toString():a,j.hasOwnProperty(a)||(j[a]={});var c="uid_"+(++k+"");return j[a][c]=b,c},a.subscribeOnce=function(b,c){var d=a.subscribe(b,function(){a.unsubscribe(d),c.apply(this,arguments)});return a},a.clearAllSubscriptions=function(){j={}},a.clearSubscriptions=function(a){for(var b in j)j.hasOwnProperty(b)&&0===b.indexOf(a)&&delete j[b]},a.countSubscriptions=function(a){var b,c=0;for(b in j)j.hasOwnProperty(b)&&0===b.indexOf(a)&&c++;return c},a.getSubscriptions=function(a){var b,c=[];for(b in j)j.hasOwnProperty(b)&&0===b.indexOf(a)&&c.push(b);return c},a.unsubscribe=function(b){var c,d,e,f=function(a){for(var b in j)if(j.hasOwnProperty(b)&&0===b.indexOf(a))return!0;return!1},g="string"==typeof b&&(j.hasOwnProperty(b)||f(b)),h=!1;if(g)return void a.clearSubscriptions(b);for(c in j)if(j.hasOwnProperty(c)){if(d=j[c],!g&&"string"==typeof b&&d[b]){delete d[b],h=b;break}if("function"==typeof b)for(e in d)d.hasOwnProperty(e)&&d[e]===b&&(delete d[e],h=!0)}return h}});