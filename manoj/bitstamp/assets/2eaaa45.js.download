(window.webpackJsonp_onboarding=window.webpackJsonp_onboarding||[]).push([[13],{1020:function(t,e,n){"use strict";n.r(e);var i=n(1118),a=n(878);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);var s=n(4),r=Object(s.a)(a.default,i.a,i.b,!1,null,null,null);e.default=r.exports},1118:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Info",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v("\n    "+t._s(t.title)+"\n  ")]},proxy:!0},{key:"sub-title",fn:function(){return[t._v("\n    Â \n  ")]},proxy:!0},{key:"image",fn:function(){return[n("Warning",{staticClass:"mb16",attrs:{width:"96"}})]},proxy:!0},{key:"text",fn:function(){return[t._v("\n    "+t._s(t.text)+"\n  ")]},proxy:!0},{key:"action",fn:function(){return[t.action?n("Button",{on:{click:t.onClick}},[t._v("\n      "+t._s(t.action.text)+"\n    ")]):t._e()]},proxy:!0}])})},a=[]},1134:function(t,e,n){var i=n(1281);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(20).default)("6ded77f8",i,!0,{sourceMap:!1})},1135:function(t,e,n){var i=n(468),a=n(307),o=n(111),s=n(1283),r=n(38);t.exports=function(t,e,n){var u=r(t)?i:s,l=arguments.length<3;return u(t,o(e,4),n,l,a)}},1204:function(t,e,n){var i=n(1835);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(20).default)("624787da",i,!0,{sourceMap:!1})},1205:function(t,e,n){var i=n(1837);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(20).default)("53db3627",i,!0,{sourceMap:!1})},1278:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(2),n(29),n(28),n(302),n(16),n(137);var i={mounted:function(){var t=this;new URLSearchParams(window.location.search).get("_branch_match_id")&&this.$branch.lib.data((function(e,n){var i;(null===(i=t.$mixpanel)||void 0===i||!i.dummy)&&null!=n&&n.data_parsed["~campaign"]&&null!=n&&n.data_parsed["~channel"]&&null!=n&&n.data_parsed["~feature"]&&null!=n&&n.data_parsed["~tags"]&&(t.$mixpanel.lib.people.union("Campaigns",n.data_parsed["~campaign"]),t.$mixpanel.lib.people.union("Channels",n.data_parsed["~channel"]),t.$mixpanel.lib.people.union("Features",n.data_parsed["~feature"]),t.$mixpanel.lib.people.union("Tags",n.data_parsed["~tags"]),t.$mixpanel.track("[Branch] OPEN WEB",n.data_parsed))}))}};e.default=i},1279:function(t,e,n){"use strict";n.r(e);var i=n(2097),a=n(921);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(1280);var s=n(4),r=Object(s.a)(a.default,i.a,i.b,!1,null,"803c38d8",null);e.default=r.exports},1280:function(t,e,n){"use strict";n(1134)},1281:function(t,e,n){var i=n(19)((function(t){return t[1]}));i.push([t.i,'.sub-navigation[data-v-803c38d8]{font-size:var(--text-size-base);text-align:left;display:flex;width:100%;max-width:394px;min-width:280px}.sub-navigation ul[data-v-803c38d8]{list-style:none;padding:0}.sub-navigation__steps[data-v-803c38d8]{margin-top:25vh}.sub-navigation__step[data-v-803c38d8]{padding-left:2.75rem;margin:.5rem 0;position:relative}.sub-navigation__step a[data-v-803c38d8],.sub-navigation__step span[data-v-803c38d8]{color:var(--text-color-medium-light);text-decoration:none;line-height:1.5rem;font-weight:var(--font-weight-medium)}.sub-navigation__step[data-v-803c38d8]:after,.sub-navigation__step a[data-v-803c38d8],.sub-navigation__step span[data-v-803c38d8]{display:block;transition:all var(--default-transition-time) var(--step-transition-curve)}.sub-navigation__step[data-v-803c38d8]:after{position:absolute;left:-30px;top:11px;background:var(--primary-color);width:30px;height:2px;content:""}.sub-navigation__step--selected a[data-v-803c38d8],.sub-navigation__step--selected span[data-v-803c38d8]{color:var(--primary-color)}.sub-navigation__step--selected[data-v-803c38d8]:after{left:0}.sub-navigation__step--completed a[data-v-803c38d8],.sub-navigation__step--completed span[data-v-803c38d8]{color:var(--text-color)}.sub-navigation__step--completed a[data-v-803c38d8]:hover,.sub-navigation__step--completed span[data-v-803c38d8]:hover{color:#666766}.sub-navigation__step--completed a[data-v-803c38d8]:focus,.sub-navigation__step--completed span[data-v-803c38d8]:focus{outline:none;color:#666766;text-shadow:0 0 10px var(--shadow-light)}',""]),i.locals={},t.exports=i},1282:function(t,e,n){"use strict";n.r(e);var i=n(2098),a=n(923);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(1834);var s=n(4),r=Object(s.a)(a.default,i.a,i.b,!1,null,"5e0df73a",null);e.default=r.exports},1283:function(t,e){t.exports=function(t,e,n,i,a){return a(t,(function(t,a,o){n=i?(i=!1,t):e(n,t,a,o)})),n}},1834:function(t,e,n){"use strict";n(1204)},1835:function(t,e,n){var i=n(19)((function(t){return t[1]}));i.push([t.i,".sub-step[data-v-5e0df73a]{min-width:0;width:100%;position:relative;display:flex;flex-direction:column}.sub-step-header[data-v-5e0df73a]{text-align:center;padding-top:2.5rem;padding-bottom:2.5rem;position:relative;margin:0 auto}@media (max-width:768px){.sub-step-header[data-v-5e0df73a]{padding-top:1.625rem;padding-bottom:1.625rem;width:100%;max-width:500px}}.sub-step-header__title[data-v-5e0df73a]{color:var(--text-color);font-weight:var(--font-weight-medium);line-height:2.375rem;font-size:var(--text-size-large)}@media (max-width:768px){.sub-step-header__title[data-v-5e0df73a]{font-size:var(--text-size-big);line-height:1.5rem}}.sub-step-header__sub-title[data-v-5e0df73a]{color:var(--subtitle-color);padding:.375rem .75rem 0;font-size:var(--text-size-base);font-weight:var(--font-weight-normal);line-height:1.5rem}@media (max-width:768px){.sub-step-header__sub-title[data-v-5e0df73a]{font-size:var(--text-size-normal);line-height:1.125rem;padding-left:0;padding-right:0}}.sub-step-header__notice[data-v-5e0df73a]{margin-top:1.75rem;max-width:500px;margin-left:auto;margin-right:auto}.sub-step-header__notice[data-v-5e0df73a] h3{font-weight:var(--font-weight-normal);font-size:var(--text-size-medium);margin-bottom:.75rem;margin-top:1.625rem}.sub-step-header__notice[data-v-5e0df73a] p{margin-bottom:.375rem}.sub-step__content[data-v-5e0df73a]{transition:all var(--default-transition-time) var(--step-transition-curve);width:100%;min-width:0}.sub-step__content--extend-bottom[data-v-5e0df73a]{padding-bottom:15.625rem}@media (min-width:769px){.sub-step__content--extend-bottom[data-v-5e0df73a]{padding-bottom:10.625rem}}.sub-step__content--extend-bottom-disabled[data-v-5e0df73a]{padding-bottom:0}.sub-step__form-wrap[data-v-5e0df73a]{display:flex;align-items:center;justify-content:center;width:100%;min-height:25vh}@media (max-width:768px){.sub-step__form-wrap[data-v-5e0df73a]{align-items:flex-start}}@media (min-width:577px){.sub-step__form-wrap[data-v-5e0df73a]{min-height:30vh}}.sub-step__form-wrap--top[data-v-5e0df73a]{min-height:auto}.sub-step__form[data-v-5e0df73a]{max-width:500px}.sub-step__form--error[data-v-5e0df73a]{padding-top:1.5rem}@media (max-width:768px){.sub-step__form--error[data-v-5e0df73a]{padding-top:0}}.sub-step__footer[data-v-5e0df73a]{z-index:2;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:-moz-fit-content;height:fit-content;padding:1.5rem 0}.sub-step__footer--sticky[data-v-5e0df73a]{display:unset}.sub-step__footer-info[data-v-5e0df73a]{display:flex;align-items:center;justify-content:center;padding:1rem;color:var(--text-color-medium-light)}.sub-step__footer-info[data-v-5e0df73a],.sub-step__footer-info .link[data-v-5e0df73a]{font-size:var(--text-size-normal)}.sub-step__cookie-banner[data-v-5e0df73a]{z-index:40}.sub-step__button-section[data-v-5e0df73a]{width:100%;display:flex;justify-content:center;align-items:center}.sub-step__button-section--sticky[data-v-5e0df73a]{position:sticky;bottom:15px;box-shadow:0 0 35px 20px var(--background-color)}@media (max-width:768px){.sub-step__button[data-v-5e0df73a]{width:100%;max-width:350px}}.sub-step__help-button[data-v-5e0df73a]{display:none}@media (max-width:768px){.sub-step__help-button[data-v-5e0df73a]{display:flex;justify-content:center;align-items:center;padding:0;flex-shrink:0;margin-left:1.125rem}}.sub-step[data-v-5e0df73a] .grecaptcha-badge{z-index:5;bottom:35px!important}@media (max-width:768px){.sub-step[data-v-5e0df73a] .grecaptcha-badge{bottom:95px!important}}.sub-step--hide-recaptcha[data-v-5e0df73a] .grecaptcha-badge{bottom:195px!important}@media (max-width:576px){.sub-step--hide-recaptcha[data-v-5e0df73a] .grecaptcha-badge{z-index:1!important;bottom:95px!important}}.sub-step--hide-recaptcha[data-v-5e0df73a] .field-hcaptcha-form{padding-bottom:1.875rem}.slide-up-enter[data-v-5e0df73a]{opacity:0;transform:translateY(50vh)}.slide-down-enter[data-v-5e0df73a],.slide-up-leave-active[data-v-5e0df73a]{opacity:0;transform:translateY(-50vh)}.slide-down-leave-active[data-v-5e0df73a]{opacity:0;transform:translateY(50vh)}.slide-left-enter[data-v-5e0df73a]{opacity:0;transform:translate(100vw)}.slide-left-leave-active[data-v-5e0df73a],.slide-right-enter[data-v-5e0df73a]{opacity:0;transform:translate(-100vw)}.slide-right-leave-active[data-v-5e0df73a]{opacity:0;transform:translate(100vw)}",""]),i.locals={},t.exports=i},1836:function(t,e,n){"use strict";n(1205)},1837:function(t,e,n){var i=n(19)((function(t){return t[1]}));i.push([t.i,".container[data-v-a403388c]{display:flex;justify-content:space-between;flex:1 1;position:relative}.container.help-panel--only .substep-navigation[data-v-a403388c]{display:none}.container.help-panel--only .help-panel[data-v-a403388c]{position:absolute;right:0;top:0;bottom:0}.container.help-panel--only .help-panel[data-v-a403388c]:not(.help-panel--active){max-width:0;min-width:0}.container .substep-section[data-v-a403388c]{flex:2 1;align-items:center}@media (max-width:992px){.container .substep-section[data-v-a403388c]{padding:0 1.375rem}}.container .help-panel[data-v-a403388c],.container .substep-navigation[data-v-a403388c]{flex:1 1}@media (max-width:992px){.container .help-panel[data-v-a403388c],.container .substep-navigation[data-v-a403388c]{display:none}}.container .help-panel.help-panel--open[data-v-a403388c]{z-index:20}@media (max-width:992px){.container .help-panel.help-panel--active[data-v-a403388c]{position:fixed;right:0;top:0;bottom:0;display:block;z-index:40}}",""]),i.locals={},t.exports=i},2092:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.configLoaded?n("section",{staticClass:"container",class:{"help-panel--only":t.helpPanelVisibleOnly}},[t.subPanelsVisible?n("SubStepNavigation",{staticClass:"substep-navigation",attrs:{current:t.$store.state.flow.currentStep}}):t._e(),t._v(" "),n("SubStep",{staticClass:"substep-section",attrs:{"sub-step":t.$store.state.flow.currentStep.subStep,"help-visible":t.subPanelsVisible||t.helpPanelVisibleOnly}}),t._v(" "),t.subPanelsVisible||t.helpPanelVisibleOnly?n("HelpPanel",{ref:"helpPanel",staticClass:"help-panel",attrs:{help:t.$store.state.flow.currentStep.subStep.help,"enable-cupcake":t.$store.state.flow.currentStep.subStep.enableCupcake}}):t._e()],1):t._e()},a=[]},2097:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"sub-navigation"},[t.visible?n("div",{staticClass:"sub-navigation__steps"},[n("ul",t._l(t.visibleSubSteps,(function(e){return n("li",{key:e.id,staticClass:"sub-navigation__step",class:{"sub-navigation__step--selected":e===t.current.subStep,"sub-navigation__step--completed":t.isCompleted(e)}},[t.isCompleted(e)?n("nuxt-link",{attrs:{to:t.getPath(e)}},[t._v("\n          "+t._s(e.sideMenuName)+"\n        ")]):n("span",[t._v("\n          "+t._s(e.sideMenuName)+"\n        ")])],1)})),0)]):t._e()])},a=[]},2098:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"sub-step",class:{"sub-step--hide-recaptcha":t.cookieBannerVisible}},[n("transition",{key:t.isFormActive,attrs:{name:t.transition,mode:"in-out"},on:{beforeEnter:t.onBeforeTransition,afterEnter:t.onAfterTransition,beforeLeave:t.onBeforeTransition,afterLeave:t.onAfterTransition}},[t.isFormActive?n("div",{staticClass:"sub-step__content",class:{"sub-step__content--extend-bottom":t.cookieBannerVisible,"sub-step__content--extend-bottom-disabled":t.shouldHideCookieBanner}},[t.headerVisible?n("div",{staticClass:"sub-step-header"},[t.subStep.headerComponent?[n(t.subStep.headerComponent,{tag:"component"})]:t._e(),t._v(" "),n("h1",{staticClass:"sub-step-header__title"},[t._v("\n          "+t._s(t.subStep.title)+"\n        ")]),t._v(" "),t.subStep.subTitle?n("h3",{staticClass:"sub-step-header__sub-title"},[t._v("\n          "+t._s(t.subStep.subTitle)+"\n        ")]):t.subStep.subTitleComponent?[n(t.subStep.subTitleComponent,{tag:"component"})]:t._e(),t._v(" "),t.subStep.notes?n("Notice",{staticClass:"sub-step-header__notice",attrs:{type:"info"}},[n("Markdown",{attrs:{source:t.subStep.notes,show:""}})],1):t._e(),t._v(" "),t.errorMessage?n("Notice",{staticClass:"sub-step-header__notice",attrs:{type:"error"}},[t._v("\n          "+t._s(t.errorMessage)+"\n        ")]):t._e()],2):t._e(),t._v(" "),n("div",{class:t.formWrapClasses,on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnterKey.apply(null,arguments)}}},[t.subStep.formSchema?n("Form",{ref:"form",staticClass:"sub-step__form",class:{"sub-step__form--error":t.errorMessage},attrs:{schema:t.subStep.formSchema,model:t.formData,"submit-button-visible":!1,"is-new-model":!0},on:{validated:t.onValidated}},[t._l(t.formSlots,(function(t){return[n("portal",{key:t.name+"_portal",attrs:{to:t.name}},[n(t.component,{key:t.name,tag:"component"})],1)]}))],2):t.subStep.customComponent?n(t.subStep.customComponent,t._b({tag:"component",attrs:{tracking:t.subStepTracking,"is-help-visible":t.isHelpVisible},on:{updateValid:t.updateValid}},"component",t.subStep.customComponentProps,!1)):t._e()],1),t._v(" "),t.buttonVisible||t.isHelpVisible||t.isFooterVisible||t.subStep.footerComponent?n("div",{staticClass:"sub-step__footer",class:{"sub-step__footer--sticky":t.subStep.submitButtonSticky}},[t.buttonVisible?n("div",{staticClass:"sub-step__button-section",class:{"sub-step__button-section--sticky":t.subStep.submitButtonSticky}},[t.subStep.submitComponent?n(t.subStep.submitComponent,{tag:"component",attrs:{disabled:t.isButtonDisabled,"form-data":t.formData},on:{click:t.ctaButtonClick}}):t.subStep.submitComponent?t._e():n("Button",{staticClass:"sub-step__button",attrs:{disabled:t.isButtonDisabled},on:{click:t.ctaButtonClick}},[t._v("\n            "+t._s(t.buttonText)+"\n          ")]),t._v(" "),t.isHelpVisible?n("Button",{staticClass:"sub-step__help-button",attrs:{type:"icon",rounded:""},on:{click:t.toggleHelp}},[t._v("\n            ?\n          ")]):t._e()],1):t._e(),t._v(" "),t.subStep.footerComponent?n(t.subStep.footerComponent,{tag:"component"}):t._e(),t._v(" "),t.isFooterVisible?n("div",{staticClass:"sub-step__footer-info"},[t._v("\n          Don't have 2FA enabled?\n          "),n("BtsLink",{attrs:{to:""},on:{clicked:t.ctaButtonClick}},[t._v("\n            Â Skip this step.\n          ")])],1):t._e()],1):t._e()]):t._e()]),t._v(" "),t.shouldHideCookieBanner?t._e():n("CookieConsentBanner",{staticClass:"sub-step__cookie-banner",on:{modalVisibilityChange:t.handleCookieModalVisibility,bannerVisibilityChange:t.handleCookieBannerVisibility}})],1)},a=[]},865:function(t,e,n){"use strict";n.r(e);var i=n(2092),a=n(919);for(var o in a)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n(1836);var s=n(4),r=Object(s.a)(a.default,i.a,i.b,!1,null,"a403388c",null);e.default=r.exports},870:function(t,e,n){var i=n(874);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,n(20).default)("68c627a6",i,!0,{sourceMap:!1})},872:function(t,e,n){"use strict";n.r(e);n(873);var i=n(4),a=Object(i.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"info"},[t.$slots.title?n("div",{staticClass:"info__title"},[t._t("title")],2):t._e(),t._v(" "),t.$slots["sub-title"]?n("div",{staticClass:"info__sub-title"},[t._t("sub-title")],2):t._e(),t._v(" "),n("div",[t._t("image")],2),t._v(" "),n("div",{staticClass:"info__text-title"},[t._t("text-title")],2),t._v(" "),n("div",{staticClass:"info__text"},[t._t("text")],2),t._v(" "),n("div",{attrs:{closs:"info__action"}},[t._t("action")],2)])}),[],!1,null,"f33bff12",null);e.default=a.exports},873:function(t,e,n){"use strict";n(870)},874:function(t,e,n){var i=n(19)((function(t){return t[1]}));i.push([t.i,".info[data-v-f33bff12]{display:flex;flex:1 1;flex-direction:column;align-items:center;max-width:500px;text-align:center}.info__title[data-v-f33bff12]{font-size:var(--text-size-large);font-weight:var(--font-weight-medium);margin-bottom:1rem;white-space:nowrap}@media (max-width:768px){.info__title[data-v-f33bff12]{white-space:normal}}.info__sub-title[data-v-f33bff12]{color:var(--text-color-light);margin-bottom:4rem}@media (max-width:768px){.info__sub-title[data-v-f33bff12]{margin-bottom:2rem}}.info__text-title[data-v-f33bff12]{font-size:var(--text-size-base);color:var(--title-color);margin-bottom:2.8125rem}.info__text[data-v-f33bff12]{color:var(--text-color-light);margin-bottom:8rem;padding:0 1.25rem}@media (max-width:768px){.info__text[data-v-f33bff12]{margin-bottom:4rem}}",""]),i.locals={},t.exports=i},878:function(t,e,n){"use strict";n.r(e);var i=n(879),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=a.a},879:function(t,e,n){"use strict";var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(293);var a=i(n(872)),o=i(n(128)),s=i(n(430)),r={components:{Button:o.default,Info:a.default,Warning:s.default},props:{title:{type:String,default:"Oops, something went wrong."},text:{type:String,default:""},action:{type:Object,default:function(){}}},methods:{onClick:function(){window.location=this.action.link}}};e.default=r},919:function(t,e,n){"use strict";n.r(e);var i=n(920),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=a.a},920:function(t,e,n){"use strict";n(21),n(11),n(15),n(2),n(12),n(8),n(23);var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=i(n(33));n(32),n(129);var o=n(130),s=i(n(1278)),r=i(n(1122)),u=i(n(1131)),l=i(n(1279)),d=i(n(1282));function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var f={name:"SubStepPage",components:{HelpPanel:r.default,SubStep:d.default,SubStepNavigation:l.default},mixins:[s.default],beforeRouteUpdate:function(t,e,n){var i=this;if("onboarding-flow-step-substep"===t.name&&t.params.flow===e.params.flow){var a=u.default.join(this.$router.options.base,t.path),o=e.params.flow,s=t.params.flow,r=e.params.step,l=t.params.step,d=!0;o===s&&!r&&l?(window.history.replaceState({},null,a),d=!1):window.history.pushState({},null,a),this.$router.history.current=t,this.$nuxt.$emit("flowSubStepSlide"),this.$nextTick((function(){i.$store.dispatch("flow/updateCurrentStep",{route:t,triggerPageView:d})})),n(!1)}else n();this.$refs.helpPanel&&this.$refs.helpPanel.resetCupcake()},data:function(){return{loading:!0}},computed:p(p({},(0,o.mapGetters)("flow",["configLoaded"])),{},{subPanelsVisible:function(){return!this.$store.state.flow.currentStep.subStep.isCheckpoint},helpPanelVisibleOnly:function(){var t=this.$store.state.flow.currentStep.step;return!this.subPanelsVisible&&1===t.subSteps.length&&!!t.subSteps[0].help}}),mounted:function(){this.configLoaded&&this.$store.dispatch("flow/updateCurrentStep",{triggerPageView:!1})}};e.default=f},921:function(t,e,n){"use strict";n.r(e);var i=n(922),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=a.a},922:function(t,e,n){"use strict";n(21),n(11),n(12),n(8),n(23);var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(15),n(2),n(129);var a=i(n(33)),o=n(130);function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){(0,a.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var u={name:"SubStepNavigation",props:{current:{type:Object,default:null}},computed:r(r({},(0,o.mapGetters)("flow",["currentSubSteps","visibleStepCount"])),{},{visible:function(){return this.visibleStepCount>1},visibleSubSteps:function(){return this.currentSubSteps.filter((function(t){return!t.isCheckpoint}))}}),methods:{getPath:function(t){var e=[this.$router.currentRoute.params.flow,this.$router.currentRoute.params.step,t.urlHandle];return"/onboarding/".concat(e.filter((function(t){return t})).join("/"))},isCompleted:function(t){var e=this.currentSubSteps;return e.indexOf(this.current.subStep)>e.indexOf(t)}}};e.default=u},923:function(t,e,n){"use strict";n.r(e);var i=n(924),a=n.n(i);for(var o in i)["default"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e.default=a.a},924:function(t,e,n){"use strict";n(11),n(12),n(8),n(23);var i=n(0);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n(2),n(29),n(28),n(56),n(15),n(77),n(21);var a=i(n(431)),o=i(n(33)),s=i(n(434)),r=i(n(466)),u=i(n(126)),l=i(n(448)),d=i(n(1135)),c=i(n(75)),p=n(130),f=n(18),b=i(n(1126)),m=i(n(1136)),h=n(221),v=i(n(470)),_=i(n(875)),g=i(n(436)),S=i(n(104)),x=i(n(1020));function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){(0,o.default)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var O={name:"SubStep",components:{Form:m.default,CookieConsentBanner:b.default,Notice:_.default,Markdown:g.default,Error:x.default,WelcomeStep:function(){return n.e(29).then(n.bind(null,1847))},AccountType:function(){return n.e(25).then(n.bind(null,1851))},RegisterTermsSlot:function(){return n.e(52).then(n.bind(null,1855))},ReferralTermsSlot:function(){return n.e(49).then(n.bind(null,1858))},LoginChallengeSubtitle:function(){return n.e(44).then(n.bind(null,1861))},LoginChallengeResetSlot:function(){return n.e(43).then(n.bind(null,1864))},LoginSubtitle:function(){return n.e(42).then(n.bind(null,1867))},RegisterEmailSent:function(){return n.e(50).then(n.bind(null,1870))},TwoFaWelcomeStep:function(){return n.e(36).then(n.bind(null,1873))},TwoFaCheckYourMobile:function(){return n.e(20).then(n.bind(null,1876))},TwoFaEnableExtraSecurity:function(){return n.e(55).then(n.bind(null,1885))},TwoFaInstallApp:function(){return n.e(22).then(n.bind(null,1886))},TwoFaInstallAppNew:function(){return n.e(31).then(n.bind(null,1894))},TwoFaSetup:function(){return Promise.all([n.e(8),n.e(32)]).then(n.bind(null,1898))},TwoFaQRCode:function(){return Promise.all([n.e(8),n.e(21)]).then(n.bind(null,1901))},KycWelcomeStep:function(){return n.e(27).then(n.bind(null,1904))},KycConfirmationStep:function(){return n.e(28).then(n.bind(null,1908))},KycSubtitle:function(){return n.e(39).then(n.bind(null,1912))},GenericFinalStep:function(){return n.e(37).then(n.bind(null,1915))},ForgotPasswordSlot:function(){return n.e(40).then(n.bind(null,1918))},LoginHeader:function(){return n.e(41).then(n.bind(null,1921))},LostDeviceSlot:function(){return n.e(35).then(n.bind(null,1924))},GetVerifiedStep:function(){return n.e(38).then(n.bind(null,1927))},OnfidoVerificationStep:function(){return Promise.all([n.e(7),n.e(5),n.e(45)]).then(n.bind(null,1930))},OnfidoTerms:function(){return n.e(30).then(n.bind(null,1091))},OnfidoTermsSA:function(){return n.e(6).then(n.bind(null,1237))},PhoneSubtitleSlot:function(){return n.e(33).then(n.bind(null,1945))},RecoverSubtitleSlot:function(){return n.e(47).then(n.bind(null,1949))},AccountLinkingSubtitle:function(){return n.e(46).then(n.bind(null,1952))},RegisterSubtitleSlot:function(){return n.e(51).then(n.bind(null,1955))},CorpoPersonalAccountSwitcher:function(){return n.e(26).then(n.bind(null,1958))},RegisterSubmitComponent:function(){return n.e(56).then(n.bind(null,1961))},EntityChangeModal:function(){return n.e(48).then(n.bind(null,1962))}},props:{subStep:{type:Object,default:null},helpVisible:{type:Boolean,default:!1}},data:function(){return{isSubmitDisabled:!1,formData:{},isValid:!0,isFormActive:!1,isSubmitTransition:!1,customComponentIsValid:!1,transition:"slide-up",submitting:!1,errorMessage:null,initialTransition:!1,cookieModalVisible:!1,cookieBannerVisible:!1}},computed:y(y({},(0,p.mapGetters)("flow",["trackingProps"])),{},{shouldHideCookieBanner:function(){var t;return"OnfidoVerificationStep"===(null===(t=this.subStep)||void 0===t?void 0:t.customComponent)},subStepTracking:function(){return y({props:this.trackingProps},this.subStep.tracking)},buttonText:function(){return"small"!==this.$mq&&"medium"!==this.$mq||!this.subStep.submitButtonTextMobile?this.subStep.submitButtonText:this.subStep.submitButtonTextMobile},isButtonDisabled:function(){return this.subStep.isInvalidByDefault?!this.customComponentIsValid:!(this.isValid||this.subStep.customComponent)||this.submitting},isHelpVisible:function(){return this.helpVisible&&!!this.subStep.help},headerVisible:function(){return this.subStep.formSchema||this.subStep.title||this.errorMessage},buttonVisible:function(){return!this.subStep.submitButtonHidden},isFooterVisible:function(){return this.subStep.footerVisible},formWrapClasses:function(){return{"sub-step__form-wrap":!0,"sub-step__form-wrap--top":"top"===(0,c.default)(this.subStep,"contentAlign","").toLowerCase()}},formSlots:function(){return this.subStep.formSchema?this.subStep.formSchema.fields.filter((function(t){return t.fieldOptions&&t.fieldOptions.slot})).map((function(t){return{name:t.fieldOptions.slot,component:t.fieldOptions.slotComponent}})):null}}),watch:{subStep:{handler:function(){this.cloneStoreDataToFormData(),this.errorMessage=null},immediate:!0}},mounted:function(){this.isFormActive=!0,this.initialTransition=!0,this.bindEvents(),this.errorMessage=h.LocalStorageService.read(v.default.LOCAL_STORAGE.LOGIN_ERROR_MESSAGE),h.LocalStorageService.removeItem(v.default.LOCAL_STORAGE.LOGIN_ERROR_MESSAGE)},beforeDestroy:function(){this.$nuxt.$off("flowNextStep",this.nextStep)},methods:{onValidated:function(t){this.isValid=t,this.updateInstantSyncFields(),t&&this.subStep.submit&&this.subStep.autoSubmit&&this.saveValidData()},bindEvents:function(){var t=this;this.$nuxt.$on("flowSubStepSlide",(function(){window.scrollTo(0,0),t.updateTransition(),t.isSubmitTransition=!1,t.$nextTick((function(){t.isFormActive=!t.isFormActive}))})),this.$nuxt.$on("updateFormData",this.cloneStoreDataToFormData),this.$nuxt.$on("flowNextStep",this.nextStep)},advanceToNextFlow:function(){this.$router.push({name:"onboarding-flow-step-substep",params:{flow:this.$store.state.flow.config.advanceTo}},(function(){}),(function(){}))},ctaButtonClick:function(){this.isSubmitDisabled?this.$emit("disabledSubmit"):(this.mobileEventButtonClick(),this.$store.dispatch("flow/trackStepEvent",{eventAction:"click",eventType:"CTA",eventContent:this.buttonText,eventName:(0,c.default)(this,"subStep.tracking.ctaEvent")}),this.nextStep())},mobileEventButtonClick:function(){this.subStep.emitMobileEvent&&this.$nativeBridge.isAvailable()&&this.$nativeBridge[this.subStep.emitMobileEvent]&&this.$nativeBridge[this.subStep.emitMobileEvent]()},nextStep:function(){var t=this;this.subStep.submitButtonRoute?window.location=f.ROUTES[this.subStep.submitButtonRoute]:this.subStep.advanceOnSubmit&&this.$store.state.flow.userInFunnel?this.advanceToNextFlow():this.$refs.form?this.$refs.form.validate().then((function(){t.saveValidData()})).catch((function(e){t.$store.dispatch("flow/trackStepEvent",{eventAction:"error",eventContent:"validation error"})})):this.subStep.submit?this.submitData():this.transitionToNextStep()},saveValidData:function(){var t=this;this.$store.dispatch("flow/saveData",this.formData),this.subStep.submit?this.submitData():setTimeout((function(){t.transitionToNextStep()}),100)},updateInstantSyncFields:function(){var t=this,e=this.subStep.formSchema.fields.filter((function(t){return t.instantValueSync}));if(e.length){var n=(0,d.default)(e,(function(e,n){return(0,l.default)(e,n.model,(0,c.default)(t.formData,n.model)),e}),{});this.$store.dispatch("flow/saveData",n)}},submitData:function(){var t=this;this.submitting||(this.submitting=!0,this.errorMessage=null,this.$store.dispatch("flow/submitData").then((function(e){t.submitting=!1,e!==S.default.SUBSTEP_CONTROLS.PAUSE_STEP&&(t.$store.dispatch("flow/trackStepEvent",{eventAction:"succeed"}),t.$store.state.flow.userInFunnel&&t.$store.state.flow.config.advanceTo?t.advanceToNextFlow():t.transitionToNextStep())})).catch((function(e){var n=(0,c.default)(e.response,"data.errors",null);if(n&&!(0,u.default)(n)){var i=n[Object.keys(n)[0]];t.errorMessage=i.message?i.message:i[0]}else t.errorMessage=(0,c.default)(e.response,"data.message","An error occurred. Please try again later.");t.$nuxt.$emit("resetCaptcha"),t.$store.dispatch("flow/trackStepEvent",{eventAction:"error",eventContent:t.errorMessage}),t.submitting=!1})))},transitionToNextStep:function(){var t=this;this.isSubmitTransition=!0,this.$nuxt.$emit("flowStepExit"),this.updateTransition(),this.$nextTick((function(){t.isFormActive=!1}))},cloneStoreDataToFormData:function(){var t=this,e=(0,c.default)(this.subStep,"formSchema.fields");e&&(this.formData=r.default.apply(void 0,(0,a.default)(e.map((function(e){var n,i,a=e.model,o={};if((0,s.default)((0,c.default)(t.$store.state.flow.data,a)))if(null!==(n=e.preloadModel)&&void 0!==n&&n.storeGetter){var r=e.preloadModel.storeGetter,u=(0,c.default)(t.$store.getters,r);(0,l.default)(o,a,u)}else if(e.preloadModel&&"value"in e.preloadModel){var d;(0,l.default)(o,a,null===(d=e.preloadModel)||void 0===d?void 0:d.value)}else null!=e&&null!==(i=e.fieldOptions)&&void 0!==i&&i.preUploadedItems&&(0,l.default)(o,a,e.fieldOptions.preUploadedItems);else(0,l.default)(o,a,(0,c.default)(t.$store.state.flow.data,a));return o})))))},updateTransition:function(){var t="medium"===this.$mq||"small"===this.$mq;this.isSubmitTransition||this.initialTransition?this.transition=t?"slide-left":"slide-up":this.transition=t?"slide-right":"slide-down",this.initialTransition=!1},onBeforeTransition:function(){document.body.classList.add("transition--active")},onAfterTransition:function(){document.body.classList.remove("transition--active"),this.isFormActive||(this.isSubmitTransition?this.$store.dispatch("flow/proceedToNextStep"):this.isFormActive=!0)},onEnterKey:function(){if(!this.isButtonDisabled){if(this.isSubmitDisabled)return void this.$emit("disabledSubmit");this.nextStep()}},toggleHelp:function(){this.$nuxt.$emit("requestHelp")},updateValid:function(t){this.customComponentIsValid=t},handleCookieModalVisibility:function(t){this.cookieModalVisible=t},handleCookieBannerVisibility:function(t){this.cookieBannerVisible=t}}};e.default=O}}]);
//# sourceMappingURL=2eaaa45.js.map