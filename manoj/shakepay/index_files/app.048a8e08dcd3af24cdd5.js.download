!function(e){function n(n){for(var r,a,c=n[0],u=n[1],d=n[2],f=n[3]||[],l=0,h=[];l<c.length;l++)a=c[l],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(p&&p(n),s.push.apply(s,f);h.length;)h.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,n=0;n<i.length;n++){for(var t=i[n],r=!0,a=1;a<t.length;a++){var d=t[a];0!==o[d]&&(r=!1)}r&&(i.splice(n--,1),e=u(u.s=t[0]))}return 0===i.length&&(s.forEach((function(e){if(void 0===o[e]){o[e]=null;var n=document.createElement("link");u.nc&&n.setAttribute("nonce",u.nc),n.rel="prefetch",n.as="script",n.href=c(e),document.head.appendChild(n)}})),s.length=0),e}var r={},a={5:0},o={5:0},i=[],s=[];function c(e){return u.p+""+({1:"add-funds-btc-modal",2:"add-funds-eth-modal",3:"add-funds-etransfer-modal",4:"add-referral",6:"app-authenticator-modal",7:"card-modal",8:"company-directors-guard",9:"company-directors-progress",10:"confirmation",11:"confirmation-profile-details",12:"content-modal",13:"dashboard",14:"dashboard-add-funds",15:"dashboard-ads",16:"dashboard-exchange",17:"dashboard-header",18:"dashboard-home",19:"dashboard-id-verification-banner",20:"dashboard-navbar-mobile",21:"dashboard-onfido-verification-banner",22:"dashboard-profile",23:"dashboard-profile-api-keys",24:"dashboard-profile-info-card",25:"dashboard-profile-security-status",26:"dashboard-send",27:"dashboard-sidebar",28:"dashboard-transaction-guard",29:"dashboard-transaction-item",30:"dashboard-transactions",31:"dashboard-wallet-item",32:"dashboard-wallets",33:"determination-modal",34:"document-submissions-status",35:"document-submissions-unknown-intent",36:"document-submissions-upload",37:"document-upload",38:"error-box",39:"exchange-confirmation-modal",40:"exchange-error",41:"identity-confirmation",42:"individual-address-form",43:"individual-how-form",44:"individual-identity-form",45:"input-text",46:"kyc",47:"mfa-form",48:"profile-change-email-modal",49:"referral",50:"referrals-modal",51:"request-password-reset",52:"reset-password",53:"send-not-yet-modal",54:"send-wire-modal",55:"sign-in",56:"sign-up",57:"sign-up-business-company-details",58:"sign-up-business-directors",59:"sign-up-email-verification",60:"sign-up-individual-information",61:"sign-up-phone-verification",62:"signup-credentials",63:"success-box",64:"suspendAccount"}[e]||e)+".048a8e08dcd3af24cdd5.js"}function u(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(e){var n=[];a[e]?n.push(a[e]):0!==a[e]&&{4:1,7:1,10:1,11:1,13:1,14:1,16:1,17:1,19:1,20:1,21:1,23:1,24:1,25:1,26:1,27:1,29:1,30:1,31:1,33:1,34:1,35:1,36:1,37:1,39:1,41:1,42:1,44:1,45:1,46:1,47:1,49:1,51:1,52:1,55:1,56:1,60:1,61:1,64:1}[e]&&n.push(a[e]=new Promise((function(n,t){for(var r=({1:"add-funds-btc-modal",2:"add-funds-eth-modal",3:"add-funds-etransfer-modal",4:"add-referral",6:"app-authenticator-modal",7:"card-modal",8:"company-directors-guard",9:"company-directors-progress",10:"confirmation",11:"confirmation-profile-details",12:"content-modal",13:"dashboard",14:"dashboard-add-funds",15:"dashboard-ads",16:"dashboard-exchange",17:"dashboard-header",18:"dashboard-home",19:"dashboard-id-verification-banner",20:"dashboard-navbar-mobile",21:"dashboard-onfido-verification-banner",22:"dashboard-profile",23:"dashboard-profile-api-keys",24:"dashboard-profile-info-card",25:"dashboard-profile-security-status",26:"dashboard-send",27:"dashboard-sidebar",28:"dashboard-transaction-guard",29:"dashboard-transaction-item",30:"dashboard-transactions",31:"dashboard-wallet-item",32:"dashboard-wallets",33:"determination-modal",34:"document-submissions-status",35:"document-submissions-unknown-intent",36:"document-submissions-upload",37:"document-upload",38:"error-box",39:"exchange-confirmation-modal",40:"exchange-error",41:"identity-confirmation",42:"individual-address-form",43:"individual-how-form",44:"individual-identity-form",45:"input-text",46:"kyc",47:"mfa-form",48:"profile-change-email-modal",49:"referral",50:"referrals-modal",51:"request-password-reset",52:"reset-password",53:"send-not-yet-modal",54:"send-wire-modal",55:"sign-in",56:"sign-up",57:"sign-up-business-company-details",58:"sign-up-business-directors",59:"sign-up-email-verification",60:"sign-up-individual-information",61:"sign-up-phone-verification",62:"signup-credentials",63:"success-box",64:"suspendAccount"}[e]||e)+"."+{1:"31d6cfe0d16ae931b73c",2:"31d6cfe0d16ae931b73c",3:"31d6cfe0d16ae931b73c",4:"949cc5c0aeb6bd21c70f",6:"31d6cfe0d16ae931b73c",7:"16558c89aec5266632e6",8:"31d6cfe0d16ae931b73c",9:"31d6cfe0d16ae931b73c",10:"a0438c8f57977196ec7c",11:"1ce0ac16e2442b591bf9",12:"31d6cfe0d16ae931b73c",13:"973b2a2432d7356d6834",14:"08b65d4b094f829f319b",15:"31d6cfe0d16ae931b73c",16:"25580605a9b945bcbfff",17:"4167b170f3fcde99e5c0",18:"31d6cfe0d16ae931b73c",19:"f387b23d8ed20e8776c9",20:"e14601603c4d75165456",21:"18351f43a712ed1edff8",22:"31d6cfe0d16ae931b73c",23:"4b1739a7fc4d02ab2fd5",24:"9b87f5ffe968d8b6cd1e",25:"fd24ff0837728644c694",26:"622e1e129da5bda5a1b7",27:"d77c6036c5d04f9b972b",28:"31d6cfe0d16ae931b73c",29:"cf4cf5fc4b37b5cadd48",30:"64eaedfc68f076d7d0f2",31:"8af1603ac7067b1dc420",32:"31d6cfe0d16ae931b73c",33:"83b0446fe449859ce8a0",34:"fcbcb275d3cb3d814295",35:"8c2f7f978e323222e742",36:"18c92f263ae35aca0d46",37:"9b2b0423512be90c1f4c",38:"31d6cfe0d16ae931b73c",39:"2f0d4566588e05b91d73",40:"31d6cfe0d16ae931b73c",41:"4f0cdcbbf90a952ff51e",42:"d3faebd0fb8fb5ed53f0",43:"31d6cfe0d16ae931b73c",44:"186255a0e1bd2b0acdc8",45:"feafdaed9f64c57dfe3e",46:"72c3bcdff07b5b6b2722",47:"ee3c39e3f7ba38bc0abe",48:"31d6cfe0d16ae931b73c",49:"a3aafc34888e7b6a6b70",50:"31d6cfe0d16ae931b73c",51:"93699ec2f5c41115de05",52:"869233d3636985aca50e",53:"31d6cfe0d16ae931b73c",54:"31d6cfe0d16ae931b73c",55:"67c0fdf5fa1dac108ea3",56:"6559b8e38aaee2a64db5",57:"31d6cfe0d16ae931b73c",58:"31d6cfe0d16ae931b73c",59:"31d6cfe0d16ae931b73c",60:"8c880c646cf1359f5218",61:"bb827282479c4ea3c4a2",62:"31d6cfe0d16ae931b73c",63:"31d6cfe0d16ae931b73c",64:"7835eafa290b37e292be",65:"31d6cfe0d16ae931b73c",66:"31d6cfe0d16ae931b73c",67:"31d6cfe0d16ae931b73c",68:"31d6cfe0d16ae931b73c",69:"31d6cfe0d16ae931b73c",70:"31d6cfe0d16ae931b73c",71:"31d6cfe0d16ae931b73c",72:"31d6cfe0d16ae931b73c",73:"31d6cfe0d16ae931b73c",74:"31d6cfe0d16ae931b73c",75:"31d6cfe0d16ae931b73c",76:"31d6cfe0d16ae931b73c",77:"31d6cfe0d16ae931b73c",78:"31d6cfe0d16ae931b73c",79:"31d6cfe0d16ae931b73c",80:"31d6cfe0d16ae931b73c",81:"31d6cfe0d16ae931b73c",82:"31d6cfe0d16ae931b73c",83:"31d6cfe0d16ae931b73c",84:"31d6cfe0d16ae931b73c",85:"31d6cfe0d16ae931b73c",86:"31d6cfe0d16ae931b73c",87:"31d6cfe0d16ae931b73c",88:"31d6cfe0d16ae931b73c",89:"31d6cfe0d16ae931b73c",90:"31d6cfe0d16ae931b73c",91:"31d6cfe0d16ae931b73c"}[e]+".css",o=u.p+r,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var c=(f=i[s]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(c===r||c===o))return n()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){var f;if((c=(f=d[s]).getAttribute("data-href"))===r||c===o)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var r=n&&n.target&&n.target.src||o,i=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");i.request=r,delete a[e],l.parentNode.removeChild(l),t(i)},l.href=o,document.getElementsByTagName("head")[0].appendChild(l)})).then((function(){a[e]=0})));var t=o[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=o[e]=[n,r]}));n.push(t[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,u.nc&&s.setAttribute("nonce",u.nc),s.src=c(e);var d=new Error;i=function(n){s.onerror=s.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",d.name="ChunkLoadError",d.type=r,d.request=a,t[1](d)}o[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}var l={55:[47]}[e];return l&&l.forEach((function(e){if(void 0===o[e]){o[e]=null;var n=document.createElement("link");n.charset="utf-8",u.nc&&n.setAttribute("nonce",u.nc),n.rel="preload",n.as="script",n.href=c(e),document.head.appendChild(n)}})),Promise.all(n)},u.m=e,u.c=r,u.d=function(e,n,t){u.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},u.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,n){if(1&n&&(e=u(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)u.d(t,r,function(n){return e[n]}.bind(null,r));return t},u.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return u.d(n,"a",n),n},u.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},u.p="/",u.oe=function(e){throw console.error(e),e};var d=window.webpackJsonp=window.webpackJsonp||[],f=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var p=f,h=(i.push([409,0]),t());n([[],{},0,[0,16,10,11,14,18,22,26]])}({1002:function(e,n,t){"use strict";t.r(n);var r=t(26),a=t.n(r),o={name:"App"},i=(t(614),t(265)),s=Object(i.a)(o,(function(){var e=this.$createElement,n=this._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)}),[],!1,null,null,null).exports,c=t(140),u=t(20),d=t(401),f=t.n(d),l=t(402),p=t.n(l),h=t(408),m=t(403),b=t.n(m),v=t(141),g=t(404),w=t.n(g),y=t(262),E=t(405),T=t.n(E),k=t(399),S=(t(665),function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}),A=v.EnvService.getVariables();switch(A.NODE_ENV){case"qa2":case"qa":case"development":a.a.config.devtools=!0,a.a.config.productionTip=!0;break;case"production":a.a.config.devtools=!1,a.a.config.productionTip=!1}a.a.use(f.a),a.a.use(p.a,{appId:A.intercomAppId}),a.a.use(h.a),a.a.use(b.a,{id:A.segmentId,router:c.a}),a.a.use(w.a),a.a.use(T.a,{position:"top-center",hideProgressbar:!0,theme:"light",singular:!0}),a.a.component(y.a.name,y.a);new a.a({el:"#app",router:c.a,store:u.a,components:{App:s},template:"<App/>"});a.a.filter("formatNum",(function(e,n){if("NaN"===(e=function(e){if(/\d+\.?\d*e[\+\-]*\d+/i.test(e)){var n=String(e).toLowerCase().split("e"),t=n.pop(),r=Math.abs(t),a=t/r,o=n[0].split(".");if(-1===a)e="0."+new Array(r).join("0")+o.join("");else{var i=o[1];i&&(r-=i.length),e=o.join("")+new Array(r+1).join("0")}}return e}(e).toString()))return"";var t=n&&n.noThousandSeparator,r=e.split("."),a=S(r,2),o=a[0],i=void 0===o?"0":o,s=a[1],c=void 0===s?"0":s,u=t?i:i.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,");return n&&0===n.maxFraction?u:(n&&"CAD"!==n?"BTC"===n?n={minFraction:2,maxFraction:8}:"ETH"===n&&(n={minFraction:2,maxFraction:8}):n={minFraction:2,maxFraction:2},n.maxFraction&&(c=c.substring(0,n.maxFraction)),n.minFraction&&c.length<n.minFraction&&(c+=Array(n.minFraction-c.length).fill("0").join("")),u+"."+(c=c.replace(/^(\d{2,}?)0+$/,"$1")))})),a.a.filter("phone",(function(e){return e.replace(/[^0-9]/g,"").replace(/(\d{1})(\d{3})(\d{3})(\d{4})/,"+$1 ($2)-$3-$4")})),a.a.filter("capitalize",(function(e){return""+(e=e?e.toString():"").charAt(0).toUpperCase()+e.slice(1)})),a.a.filter("titleCase",(function(e){return e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))})),a.a.filter("formatDate",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LLL";return e&&Object(k.a)(e).format(n)}))},140:function(e,n,t){"use strict";var r=t(26),a=t.n(r),o=t(261),i=t(41),s=t.n(i),c=t(20),u=[{path:"/signup",redirect:"/signup/credentials",component:function(){return t.e(56).then(t.bind(null,1228))},beforeEnter:function(e,n,t){s.a.configure({showSpinner:!1}),s.a.start(),"signup-credentials"===e.name?t():window.sessionStorage.getItem("feathers-jwt")?c.a.dispatch("auth/authenticate",{strategy:"jwt",userToken:window.sessionStorage.getItem("feathers-jwt")}).then(t).catch((function(e){console.error(e),t("/signin")})):t("/signin")},children:[{path:"credentials",name:"signup-credentials",component:function(){return Promise.all([t.e(0),t.e(62)]).then(t.bind(null,1184))}},{path:"email-verification",name:"signup-email-verification",component:function(){return t.e(59).then(t.bind(null,1187))},beforeEnter:function(e,n,t){c.a.state.user.currentUser.isVerified?t("/signup/phone-verification"):t()}},{path:"phone-verification",name:"signup-phone-verification",component:function(){return t.e(61).then(t.bind(null,1185))},beforeEnter:function(e,n,t){e.query.phone||e.query.update||!c.a.state.user.currentUser.phoneVerified?t():t("/signup/personal-information")}},{path:"personal-information",name:"signup-personal-information",component:function(){return t.e(60).then(t.bind(null,1186))},beforeEnter:function(e,n,t){c.a.state.user.currentUser.companyDetailsId&&t("/signup/company-details"),0!=c.a.state.user.currentUser.kycLevel?t("/dashboard"):t()}},{path:"company-details",name:"signup-company-details",component:function(){return t.e(57).then(t.bind(null,1170))},beforeEnter:function(e,n,t){window.sessionStorage.getItem("feathers-jwt")&&(c.a.state.user||c.a.state.user.currentUser.companyDetailsId)?t():t("/signup/credentials")}},{path:"company-directors",name:"signup-company-directors",component:function(){return t.e(58).then(t.bind(null,1172))},beforeEnter:function(e,n,t){window.sessionStorage.getItem("feathers-jwt")&&(c.a.state.user||c.a.state.user.currentUser.companyDetailsId)?t():t("/signup/credentials")}}]}],d=t(69);var f,l,p=[{path:"/documents/:intent",component:function(){return t.e(46).then(t.bind(null,1188))},beforeEnter:(f=regeneratorRuntime.mark((function e(n,t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.configure({showSpinner:!1}),s.a.start(),!window.sessionStorage.getItem("feathers-jwt")){e.next=9;break}if(!n.params||"upgrade-limits"!==n.params.intent){e.next=6;break}return c.a.dispatch("auth/authenticate",{strategy:"jwt",userToken:window.sessionStorage.getItem("feathers-jwt")}).then(r).catch((function(){r("/signin?redirectTo="+n.path)})),e.abrupt("return");case 6:d.a.verifyToken(window.sessionStorage.getItem("feathers-jwt")).then(r).catch((function(e){console.error(e),r("/signin?redirectTo="+n.path)})),e.next=10;break;case 9:r("/signin?redirectTo="+n.path);case 10:case"end":return e.stop()}}),e,void 0)})),l=function(){var e=f.apply(this,arguments);return new Promise((function(n,t){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));n(s)}("next")}))},function(e,n,t){return l.apply(this,arguments)})},{path:"/documents",redirect:"/dashboard/wallets"},{path:"/kyc/upload",redirect:"/documents/upgrade-limits"},{path:"/kyc/upload-selfie",redirect:"/documents/upgrade-limits"}],h=[{path:"/dashboard",redirect:"/dashboard/wallets",component:function(){return t.e(13).then(t.bind(null,1189))},beforeEnter:function(e,n,t){s.a.configure({showSpinner:!1}),s.a.start(),window.sessionStorage.getItem("feathers-jwt")?c.a.dispatch("auth/authenticate",{strategy:"jwt",userToken:window.sessionStorage.getItem("feathers-jwt")}).then(c.a.dispatch("wallets/getWallets")).then(c.a.dispatch("rates/getRates")).then((function(){c.a.state.user&&c.a.state.user.currentUser&&c.a.state.user.currentUser.kycLevel<1?t("/signup/email-verification"):t()})).catch((function(n){console.error(n),t("/signin?redirectTo="+e.path)})):t("/signin?redirectTo="+e.path)},children:[{path:"wallets",name:"dashboard-wallets",component:function(){return t.e(18).then(t.bind(null,1190))}},{path:"add-funds",name:"dashboard-add-funds",component:function(){return t.e(14).then(t.bind(null,1191))}},{path:"buy-and-sell",name:"dashboard-exchange",component:function(){return Promise.all([t.e(0),t.e(16)]).then(t.bind(null,1173))}},{path:"send",name:"dashboard-send",component:function(){return t.e(26).then(t.bind(null,1192))}},{path:"profile",name:"dashboard-profile",component:function(){return t.e(22).then(t.bind(null,1193))}}]}],m=t(206);var b=[{path:"/account",beforeEnter:function(){var e=function(e){return function(){var n=e.apply(this,arguments);return new Promise((function(e,t){return function r(a,o){try{var i=n[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(n,t,r){var a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.a.configure({showSpinner:!1}),s.a.start(),!(a=window.sessionStorage.getItem("feathers-jwt"))){e.next=18;break}return e.next=6,d.a.verifyToken(a).catch((function(){r("/signin")}));case 6:if(o=e.sent,!Boolean(o.mfa)){e.next=13;break}c.a.commit("auth/SET_HAS_MFA_ENABLED",{hasMfaEnabled:!0}),m.a.next({user:null},{destination:"signin",soft:!0}),e.next=16;break;case 13:return e.next=15,c.a.dispatch("auth/authenticate",{strategy:"jwt",userToken:a});case 15:m.a.next({user:c.a.state.user.currentUser});case 16:e.next=19;break;case 18:r("/signin");case 19:case"end":return e.stop()}}),e,void 0)})));return function(n,t,r){return e.apply(this,arguments)}}()}];var v=[{path:"/add-referral",component:function(){return t.e(4).then(t.bind(null,1194))},beforeEnter:function(){var e=function(e){return function(){var n=e.apply(this,arguments);return new Promise((function(e,t){return function r(a,o){try{var i=n[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(n,t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.configure({showSpinner:!1}),s.a.start(),window.sessionStorage.getItem("feathers-jwt")?d.a.verifyToken(window.sessionStorage.getItem("feathers-jwt")).then(r).catch((function(e){console.error(e),r("/signin?redirectTo="+n.path)})):r("/signin?redirectTo="+n.path);case 3:case"end":return e.stop()}}),e,void 0)})));return function(n,t,r){return e.apply(this,arguments)}}()}];var g=[{path:"/suspend-account",component:function(){return t.e(64).then(t.bind(null,1195))},beforeEnter:function(){var e=function(e){return function(){var n=e.apply(this,arguments);return new Promise((function(e,t){return function r(a,o){try{var i=n[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));e(s)}("next")}))}}(regeneratorRuntime.mark((function e(n,t,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.a.configure({showSpinner:!1}),s.a.start(),window.sessionStorage.getItem("feathers-jwt")?d.a.verifyToken(window.sessionStorage.getItem("feathers-jwt")).then(r).catch((function(e){console.error(e),r("/signin?redirectTo="+n.path)})):r("/signin?redirectTo="+n.path);case 3:case"end":return e.stop()}}),e,void 0)})));return function(n,t,r){return e.apply(this,arguments)}}()}];function w(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)}var y=function(){return t.e(52).then(t.bind(null,1182))},E=function(){return t.e(10).then(t.bind(null,1171))};a.a.use(o.a);var T=function(e,n,t){window.sessionStorage.getItem("feathers-jwt")||t("/signin?redirectTo="+e.path),t()},k=[].concat(w(p),w(h),w(u),w(b),w(v),w(g)),S=[{path:"/signin",name:"signin",component:function(){return Promise.all([t.e(0),t.e(55)]).then(t.bind(null,1180))}},{path:"/request-password-reset",name:"request-password-reset",component:function(){return Promise.all([t.e(0),t.e(51)]).then(t.bind(null,1181))}},{path:"/reset-password",name:"reset-password",component:y},{path:"/reset-password/:token",name:"reset-password",component:y},{path:"/confirmation/transaction",name:"confirmation-transaction",meta:{confirmationType:"transaction"},component:E},{path:"/confirmation/email",name:"confirmation-email",meta:{confirmationType:"email"},component:E},{path:"/confirmation/suspend",name:"confirmation-suspend",meta:{confirmationType:"account-suspension"},component:E,beforeEnter:T},{path:"/confirmation/profile-details",name:"confirmation-profile-details",component:function(){return t.e(11).then(t.bind(null,1183))},beforeEnter:T},{path:"/confirmation/new-device",name:"confirmation-new-device",meta:{confirmationType:"device"},component:E},{path:"/confirmation/new-ip",name:"confirmation-new-ip",meta:{confirmationType:"IP address"},component:E},{path:"/referral",name:"referral",component:function(){return t.e(49).then(t.bind(null,1167))}}],A=new o.a({mode:"history",routes:[].concat(S,w(k)),scrollBehavior:function(e,n,t){return t||{x:0,y:0}}});A.afterEach((function(){s.a.done()}));n.a=A},141:function(e,n,t){var r={getVariables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceEnv,r=void 0===n?"production":n,a=void 0;switch(r){case"production":a=t(633);break;case"qa2":a=t(634);break;case"qa":a=t(635);break;case"development":default:a=t(636)}return a}};n.EnvService=r},20:function(e,n,t){"use strict";var r=t(26),a=t.n(r),o=t(205),i=t(69),s={namespaced:!0,state:{profile:null,isAccessTokenExpired:!1,hasMfaEnabled:!1,hasPasswordBeenReset:!1},getters:{isAuthenticated:function(e){return!!e.profile}},mutations:{SET_PROFILE:function(e,n){var t=n.profile;e.profile=t},SET_HAS_MFA_ENABLED:function(e,n){var t=n.hasMfaEnabled;e.hasMfaEnabled=t},SET_IS_ACCESS_TOKEN_EXPIRED:function(e,n){var t=n.isAccessTokenExpired;e.isAccessTokenExpired=t},SET_HAS_PASSWORD_BEEN_RESET:function(e,n){var t=n.hasPasswordBeenReset;e.hasPasswordBeenReset=t},SET_CREDENTIALS:function(e,n){var t=n.credentials;e.credentials=t}},actions:{authenticate:function(e,n){var t=e.commit,r=e.dispatch,a=n.username,o=n.password,s=n.userToken,c=n.mfaToken,u=n.strategy,d=n.rememberMfa,f=n.captchaToken,l=n.totpType,p=n.redirect;return i.a.authenticate({username:a,password:o,userToken:s,mfaToken:c,rememberMfa:d,captchaToken:f,totpType:l,redirect:p},{strategy:u}).then((function(e){return t("SET_HAS_PASSWORD_BEEN_RESET",{hasPasswordBeenReset:!1}),i.a.verifyToken(e).then((function(e){if(!e.mfa)return r("user/getUser",{id:e.userId},{root:!0});t("SET_HAS_MFA_ENABLED",{hasMfaEnabled:!0})}))})).catch((function(e){throw 401===e.code&&"expired_web_token"===e.data.code&&r("setExpiredSession"),console.error("Error in store/modules/auth@authenticate",{e:e}),e}))},setExpiredSession:function(e){var n=e.commit;n("SET_IS_ACCESS_TOKEN_EXPIRED",{isAccessTokenExpired:!0}),n("SET_PROFILE",{profile:null}),n("SET_HAS_MFA_ENABLED",{hasMfaEnabled:!1}),i.a.logout().then((function(){window.location.href="/signin?expired_session=true&redirectTo="+window.location.pathname}))},setCredentials:function(e,n){(0,e.commit)("SET_CREDENTIALS",{credentials:n})}}},c=t(267),u=t(320),d=t(321),f=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};var l,p,h={namespaced:!0,getters:{isCompany:function(e){return e.currentUser&&e.currentUser&&!!e.currentUser.companyDetailsId}},state:{currentUser:null,kycStatus:"closed"},mutations:{SET_USER:function(e,n){var t=n.currentUser;e.currentUser=t},SET_KYC_STATUS:function(e,n){e.kycStatus=n}},actions:{getUser:(l=regeneratorRuntime.mark((function e(n,t){var r,a,o,i,s,l=n.commit,p=t.id;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.getUser(p);case 3:return r=e.sent,e.next=6,u.a.identityConfirmationRequired();case 6:return a=e.sent,o=a.required,e.next=10,d.a.findPep();case 10:return i=e.sent,s=i.required,l("SET_USER",{currentUser:f({},r,{identityConfirmationRequired:o,pepAnswerRequired:s})}),window.sessionStorage.setItem("userId",r.id),window.sessionStorage.setItem("intercomHash",r.intercomHashes.web),e.abrupt("return",r);case 18:throw e.prev=18,e.t0=e.catch(0),console.error("Error in store/modules/user@getUser",{e:e.t0}),e.t0;case 22:case"end":return e.stop()}}),e,this,[[0,18]])})),p=function(){var e=l.apply(this,arguments);return new Promise((function(n,t){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));n(s)}("next")}))},function(e,n){return p.apply(this,arguments)}),getKycStatus:function(e,n){var t=e.commit;try{t("SET_KYC_STATUS",n)}catch(e){throw console.error("Error in store/modules/user@getKycStatus",{e:e}),e}}}},m=t(268),b={namespaced:!0,getters:{cad:function(e){return e.wallets&&e.wallets.length>0&&e.wallets.filter((function(e){return"CAD"===e.currency}))[0]},btc:function(e){return e.wallets&&e.wallets.length>0&&e.wallets.filter((function(e){return"BTC"===e.currency}))[0]},eth:function(e){return e.wallets&&e.wallets.length>0&&e.wallets.filter((function(e){return"ETH"===e.currency}))[0]}},state:{wallets:[]},mutations:{SET_WALLETS:function(e,n){var t=n.wallets;e.wallets=t}},actions:{getWallets:function(e){var n=e.commit;return m.a.getWallets().then((function(e){n("SET_WALLETS",{wallets:e})})).catch((function(e){throw console.error("Error in store/modules/wallets@getWallets",{e:e}),e}))}}},v=t(27),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.includeFees;return n?v.a.service("quote").find():v.a.service("quote").find({query:{includeFees:!0}})},w={namespaced:!0,state:{BTC_CAD:0,BTC_ETH:0,CAD_BTC:0,CAD_ETH:0,ETH_BTC:0,ETH_CAD:0},mutations:{SET_QUOTE:function(e,n){n.quotes.forEach((function(n){e[n.symbol]=n.rate}))}},actions:{getQuotes:function(e){var n=e.commit;return g().then((function(e){n("SET_QUOTE",{quotes:e})})).catch((function(e){throw console.error("Error in store/modules/quotes@getQuotes",{e:e}),e}))}}},y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};function E(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var T={namespaced:!0,state:{display:{},list:{},mmr:{}},mutations:{SET_DISPLAY_RATES:function(e,n){var t=n.values;e.display=y({},e.display,t)},SET_LIST_RATES:function(e,n){var t=n.values;e.list=y({},e.list,t)},SET_MMR_RATES:function(e,n){var t=n.values;e.mmr=y({},t)}},actions:{getRates:function(e){var n=e.commit,t=e.state;return g({includeFees:!0}).then((function(e){e.forEach((function(e){n("SET_DISPLAY_RATES",{values:E({},e.symbol,e.baseRate)}),n("SET_LIST_RATES",{values:E({},e.symbol,e.rate)})})),n("SET_MMR_RATES",{values:{BTC_CAD:(1/t.display.CAD_BTC+t.display.BTC_CAD)/2,CAD_BTC:(1/t.display.CAD_BTC+t.display.BTC_CAD)/2,ETH_CAD:(1/t.display.CAD_ETH+t.display.ETH_CAD)/2,CAD_ETH:(1/t.display.CAD_ETH+t.display.ETH_CAD)/2}})})).catch((function(e){throw console.error("Error in store/modules/rates@getRates",{e:e}),e}))}}},k=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S={namespaced:!0,state:{locale:{}},actions:{getLocale:function(e){var n=e.state,r=e.commit,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=a.lang,i=void 0===o?"en":o,s=a.module,c=void 0===s?null:s;if(!c)throw new Error("Error in store/modules/locale@getLocale: module cannot be null");t(662)("./"+i+"/"+c+".js").then((function(e){var t=k({},n.locale,e.default);r("SET_LOCALE",{module:c,locale:t})}))}},mutations:{SET_LOCALE:function(e,n){var t=n.module,r=n.locale;a.a.set(e.locale,t,r)}}};a.a.use(o.a);var A=new o.a.Store({modules:{auth:s,rates:T,user:h,wallets:b,quotes:w,locale:S}});n.a=A},200:function(e,n,t){},206:function(e,n,t){"use strict";var r=[{path:"dashboard/wallets",name:"dashboard-wallets",shouldRefresh:!0,onCheck:function(e){var n=e.user;return n.kycLevel>=1&&n.phoneVerified&&n.isVerified}},{path:"signup/company-details",name:"signup-company-details",shouldRefresh:!1,onCheck:function(e){var n=e.user;return n.companyDetailsId&&n.phoneVerified}},{path:"signup/email-verification",name:"signup-email-verification",shouldRefresh:!1,onCheck:function(e){return!e.user.isVerified}},{path:"signup/phone-verification",name:"signup-phone-verification",shouldRefresh:!1,onCheck:function(e){return!e.user.phoneVerified}},{path:"signup/personal-information",name:"signup-personal-information",shouldRefresh:!1,onCheck:function(e){var n=e.user;return 0===n.kycLevel&&!n.companyDetailsId}}],a=t(140);function o(e){return e?e.startsWith("/")?e:"/"+e:""}t.d(n,"a",(function(){return i}));var i={next:function(e){var n=e.user,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.destination,s=t.soft,c=o(i);!i||s?i&&s?a.a.push({name:i}):r.some((function(e){if(e.onCheck({user:n}))return e.shouldRefresh&&!s?window.location.replace(window.location.origin+"/"+e.path):a.a.push({name:e.name}),e})):window.location.replace(window.location.origin+c)}}},267:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(27),a={getUser:function(e){return r.a.service("users").get(e)},createUser:function(e){var n=e.email,t=e.username,a=e.password,o=e.referrerCode,i=e.isBusiness;return r.a.service("users").create({email:n,username:t,password:a,isBusiness:i,source:"web",referrerCode:o||null})},addReferral:function(e){return r.a.service("users/add-referral").create({referralCode:e})}}},268:function(e,n,t){"use strict";t.d(n,"a",(function(){return o}));var r=t(27),a=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,n){var t=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(t.push(i.value),!n||t.length!==n);r=!0);}catch(e){a=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw o}}return t}(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o={getWallets:function(){return r.a.service("wallets").find().then((function(e){return e.data}))},getBlockchainAddress:function(e,n){return r.a.service("wyre-wallets").find({query:{walletId:e}}).then((function(e){var t=a(e.data,1)[0];return"btc"===n?t.btc_address:"eth"===n?t.eth_address:void 0}))}}},27:function(e,n,t){"use strict";t.d(n,"a",(function(){return d}));var r=t(20);var a=t(615),o=t(622),i=t(141).EnvService,s=t(637),c=o(i.getVariables().serverUrl),u={error:function(e){401===e.error.code&&"expired_web_token"===e.error.data.code&&r.a.dispatch("auth/setExpiredSession")}},d=a().configure(c.superagent(s)).hooks(u);d.hooks({before:{all:[function(e){try{var n=window.sessionStorage.getItem("feathers-jwt");n&&(e.params.headers=(a=""+n,(r="Authorization")in(t={})?Object.defineProperty(t,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[r]=a,t))}catch(e){if(!navigator.cookieEnabled)throw new Error("Shakepay needs cookies to work properly. Please make sure to enable cookies before proceeding.");throw e}var t,r,a}]}})},320:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(27),a={identityConfirmationRequired:function(){return r.a.service("confirm-identity").find()},confirmIdentity:function(e){return r.a.service("confirm-identity").create(e)}}},321:function(e,n,t){"use strict";t.d(n,"a",(function(){return a}));var r=t(27),a={findPep:function(){return r.a.service("pep-answers").find()},answerPep:function(e){return r.a.service("pep-answers").create({confirmed:e})}}},409:function(e,n,t){t(410),e.exports=t(1002)},614:function(e,n,t){"use strict";var r=t(200);t.n(r).a},633:function(e,n){e.exports={NODE_ENV:"production",frontendUrl:"https://shakepay.com",serverUrl:"https://api.shakepay.com",quoteUrl:"https://api.shakepay.com/rates",cookieDomain:".shakepay.com",intercomAppId:"b3e33m1x",segmentId:"Q3ET3nI7tpLP7lNjNkBr0iLRjJGuY3jr",prefineryId:"lp8ybcmo",captchaSiteKey:"6LdY6-EUAAAAADu0ghIPhwTAhCW1eVdoMuebASVh"}},634:function(e,n){e.exports={NODE_ENV:"qa2",frontendUrl:"https://qa2.shakepay.dev",serverUrl:"https://api.qa2.shakepay.dev",quoteUrl:"https://api.qa2.shakepay.dev/rates",cookieDomain:".shakepay.dev",intercomAppId:"woqcmx1m",segmentId:"ER1Z4fm7KjeApEQwpvTjSdl52uxWqMbz",prefineryId:"8kfrzv96",captchaSiteKey:"6LfW5OEUAAAAAKwfYeOTiebTgevvT3ICQZv9WX-F"}},635:function(e,n){e.exports={NODE_ENV:"qa",frontendUrl:"https://web.qa.shakepay.dev",serverUrl:"https://api.qa.shakepay.dev",quoteUrl:"https://api.qa.shakepay.dev/rates",cookieDomain:".shakepay.dev",intercomAppId:"woqcmx1m",segmentId:"ER1Z4fm7KjeApEQwpvTjSdl52uxWqMbz",prefineryId:"8kfrzv96",captchaSiteKey:"6LfW5OEUAAAAAKwfYeOTiebTgevvT3ICQZv9WX-F"}},636:function(e,n){e.exports={NODE_ENV:"development",frontendUrl:"http://localhost:8090",serverUrl:"http://localhost:5000",quoteUrl:"http://localhost:5000/rates",cookieDomain:"localhost",intercomAppId:"woqcmx1m",segmentId:"ER1Z4fm7KjeApEQwpvTjSdl52uxWqMbz",prefineryId:"8kfrzv96",captchaSiteKey:"6LfW5OEUAAAAAKwfYeOTiebTgevvT3ICQZv9WX-F"}},662:function(e,n,t){var r={"./en/errors.js":[1004,9,65],"./en/marketing.about.js":[1009,7,66],"./en/marketing.card.js":[1010,7,67],"./en/marketing.careers.js":[1011,7,68],"./en/marketing.champions.js":[1012,7,69],"./en/marketing.charts.js":[1013,7,70],"./en/marketing.fees.js":[1014,7,71],"./en/marketing.footer.js":[1015,7,72],"./en/marketing.gift.js":[1016,7,73],"./en/marketing.holiday.js":[1017,7,74],"./en/marketing.homepage.js":[1018,7,75],"./en/marketing.navbar.js":[1019,7,76],"./en/marketing.security.js":[1020,7,77],"./en/marketing.shakepaid.js":[1021,7,78],"./fr/errors.js":[1005,9,79],"./fr/marketing.about.js":[1022,7,80],"./fr/marketing.card.js":[1023,7,81],"./fr/marketing.careers.js":[1024,7,82],"./fr/marketing.champions.js":[1025,7,83],"./fr/marketing.charts.js":[1026,7,84],"./fr/marketing.fees.js":[1027,7,85],"./fr/marketing.footer.js":[1028,7,86],"./fr/marketing.holiday.js":[1029,7,87],"./fr/marketing.homepage.js":[1030,7,88],"./fr/marketing.navbar.js":[1031,7,89],"./fr/marketing.security.js":[1032,7,90],"./fr/marketing.shakepaid.js":[1033,7,91]};function a(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[2]).then((function(){return t.t(a,n[1])}))}a.keys=function(){return Object.keys(r)},a.id=662,e.exports=a},664:function(e,n){function t(e){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}t.keys=function(){return[]},t.resolve=t,e.exports=t,t.id=664},665:function(e,n,t){},69:function(e,n,t){"use strict";t.d(n,"a",(function(){return f}));var r=t(27),a=t(141),o=t(266),i=t.n(o),s=t(400),c=t.n(s);var u,d,f={authenticate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.username,t=void 0===n?null:n,r=e.password,a=void 0===r?null:r,o=e.userToken,i=void 0===o?null:o,s=e.mfaToken,c=void 0===s?null:s,u=e.rememberMfa,d=void 0!==u&&u,f=e.captchaToken,l=void 0===f?null:f,p=e.totpType,h=void 0===p?"sms":p,m=e.redirect,b=void 0===m?null:m,v=arguments[1],g=v.strategy,w={};switch(g){case"local":w={strategy:"local",username:t,password:a,captchaToken:l,totpType:h,redirect:b};break;case"jwt":w={strategy:"jwt",accessToken:i};break;case"mfa":w={strategy:"mfa",mfaToken:c,rememberMfa:d};break;case"token":w={strategy:"token",accessToken:i}}return this._authenticate(w).then((function(e){return window.sessionStorage.setItem("feathers-jwt",e.data.accessToken),e.data.accessToken})).catch((function(e){throw console.error("Error in AuthService@authenticate",{error:e}),e.response}))},_authenticate:function(e){var n=a.EnvService.getVariables().serverUrl;return i.a.post(n+"/authentication",e,{headers:{Authorization:window.sessionStorage.getItem("feathers-jwt")},withCredentials:!0})},logout:(u=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r.a.service("authentication").remove(null);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:return e.prev=7,window.sessionStorage.clear(),e.finish(7);case 10:case"end":return e.stop()}}),e,this,[[0,5,7,10]])})),d=function(){var e=u.apply(this,arguments);return new Promise((function(n,t){return function r(a,o){try{var i=e[a](o),s=i.value}catch(e){return void t(e)}if(!i.done)return Promise.resolve(s).then((function(e){r("next",e)}),(function(e){r("throw",e)}));n(s)}("next")}))},function(){return d.apply(this,arguments)}),verifyToken:function(e){try{var n=c()(e);return Promise.resolve(n)}catch(e){throw window.sessionStorage.removeItem("feathers-jwt"),console.error("Failed to decode auth token:",{error:e}),{code:"TOKEN_EXPIRED",value:e}}},getPasswordResetCode:function(e,n){return r.a.service("reset-password").create({email:e,captchaToken:n})},checkResetPasswordToken:function(e){return r.a.service("reset-password").get(e)},resetPassword:function(e){var n=e.token,t=e.password;return r.a.service("reset-password").patch(null,{token:n,password:t})},sendVerificationEmail:function(){return r.a.service("authManagement").create({action:"resendVerifySignup"})},changeEmail:function(e){var n=e.currentEmail,t=e.password,a=e.newEmail;return r.a.service("authManagement").create({action:"identityChange",value:{password:t,user:{email:n},changes:{email:a}}})}}}});