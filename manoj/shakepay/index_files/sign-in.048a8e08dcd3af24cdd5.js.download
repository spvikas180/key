(window.webpackJsonp=window.webpackJsonp||[]).push([[55,65,79],{1004:function(e,t,s){"use strict";s.r(t),s.d(t,"ERRORS",(function(){return a}));var a={HTTP:{ERROR_500:"An internal server error occured on our end.",ERROR_503:"Shakepay is temporarily unavailable, please contact help@shakepay.com to know more.",ERROR_401:"You are not properly signed in to perform this action.",ERROR_403:"You do not have the rights to perform this action.",ERROR_404:"The resource you requested could not be found!",ERROR_DEFAULT:"An error has occured."},AUTH:{ERROR_500:"The username or email entered is already in use. Please try again.",ERROR_401:"The login credentials do not match our records. Please try again.",ERROR_ACCESS_AUTHORIZATION_REQUIRED:"New login detected, please verify your IP address through the security email we just sent you. It might have landed in your spam folder.",ERROR_DEFAULT:"Oops! Seems like we can't reach our servers to log you in. Please try again later.",ERROR_TOKEN_EXPIRED:"An error occured while trying to log you in. (Error code: Token Expired)"},SIGNUP:{ERROR_POSTAL:"Please enter a valid Canadian postal code.",ERROR_TOTAL_OWNERSHIP:"Total ownership of the company cannot exceed 100%",ERROR_INCORPORATION_NUMBER:"Incorporation number is required.",ERROR_INCORPORATION_PLACE:"Place of incorporation is required.",ERROR_PHONE:"Please enter a Canadian phone number.",ERROR_RELATIONSHIP:'Please give at least one answer for "Purpose of business relationship."',ERROR_BUSINESS_TYPE:"Please select at least one type of involvement of the business you represent."}}},1005:function(e,t,s){"use strict";s.r(t),s.d(t,"ERRORS",(function(){return a}));var a={HTTP:{ERROR_500:"Une erreur est survenue de notre côté.",ERROR_503:"Shakepay est temporairement inaccessible. Veuillez contacter help@shakepay.com pour plus d'information.",ERROR_401:"Vous n'êtes pas autorisé à performer cette action.",ERROR_403:"Vous ne possédez pas les permissions pour performer cette action.",ERROR_404:"La ressource recherchée n'est plus disponible!",ERROR_DEFAULT:"Une erreur est survenue."},AUTH:{ERROR_500:"Le courriel ou nom d'utilisateur est déjà utilisé. Veuillez rééessayer.",ERROR_401:"La combinaison nom d'utilisateur / mot de passe semble être incorrecte. Veuillez réessayer.",ERROR_DEFAULT:"Oops! Nous avons des difficultés à vous connecter. Veuillez réessayer plus tard.",ERROR_TOKEN_EXPIRED:"Une erreur est survenue lors de l'authentification. (Code erreur: Token Expired)"}}},1048:function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var a=s(1004),i=s(1005),r=function(){function e(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,s,a){return s&&e(t.prototype,s),a&&e(t,a),t}}();var n=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=t.type,a=void 0===s?"HTTP":s,i=t.code,r=void 0===i?"DEFAULT":i,n=t.locale,o=void 0===n?"en":n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=a,this.code=r,this.locale=o}return r(e,[{key:"message",get:function(){return"en"===this.locale?a.ERRORS[this.type]["ERROR_"+this.code]||a.ERRORS[this.type].ERROR_DEFAULT:i.ERRORS[this.type]["ERROR_"+this.code]||i.ERRORS[this.type].ERROR_DEFAULT}}]),e}()},1052:function(e,t,s){},1053:function(e,t,s){},1112:function(e,t,s){"use strict";var a=s(1052);s.n(a).a},1113:function(e,t,s){"use strict";var a=s(1053);s.n(a).a},1164:function(e,t,s){"use strict";s.r(t);var a=s(1006),i=s(1048),r=s(206),n=s(141),o=["/documents/","/suspend-account"],c=n.EnvService.getVariables(),l={data:function(){return{login:null,password:null,isLoading:!0,isDisabled:!0,errors:[],redirectTo:this.$route.query.redirectTo,siteKey:c.captchaSiteKey}},computed:{title:function(){var e=this.redirectTo||"";return e.startsWith("/kyc/upload-selfie")?"Shakepay photo upload":e.startsWith("/suspend-account")?"Suspend your account":"Sign in"},subtitle:function(){var e=this.redirectTo||"";return e.startsWith("/kyc/upload-selfie")?"Please sign in":e.startsWith("/suspend-account")?void 0:"to Shakepay"}},components:{captcha:a.a},methods:{signIn:function(e){var t=this;if(this.validateForm()){var s={username:this.login,password:this.password,captchaToken:e,strategy:"local",redirect:this.redirectTo};this.isLoading=!0,this.$store.dispatch("auth/authenticate",s).then((function(){t.isLoading=!1;var e=o.some((function(e){return t.redirectTo&&t.redirectTo.toLowerCase().startsWith(e)&&!t.redirectTo.toLowerCase().startsWith(e+"upgrade-limits")}));t.$store.state.auth.hasMfaEnabled&&!e?t.$store.dispatch("auth/setCredentials",s):(t.$segment.identify(window.sessionStorage.getItem("userId")),t.$segment.track("signed in"),r.a.next({user:t.$store.state.user.currentUser},{destination:t.$route.query.redirectTo||null}))})).catch((function(e){var s=e.data&&e.data.data&&e.data.data.code&&e.data.data.code.toUpperCase()||e.status;t.isLoading=!1,t.$refs.captcha.reset(),t.$segment.track("invalid credentials"),t.errors.push(new i.a({code:s,type:"AUTH"}).message)}))}else this.isLoading=!1},validateForm:function(){return this.errors=[],this.login||this.errors.push("Email cannot be empty"),this.password||this.errors.push("Password cannot be empty"),!this.errors.length},submitForm:function(){this.isLoading=!0,this.validateForm()?this.$refs.captcha.execute():this.isLoading=!1},onCaptchaError:function(){this.isLoading=!1,this.$refs.captcha.reset()},onCaptchaRendered:function(){this.isLoading=!1,this.isDisabled=!1}}},u=(s(1112),s(265)),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("form",{key:"login_form",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submitForm(t)}}},[s("h3",{staticClass:"title has-text-grey-dark has-text-centered"},[e._v(e._s(e.title))]),e._v(" "),e.subtitle?s("p",{staticClass:"subtitle has-text-grey has-text-centered"},[e._v(e._s(e.subtitle))]):s("br"),e._v(" "),s("div",{staticClass:"stay-safe"},[s("div",{staticClass:"bubble"},[s("i",{staticClass:"fas fa-lock has-text-grey-light"}),e._v(" "),s("span",{staticClass:"has-text-weight-medium"},[e._v("shakepay.com")]),s("span",{staticClass:"has-text-grey has-text-weight-medium"},[e._v(e._s(e.$route.path))])]),e._v(" "),s("p",{staticClass:"is-size-7 has-text-grey-dark"},[e._v("\n      Stay safe! Confirm the URL is legitimate before typing in your login credentials\n    ")])]),e._v(" "),s("div",{staticClass:"field"},[s("label",{staticClass:"label has-text-left"},[e._v("Email")]),e._v(" "),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.login,expression:"login"}],staticClass:"input",attrs:{type:"text",placeholder:"Email",autofocus:"",maxlength:"60",name:"login",required:"",tabindex:"1"},domProps:{value:e.login},on:{input:[function(t){t.target.composing||(e.login=t.target.value)},function(t){e.login=e.login.toLowerCase().trim()}]}}),e._v(" "),e._m(0)])]),e._v(" "),s("div",{staticClass:"field is-last"},[s("label",{staticClass:"label has-text-left"},[e._v("Password")]),e._v(" "),s("div",{staticClass:"control has-icons-left"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"Password",maxlength:"256",name:"password","data-name":"password",id:"password",required:"",tabindex:"2"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),e._v(" "),e._m(1)])]),e._v(" "),s("captcha",{ref:"captcha",staticStyle:{"margin-bottom":"12px",display:"none"},attrs:{size:"invisible",sitekey:e.siteKey,loadRecaptchaScript:!0},on:{verify:e.signIn,expired:e.onCaptchaError,error:e.onCaptchaError,render:e.onCaptchaRendered}}),e._v(" "),s("button",{staticClass:"button is-info is-fullwidth",class:{"is-loading":e.isLoading,"is-disabled":e.isDisabled},attrs:{type:"submit",disabled:e.isDisabled,tabindex:"3"}},[e._v("Sign in")]),e._v(" "),e.errors.length?s("article",{staticClass:"message is-danger signin-error"},[s("div",{staticClass:"message-body"},[s("ul",{staticClass:"has-text-left"},e._l(e.errors,(function(t){return s("li",{key:t},[e._v(e._s(t))])})))])]):e._e()],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-user"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("span",{staticClass:"icon is-small is-left"},[t("i",{staticClass:"fas fa-lock"})])}],!1,null,"d1e915f6",null);t.default=d.exports},1180:function(e,t,s){"use strict";s.r(t);var a={components:{"credentials-form":s(1164).default,"mfa-form":function(){return s.e(47).then(s.bind(null,1196))}}},i=(s(1113),s(265)),r=Object(i.a)(a,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",{staticClass:"hero is-fullheight"},[s("article",{staticClass:"message is-info"},[e.$store.state.auth.isAccessTokenExpired||e.$route.query.expired_session?s("div",{staticClass:"message-body has-text-centered"},[s("strong",[e._v("We signed you out")]),e._v(" to make sure your session is safe. Please sign in again.\n    ")]):e._e()]),e._v(" "),e.$store.state.auth.hasPasswordBeenReset?s("article",{staticClass:"message is-success"},[e._m(0)]):e._e(),e._v(" "),s("div",{staticClass:"hero-body"},[s("div",{staticClass:"container"},[s("div",{staticClass:"column is-4 is-offset-4"},[s("div",{staticClass:"box has-text-centered"},[e._m(1),e._v(" "),s("transition",{attrs:{name:"slide-fade-horizontal",mode:"out-in"}},[e.$store.state.auth.hasMfaEnabled?s("mfa-form"):s("credentials-form")],1)],1),e._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!e.$store.state.auth.hasMfaEnabled,expression:"!$store.state.auth.hasMfaEnabled"}],staticClass:"has-text-grey has-text-centered"},[s("router-link",{attrs:{to:{name:"signup-credentials"}}},[e._v("Sign up")]),e._v(" · \n          "),s("router-link",{staticClass:"signup-link",attrs:{to:{name:"request-password-reset"}}},[e._v("Reset password")])],1)])])])])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"message-body has-text-centered"},[t("span",[this._v("Your password has been reset!")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("a",{attrs:{href:"/"}},[t("img",{staticClass:"signin-logo",attrs:{src:"/images/sq.png"}})])}],!1,null,"822409c4",null);t.default=r.exports}}]);