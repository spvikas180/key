/* Minification failed. Returning unminified contents.
(77,76-77): run-time error JS1010: Expected identifier: .
(77,76-77): run-time error JS1195: Expected expression: .
(77,89-93): run-time error JS1034: Unmatched 'else'; no 'if' defined: else
 */
ko.bindingHandlers.fileUpload={init:function(n,t,i){var r=i().fileUploadOptions,f=r.dropControl||".drop-zone",e=r.irDocumentType,o=AAT.utils.createDropZone($(f)),u=t();$(n).fileupload({url:r.url,paramName:r.paramName,maxFilePerMessage:r.maxFilePerMessage,maxFileSize:r.maxFileSize,acceptFileTypes:r.acceptFileTypes,dropZone:o,formData:[{name:"IrDocumentType",value:e}]}).on("fileuploadadd",u.onFileUploadAdd).on("fileuploadprocessalways",u.onFileUploadAdded).on("fileuploadalways",u.onFileUploadCallback)}};
function ConfirmDialogViewModel(n){var t=this;t.header=n.header?n.header:"Please confirm your action.";t.content=n.content?n.content:"Click OK to confirm your action.";t.template=n.template?n.template:null;t.invoker=n.invoker?n.invoker:null;t.confirmCallback=n.confirmCallback?n.confirmCallback:null;t.processResult=n.processResult||!1;t.cancelCallback=n.cancelCallback?n.cancelCallback:null;t.hideCallback=n.hideCallback?n.hideCallback:null;t.confirmButtonText=n.confirmButtonText?n.confirmButtonText:"OK";t.cancelButtonText=n.cancelButtonText?n.cancelButtonText:"Cancel";t.dialogModel=n.dialogModel||null;t.dialog=null;t.confirm=function(n,i){if(t.processResult||t.close(),t.confirmCallback){var r=$(i.target);r.button("loading");t.confirmCallback(t.dialogModel,function(){r.button("reset")})}};t.cancel=function(){t.close();t.cancelCallback&&(t.dialogModel&&(t.dialogModel=ko.toJS(t.dialogModel)),t.cancelCallback(t.dialogModel))};t.show=function(){if(t.dialog=t.template?t.template.find(".modal"):null,t.dialog){if(t.dialog.modal(),t.hideCallback)t.dialog.on("hide",function(){t.hideCallback(t.dialogModel,t.invoker)});t.dialog.modal("show")}};t.close=function(){if(t.dialog){t.dialog.modal("hide");t.dialog.on("hidden",function(){t.template.remove()})}}};
ko.bindingHandlers.confirmClick={init:function(n,t,i,r,u){var f=function(){return{click:function(){var i,r,u;return $(n).attr("disabled")?!1:(i=t(),i.confirmCallback=function(n){i.click(n)},r=$("<div data-bind=\"template: { name: 'confirmDialogTemplate' }\"><\/div>"),$("body").append(r),i.template=r,u=new ConfirmDialogViewModel(i),ko.applyBindings(u,r[0]),u.show(),!0)}}};return ko.bindingHandlers.event.init.call(this,n,f,i,r,u)}};
function ImageDialogViewModel(n){var t=this;t.header=n.header?n.header:"View Image";t.Filename=n.Filename?n.Filename:null;t.Url=n.Url?n.Url:null;t.template=n.template?n.template:null;t.invoker=n.invoker?n.invoker:null;t.processResult=n.processResult||!1;t.cancelCallback=n.cancelCallback?n.cancelCallback:null;t.hideCallback=n.hideCallback?n.hideCallback:null;t.cancelButtonText=n.cancelButtonText?n.cancelButtonText:"Close";t.dialogModel=n.dialogModel||null;t.dialog=null;t.confirm=function(){t.processResult||t.close()};t.cancel=function(){t.close();t.cancelCallback&&(t.dialogModel&&(t.dialogModel=ko.toJS(t.dialogModel)),t.cancelCallback(t.dialogModel))};t.show=function(){if(t.ContentType&&!t.ContentType.includes("image")){window.open(t.Url(),"_blank","noopener");return}if(t.dialog=t.template?t.template.find(".modal"):null,t.dialog){if(t.dialog.modal(),t.hideCallback)t.dialog.on("hide",function(){t.hideCallback(t.dialogModel,t.invoker)});t.dialog.modal("show")}};t.close=function(){if(t.dialog){t.dialog.modal("hide");t.dialog.on("hidden",function(){t.template.remove()})}};t.ContentType=n.contentType};
ko.bindingHandlers.imageClick={init:function(n,t,i,r,u){var f=function(){return{click:function(){var r,i,u;return $(n).attr("disabled")?!1:(r=t(),i=$("<div data-bind=\"template: { name: 'imageDialogTemplate' }\"><\/div>"),$("body").append(i),r.template=i,u=new ImageDialogViewModel(r),ko.applyBindings(u,i[0]),u.show(),!0)}}};return ko.bindingHandlers.event.init.call(this,n,f,i,r,u)}};
ko.bindingHandlers.calendar={init:function(n,t){var u=ko.utils.unwrapObservable(t()),i=$(n),r;i.val(u);i.attr("data-format","YYYY-MM-DD");i.attr("data-template","D MMM YYYY");i.combodate();i.hasAttr("data-validate-calendar")&&(r=i.parent(),r.find("select.day").attr("data-validate","").attr("data-validate-not-empty","Select day"),r.find("select.month").attr("data-validate","").attr("data-validate-not-empty","Select month"),r.find("select.year").attr("data-validate","").attr("data-validate-not-empty","Select year"));$(n).on("change",function(){t()($(n).combodate("getValue"))})},update:function(n,t){var i=ko.utils.unwrapObservable(t());$(n).combodate("setValue",i)}};
ko.bindingHandlers.datepicker={init:function(n,t,i){var u={defaultDate:t()()},r;i()!==undefined&&(r=i().datepickerOptions,r&&ko.bindingHandlers.datepicker.installCustomOptions(u,r));$(n).datetimepicker(u);ko.utils.registerEventHandler(n,"changeDate",function(n){var i=t();ko.isObservable(i)&&i(n.localDate)})},update:function(n,t,i){if(i().datepickerOptions&&i().datepickerOptions.customUpdate)i().datepickerOptions.customUpdate(n,t);else{var r=t(),u=ko.utils.unwrapObservable(r());r(u)}},installCustomOptions:function(n,t){for(var i in t)n[i]=t[i]}};
ko.bindingHandlers.popover={init:function(n,t){var i=ko.utils.unwrapObservable(t());$(n).popover(i)}};
ko.bindingHandlers.numberWithCommas={update:function(n,t){var i=ko.utils.unwrapObservable(t());$.isNumeric(i)&&(i=numberWithCommas(i));$(n).text(i)}};
ko.bindingHandlers.element={init:function(n,t){var i=t();i(n)}};
ko.bindingHandlers.datetime={update:function(n,t){var r=ko.utils.unwrapObservable(t()),i;if(!r){$(n).text("");return}i=moment(r);i.isValid()&&$(n).text(i.format("DD MMM YYYY HH:mm:ss"))}};
ko.bindingHandlers.copybutton={init:function(n,t){var i=ko.utils.unwrapObservable(t());$(n).attr("data-clipboard-text",i);new IR.ClipboardManager($(n))}};
function tokenChanged(){__tokenChanged=!0}function formatValue(n,t){return t?String.format(n,t):""}function formatDecimal(n){return isNaN(n)?"0":n.localeFormat("n2")}function formatNumber(n,t,i,r){if(n==null||isNaN(n)||n==="")return"";var f=n,e=isNaN(e=Math.abs(t))?2:t,h=i==undefined?".":i,s=r==undefined?",":r,c=f<0?"-":"",o=parseInt(f=Math.abs(+f||0).toFixed(e))+"",u=(u=o.length)>3?u%3:0;return c+(u?o.substr(0,u)+s:"")+o.substr(u).replace(/(\d{3})(?=\d)/g,"$1"+s)+(e?h+Math.abs(f-o).toFixed(e).slice(2):"")}function htmlEncode(n){return n?$("<div />").text(n).html():""}function htmlDecode(n){return n?$("<div />").html(n).text():""}function numberWithCommas(n){var t=n.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}var antiForgeryChecker,__tokenChanged,dateFormat;window.AAT==null&&(window.AAT={});__tokenChanged=!1;$(function(){antiForgeryChecker=new IR.AntiForgeryChecker;$(document).bind("ajaxSend",function(n,t){var i=$("[name=__RequestVerificationToken]").val();t.setRequestHeader("__RequestVerificationToken",i)})});AAT.utils={isTimeFormatCorrect:function(n){var i=!1,t;return(t=n.match(/^\s*([01]?\d|2[0-3]):?([0-5]\d)\s*$/))&&(i=(t[1].length==2?"":"0")+t[1]+":"+t[2]),i},isEmailCorrect:function(n){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(n)},isGuidCorrect:function(n){return/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/.test(n)},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)})},showGeneralError:function(){AAT.utils.sendToLog("There was an error, please try again later.")},sendToLog:function(n){typeof console!="undefined"&&console.log(n)},showModal:function(n,t,i){$(".modal-dialog-back").show({duration:0,complete:function(){$(n).addClass("modal-dialog").show({duration:0,complete:function(){t&&$(t).focus();i!=null&&i()}})}})},hideModal:function(){$(".modal-dialog-back").hide();$(".modal-dialog").hide();$(".modal-dialog").removeClass("modal-dialog")},isNumber:function(n){return!isNaN(parseFloat(n))&&isFinite(n)},decimalPlaces:function(n){var t=(""+n).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return t?Math.max(0,(t[1]?t[1].length:0)-(t[2]?+t[2]:0)):0},confirm:function(n,t,i,r,u,f,e,o,s){var h=$("#msgModal"),l=h.is(":visible"),c;e=e||"cancel";$("h3","#msgModal .modal-header").html(n);$("p","#msgModal .modal-body").html(t);h.attr("data-save-button-pressed","false");c=$(".modal:visible");!l&&c.size()>0&&c.modal("hide");h.unbind("hidden").on("hidden",function(){!l&&c.size()>0&&c.modal("show");h.attr("data-save-button-pressed")!="true"&&f!=null&&f()});return $(".cancelButton","#msgModal .modal-footer").text(e),$(".cancelButton","#msgModal .modal-footer").toggle(!s),$(".confirmButton","#msgModal .modal-footer").toggle(!o),$(".confirmButton","#msgModal .modal-footer").resetPressed().text(i).removeClass("btn-warning").removeClass("btn-danger").removeClass("btn-success").addClass(r).unbind("click").click(function(){$(this).canPress()&&(h.attr("data-save-button-pressed","true"),$(".confirmButton","#msgModal .modal-footer").unbind("click"),u!=null?u():h.modal("hide"),$(this).resetPressed())}),h.irModal("show"),h},dateFormat:null,dateTemplate:null,dateTomorrow:null,handleCalendars:function(n,t,i){n!=null&&(AAT.utils.dateFormat=n);t!=null&&(AAT.utils.dateTemplate=t);i!=null&&(AAT.utils.dateTomorrow=i);$("[data-toggle=calendar]").each(function(){var n=$(this),t;n.attr("data-toggle-processed")||(n.attr("data-toggle-processed",!0),n.attr("data-format",AAT.utils.dateFormat),n.attr("data-template",AAT.utils.dateTemplate),n.combodate(),n.hasAttr("data-validate-calendar")&&(t=n.parent(),t.find("select.day").attr("data-validate","").attr("data-validate-not-empty","Select day"),t.find("select.month").attr("data-validate","").attr("data-validate-not-empty","Select month"),t.find("select.year").attr("data-validate","").attr("data-validate-not-empty","Select year")))})},calendarFixModal:function(n){var t=$.fn.modal.Constructor.prototype.enforceFocus;$.fn.modal.Constructor.prototype.enforceFocus=function(){};n.on("hidden",function(){$.fn.modal.Constructor.prototype.enforceFocus=t})},handleToggles:function(){$('[data-toggle="tooltip"]').attr("tabindex",-1).tooltip();$('[data-toggle="popover"]').attr("tabindex",-1).each(function(){var n=$(this).hasAttr("data-container")?$(this).attr("data-container"):"body";$(this).irPopover({container:n})})},removeCommas:function(n){return n.replace(/,/g,"")},isString:function(n){return typeof n=="string"},isAmchartsReady:!1,amchartsReadyHandlers:[],setAmchartsReady:function(){var n,t;if(!AAT.utils.isAmchartsReady)for(AAT.utils.isAmchartsReady=!0,n=0;n<AAT.utils.amchartsReadyHandlers.length;n++)t=AAT.utils.amchartsReadyHandlers[n],t()},subscribeForAmchartsReady:function(n){AAT.utils.isAmchartsReady?n():AAT.utils.amchartsReadyHandlers.push(n)},initAmcharts:function(){AmCharts.isReady?AAT.utils.setAmchartsReady():(AmCharts.ready(AAT.utils.setAmchartsReady),setTimeout(function(){AAT.utils.isAmchartsReady||AAT.utils.setAmchartsReady()},5e3))},createDropZone:function(n,t){return t||(t=$(".dropover"),t.size()==0&&(t=$('<div class="dropover hide"><\/div>'),$(document.body).append(t))),$(document).bind("dragover",function(i){var f=window.dropZoneTimeout,u,r;f&&clearTimeout(f);u=!1;r=i.target;do{if(r===n[0]){u=!0;break}r=r.parentNode}while(r!=null);u&&t.css({top:n.offset().top+"px",left:n.offset().left+"px",height:n.outerHeight()+"px",width:n.outerWidth()+"px"}).show();window.dropZoneTimeout=setTimeout(function(){window.dropZoneTimeout=null;t.hide()},100)}),$(document).bind("drop dragover",function(n){n.preventDefault()}),t},getCryptoPrefix:function(n){var t={btc:"bitcoin:",eth:"ether:",bch:"bitcoincash:",bsv:"bitcoincashsv:",ltc:"litecoin:",xrp:"ripple:",eos:"eos:",xlm:"stellar:",etc:"ethereumclassic:",dot:"polkadot:",ada:"ada:",doge:"dogecoin:",sol:"solana:"};return t.hasOwnProperty(n.toLowerCase())?t[n.toLowerCase()]:(sendToLog("there is no known prefix for {0} currency".f(n.toLowerCase())),n+":")},getBlockExplorerBlockLinkTemplate:function(n){return{btc:"https://blockchain.com/btc/block-height/{0}",eth:"https://etherscan.io/block/{0}",bch:"https://blockchair.com/bitcoin-cash/block/{0}?from=independentreserve",bsv:"https://blockchair.com/bitcoin-sv/block/{0}?from=independentreserve",ltc:"https://blockchair.com/litecoin/block/{0}?from=independentreserve",xrp:"",eos:"",xlm:"",etc:"",dot:"",ada:"",doge:"",sol:""}[$.getRootCurrency(n).toLowerCase()]},getBlockExplorerTransactionLinkTemplate:function(n){var t={btc:"https://blockchain.com/btc/tx/{0}",eth:"https://etherscan.io/tx/{0}",etc:"https://blockscout.com/etc/mainnet/tx/{0}",bch:"https://blockchair.com/bitcoin-cash/transaction/{0}?from=independentreserve",bsv:"https://blockchair.com/bitcoin-sv/transaction/{0}?from=independentreserve",ltc:"https://blockchair.com/litecoin/transaction/{0}?from=independentreserve",xrp:"https://xrpscan.com/tx/{0}",eos:"https://bloks.io/transaction/{0}",xlm:"https://steexp.com/tx/{0}",dot:"https://polkadot.subscan.io/extrinsic/{0}",ada:"https://explorer.cardano.org/en/transaction?id={0}",doge:"https://blockchair.com/dogecoin/transaction/{0}?from=independentreserve",sol:"https://explorer.solana.com/tx/{0}"+(AAT.utils.isProductionEnvironment()?"":"?cluster=devnet")};return t[$.getRootCurrency(n).toLowerCase()]},getBlockExplorerAddressLinkTemplate:function(n){var t={btc:"https://blockchain.com/btc/address/{0}",eth:"https://etherscan.io/address/{0}",etc:"https://blockscout.com/etc/mainnet/address/{0}/transactions",bch:"https://blockchair.com/bitcoin-cash/address/{0}?from=independentreserve",bsv:"https://blockchair.com/bitcoin-sv/address/{0}?from=independentreserve",ltc:"https://blockchair.com/litecoin/address/{0}?from=independentreserve",xrp:"https://xrpscan.com/account/{0}",eos:"https://bloks.io/account/{0}",xlm:"https://steexp.com/account/{0}",dot:"https://polkadot.subscan.io/account/{0}",ada:"https://explorer.cardano.org/en/address?address={0}",doge:"https://blockchair.com/dogecoin/address/{0}?from=independentreserve",sol:"https://explorer.solana.com/address/{0}"+(AAT.utils.isProductionEnvironment()?"":"?cluster=devnet")};return t[$.getRootCurrency(n).toLowerCase()]},isProductionEnvironment:function(){return!$("body").data("env")},escape:function(n){return $("<div>").text(n).html()},toPascalCaseObject:function(n){return typeof n!="object"&&val!==null?n:Array.isArray(n)?n.map(AAT.utils.toPascalCaseObject):Object.keys(n).reduce(function(t,i){let r=n[i],u=typeof r=="object"&&r!==null?AAT.utils.toPascalCaseObject(r):r;var f=i.charAt(0).toUpperCase()+i.slice(1);return t[f]=u,t},{})}};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.replaceAll||(String.prototype.replaceAll=function(n,t){for(var i=this;i.indexOf(n)>=0;)i=i.replace(n,t);return i});String.prototype.specialUnescape||(String.prototype.specialUnescape=function(){return this.replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&#xD;","\n")});String.prototype.startsWith||(String.prototype.startsWith=function(n,t){return t=t||0,this.indexOf(n,t)===t});String.prototype.format=String.prototype.f=function(){for(var n=this,t=arguments.length;t--;)n=n.replace(new RegExp("\\{"+t+"\\}","gm"),arguments[t]);return n};String.format=String.f=function(){for(var i=arguments[0],t=[],n=1;n<arguments.length;++n)t.push(arguments[n]);return String.prototype.format.apply(i,t)};dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,r=/[^-+\dA-Z]/g,n=function(n,t){for(n=String(n),t=t||2;n.length<t;)n="0"+n;return n};return function(u,f,e){var h=dateFormat;if(arguments.length!=1||Object.prototype.toString.call(u)!="[object String]"||/\d/.test(u)||(f=u,u=undefined),u=u?new Date(u):new Date,isNaN(u))throw SyntaxError("invalid date");f=String(h.masks[f]||f||h.masks["default"]);f.slice(0,4)=="UTC:"&&(f=f.slice(4),e=!0);var o=e?"getUTC":"get",c=u[o+"Date"](),y=u[o+"Day"](),l=u[o+"Month"](),p=u[o+"FullYear"](),s=u[o+"Hours"](),w=u[o+"Minutes"](),b=u[o+"Seconds"](),a=u[o+"Milliseconds"](),v=e?0:u.getTimezoneOffset(),k={d:c,dd:n(c),ddd:h.i18n.dayNames[y],dddd:h.i18n.dayNames[y+7],m:l+1,mm:n(l+1),mmm:h.i18n.monthNames[l],mmmm:h.i18n.monthNames[l+12],yy:String(p).slice(2),yyyy:p,h:s%12||12,hh:n(s%12||12),H:s,HH:n(s),M:w,MM:n(w),s:b,ss:n(b),l:n(a,3),L:n(a>99?Math.round(a/10):a),t:s<12?"a":"p",tt:s<12?"am":"pm",T:s<12?"A":"P",TT:s<12?"AM":"PM",Z:e?"UTC":(String(u).match(i)||[""]).pop().replace(r,""),o:(v>0?"-":"+")+n(Math.floor(Math.abs(v)/60)*100+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return f.replace(t,function(n){return n in k?k[n]:n.slice(1,n.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};Date.prototype.format=function(n,t){return dateFormat(this,n,t)};String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1).toLowerCase()};
window.ir==null&&(window.ir={});ir.math={decimal:function(n){return new Decimal(n)},min:function(n,t){return Decimal.min(n,t).toString()},add:function(n,t){return Decimal.add(n,t).toString()},sub:function(n,t){return Decimal.sub(n,t).toString()},mul:function(n,t){return Decimal.mul(n,t).toString()},div:function(n,t){return Decimal.div(n,t).toString()},lower:function(n,t){return n=new Decimal(n),t=new Decimal(t),n.cmp(t)<0},greater:function(n,t){return n=new Decimal(n),t=new Decimal(t),n.cmp(t)>0},cmp:function(n,t){return this.compare(n,t)},compare:function(n,t){return n=new Decimal(n),t=new Decimal(t),n.cmp(t)},removeTrailingZeros:function(n){return new Decimal(n).toString()},valuable:function(n,t,i){var r=window.currencyManager.getCurrencyConfiguration(t),u=i?r.TradingValuableDecimalPlaces:r.ValuableDecimalPlaces;return new Decimal(n).toFixed(u,1)},visible:function(n,t,i){var r=window.currencyManager.getCurrencyConfiguration(t),u=i?r.TradingVisibleDecimalPlaces:r.VisibleDecimalPlaces;return new Decimal(n).toFixed(u,1)},price:function(n,t){var i=window.currencyManager.getCurrencyConfiguration(t),r=i.FiatPriceDecimalPlaces;return new Decimal(n).toFixed(r,1)},round:function(n,t){return+(Math.round(new Decimal(n)+"e+"+t)+"e-"+t)},aboveZero:function(n){return this.compare(n,0)>0},gst:function(n,t){var i=this.add(1,t),r=this.div(1,i),u=this.sub(1,r);return this.mul(n,u)},getDecimalPlaces:function(n){var t=new Decimal(n);return t.dp()},truncate:function(n,t){return(Math.floor(n*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)},trimTrailingZeroes:function(n,t){var i=ir.math.getDecimalPlaces(n),r=i>t?i:t;return this.round(n,r)}};
window.ir==null&&(window.ir={});ir.calendarHelper={getAge:function(n){var t=new Date,i=new Date(n),r=t.getFullYear()-i.getFullYear(),u=t.getMonth()-i.getMonth();return(u<0||u===0&&t.getDate()<i.getDate())&&r--,r}};
window.ir==null&&(window.ir={});$(function(){window.Vue&&Vue.directive("focus",{inserted:function(n){n.focus()}})});ir.vue={takePercent:function(n,t){return n*t/100},formatN2:function(n){return n===undefined?n:(n=ir.math.truncate(n,2),numberWithCommas(n))},greyOut:function(n,t,i){var r;if(n===undefined)return n;t!==undefined&&t.toLowerCase()==="xbt"&&(t="btc");r=i?ir.math.visible:ir.math.valuable;n=t?r(n,t,!1):n;n=numberWithCommas(n);var f=window.currencyManager.getCurrencyConfiguration(t),e=f.CurrencyType==="Secondary",u=e?/(\.\d{2})(\d+)(\)?)$|(\.\d{2})(\d+)(\)?)$/:/(\.\d*[1-9]+)(0+)(\)?)$|(\.)(0+)(\)?)$/;return u.test(n)&&(n=n.replace(u,"$1$4<span class='grey'>$2$5<\/span>$3$6")),n},parseError:function(n){var t=n;return n.responseText&&(t=JSON.parse(n.responseText)),t.errorMessage||t.message||t.Message||n.status+" "+n.statusText},requestGet:function(n){var{url:t,data:i,onSuccess:r,onError:u}=n;$.ajax({url:t,data:i,method:"GET"}).done(r).fail(u)},requestPost:function(n){var{url:t,data:i,onSuccess:r,onError:u}=n;$.post(t,i).done(r).fail(u)},requestPut:function(n){var{url:t,data:i,onSuccess:r,onError:u}=n;$.ajax({url:t,data:i,method:"PUT"}).done(r).fail(u)}};
var globalAjaxManager={settings:{maxRequests:4,blockUntilAllExecuted:!1}};(function(n){function o(){if(i.length==0){h();return}while(i.length>0){if(t>=globalAjaxManager.settings.maxRequests)return;if(globalAjaxManager.settings.blockUntilAllExecuted&&u)return;var r=i.shift();t+=1;n.ajax(r.options).done(c(r)).error(l(r));t>=globalAjaxManager.settings.maxRequests&&(u=!0)}}function s(){r==null&&(r=window.setInterval(o,f))}function h(){window.clearInterval(r);r=null}function c(n){return function(i){t-=1;t<=0&&(u=!1);n.handlers.done&&n.handlers.done(i)}}function l(n){return function(i,r){t-=1;t<=0&&(u=!1);n.handlers.error&&n.handlers.error(i,r)}}var r=null,f=100,i=[],t=0,e=0,u=!1;n.enqueueRequest=function(n,t,r){i.push({options:n,handlers:t,priority:r,requestId:++e});i.sort(function(n,t){return parseInt(n.priority)-parseInt(t.priority)});s()}})(jQuery);
(function(n){function r(t,r,u,f,e){var o=n("#confirmationSmsRequiredModal");i(o,t,r,u,f,e)}function u(t,r,u,f,e){var o=n("#confirmationEmailRequiredModal");i(o,t,r,u,f,e)}function i(t,i,r,u,f,e){var s=!1,h=n(".modal:visible");h.length>0&&h.modal("hide");t.errorMessage(null);var o=n("form",t),c=n(".btn-cancel",t),l=n(".btn-submit",t);o.attr("action",i);n("[name=code]").val("");c.click(function(){t.modal("hide")});t.on("hidden",function(n){t.selector==="#"+n.target.id&&(c.unbind(),l.unbind(),o.ajaxFormUnbind(),o.unbind("submit"),o.removeAttr("action"),s||u==null||u())});o.irForm({beforeSend:f,success:function(n){s=!0;t.modal("hide");r!=null&&r(n)},failed:function(n){var t=n.hasOwnProperty("message")?n.message:n.Message;AAT.utils.sendToLog(t);this.errorMessage({error:n});e&&e.call(this,n)}});t.irModal("show");t.irModalCenterScreen()}function t(n,t,i){return n+(i>=t?75:(t-i)/2)}n.cryptoPrefixes={btc:"bitcoin:",eth:"ether:",bch:"bitcoincash:",ltc:"litecoin:"};n.fn.resetPressed=function(){return this.each(function(){n(this).prop("disabled",!1)})};n.fn.canPress=function(){var t=!0;return this.each(function(){t=t&&!n(this).prop("disabled")}),t&&this.each(function(){n(this).prop("disabled",!0)}),t};n.fn.greyOutTrailingZeros=function(t,i){if(t){var r=window.currencyManager.getCurrencyConfiguration(t).CurrencyType==="Secondary";return r&&!i?this:this.each(function(){var t=n(this).text(),i=r?/(\.\d{2})(\d+)(\)?)$|(\.\d{2})(\d+)(\)?)$/:/(\.\d*[1-9]+)(0+)(\)?)$|(\.)(0+)(\)?)$/,u;i.test(t)&&(u=t.replace(i,"$1$4<span class='grey'>$2$5<\/span>$3$6"),n(this).html(u))})}return this};n.fn.createCryptoAddressLink=function(t,i){var r=null;return this.each(function(){r==null&&(r=AAT.utils.getBlockExplorerAddressLinkTemplate(t));var u=n(this).text(),f="";i&&(f=' title="'+u+'"',n(this).addClass("ellipsis"));n(this).html("<a"+f+">"+u+"<\/a>");n("a",n(this)).prop("href",r.f(u));n("a",n(this)).prop("target","_blank");n("a",n(this)).prop("rel","noopener noreferrer");n("a",n(this)).click(function(n){n.stopPropagation()})})};n.fn.createBitcoinBlockLink=function(t){var i=AAT.utils.getBlockExplorerBlockLinkTemplate(t);return this.each(function(){var t=n(this).text();t=="-1"?n(this).text("-"):i===""?n(this).html(t):(n(this).html("<a>"+t+"<\/a>"),n("a",n(this)).prop("href",i.f(t)),n("a",n(this)).prop("target","_blank"),n("a",n(this)).click(function(n){n.stopPropagation()}))})};n.fn.createCryptoTransactionLink=function(t){var i=null;return this.each(function(){i==null&&(i=AAT.utils.getBlockExplorerTransactionLinkTemplate(t));var r=n(this).text();n(this).html("<a>"+r+"<\/a>");n("a",n(this)).prop("href",i.f(r));n("a",n(this)).prop("target","_blank");n("a",n(this)).prop("rel","noopener noreferrer");n("a",n(this)).click(function(n){n.stopPropagation()})})};n.fn.addCommas=function(){return this.each(function(){var t=n(this).text();n(this).text(numberWithCommas(t))})};n.fn.formatNumber=function(t,i,r){return this.each(function(){var s;n(this).addCommas();var u=n(this),e=window.currencyManager.getCurrencyConfiguration(t),h=i?e.TradingVisibleDecimalPlaces:e.VisibleDecimalPlaces;if(h>8){var f=n(this).text().toUpperCase(),o=/(.*\.[0-9]{8})/.exec(f);o!=null&&(s=o[0],u=n("<span><\/span>").text(s).attr("title",f).attr("alt",f),n(this).html(u))}u.greyOutTrailingZeros(t,r)})};n.fn.putParentheses=function(){return this.each(function(){var t=n(this).html(),i=n("<span><\/span>").html(t);n(this).html("").append("<span>(<\/span>").append(i).append("<span>)<\/span>")})};n.fn.showGrowth=function(n,t){n||(n=0);t==null&&(t=!0);var i=this;return i.removeClass("normal",{complete:function(){i.addClass("growth",{duration:0,complete:function(){i.switchClass("growth","normal",{duration:3e3,complete:function(){}})}})}})};n.fn.showFall=function(){var t=this;return t.each(function(){var t=n(this);t.removeClass("normal",{complete:function(){t.addClass("fall",{duration:0,complete:function(){t.switchClass("fall","normal",{duration:3e3})}})}})})};n.fn.zoomHighlighting=function(t){var r=this,i=n('<span class="highlightingspan"><\/span>').addClass(t).html(r.html());n("body").append(i);var u=r.offset(),f=u.left+(r.width()-i.width())/2,e=u.top+(r.height()-i.height())/2;i.offset({left:f,top:e});i.addClass("highlightingspanhiding",{duration:1e3,complete:function(){i.remove()}})};n.fn.addConvertedPrice=function(t){return this.each(function(){var i=document.createElement("SPAN"),r;i.className="pull-left";r=document.createElement("I");r.className="fa fa-exchange is-converted";i.appendChild(r);n(this)[0].appendChild(i);n(this).find(".is-converted").irPopover(t)})};n.redirect=function(n){window.location.href=n};n.reload=function(){window.location.reload()};n.irAjax=function(t){var i=n.extend(!0,{url:"",type:"POST",data:null,success:null,fail:null,ajax:{priority:0},passRawResponse:!1},t||{}),r={url:i.url,type:i.type,data:i.data},u=function(n){if(n.Success)if(i.success==null)window.location.reload();else{var t=i.passRawResponse?n:n.Data;i.success(t)}else AAT.utils.sendToLog(n.Message),i.fail!=null&&i.fail(n.Message)},f=function(){AAT.utils.sendToLog("Error occured, try again later");i.fail!=null&&i.fail()};i.ajax.priority>0?n.enqueueRequest(r,{done:u,error:f},i.ajax.priority):n.ajax(r).done(u).error(f)};n.info=function(n,t){AAT.utils.confirm(n,t,"Ok","btn-success")};n.danger=function(n,t,i,r,u){r&&r!=null||(r="Ok");var f=!0;return u&&(f=!1),AAT.utils.confirm(n,t,r,"btn-danger",i,null,u,!1,f)};n.isConfirmationEmailRequiredResponse=function(n){return n&&n.RequiredConfirmation==="Email"?!0:!1};n.isConfirmationSmsRequiredResponse=function(n){return n&&n.RequiredConfirmation==="PrimaryPhoneSms"?!0:!1};n.confirmationRequired=function(t,i,f,e,o,s){if(n.isConfirmationEmailRequiredResponse(t)){u(i,f,e,o,s);return}if(n.isConfirmationSmsRequiredResponse(t)){r(i,f,e,o,s);return}f(t)};n.fn.hasAttr=function(t){var i=n(this).attr(t);return typeof i!="undefined"&&i!==!1};n.fn.refreshButton=function(n){if(n=="spin")this.find(".fa").addClass("fa-spin");else if(n=="stop")this.find(".fa").removeClass("fa-spin");else if(n=="setDate"){var t=new Date,i=t.format(dateFormat.masks.isoTime,!1);this.find("span").text(i);this.show()}};n.log=function(n,t){t&&(n=n.f(t));AAT.utils.sendToLog(n)};n.debug=function(t,i){n.log(t,i)};n.logType=function(t,i){n.log("{0} = ({1}) {2}".f(i,typeof t,t))};n.fn.requestContent=function(t){var i=n.extend(!0,{url:null,success:null,failed:null,method:"POST",data:null,dataType:"html"},t||{}),r=this;return n.ajax({url:i.url,method:i.method,data:i.data,dataType:i.dataType}).success(function(n){r.html(n);i.success!=null&&i.success.call(r)}).fail(function(){i.failed!=null&&i.failed.call(r)}),r};n.fn.irGoTo=function(t){var r=this,i;return r.offset()!=null&&(i=r.offset().top,t&&(i-=t),n("html, body").animate({scrollTop:i+"px"},1e3)),this};n.fn.isFullyVisible=function(){var t=this,i=n(window).scrollTop(),r=t.offset().top;return r>=i};n.isRunningLowScreenByHeight=function(){return n(window).height()<650};n.isMobile=function(){return n(window).width()<480};n.isTouch=function(){return n("html.touch").length>0};n.fn.irModal=function(i,r){var u=this,e;if(i!=null&&(AAT.utils.isString(i)?u.modal({backdrop:"static",show:!1}):i.backdrop="static"),u.is(":visible"))return u;var f=n(document).scrollTop(),o=n(this).outerHeight(),s=n(window).height();f=t(f,o,s);e=function(){u.unbind("shown",e);f=t(n(document).scrollTop(),s,o);u.addClass("modal-absolute").css("top",f);r?u.find(r).focus():u.find("[data-focus]").length>0?u.find("[data-focus]").focus():u.find("input:visible").length>0?u.find("input:visible:first").focus():u.find(".btn:visible:first").focus()};u.on("shown",e);return u.modal(i)};n.fn.irModalCenterScreen=function(i){var r=this,u=n(document).scrollTop(),f=n(this).outerHeight(),e=n(window).height();u=t(u,e,f);r.addClass("modal-absolute").css("top",u);i&&(r.find("input:visible").length>0?r.find("input:visible:first").focus():r.find(".btn:visible:first").focus())};n.interrupted=function(n){return n.status==0};n.getUrlVariable=function(n){n=n.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+n+"=([^&#]*)"),t=i.exec(location.search);return t==null?"":decodeURIComponent(t[1].replace(/\+/g," "))};n.getWindowHashInfo=function(){var n=window.location.hash,i="",t=n.indexOf(":");return t>=0&&(i=n.substring(t+1),n=n.substring(0,t)),{hash:n,extra:i}};n.fn.incrementValue=function(t,i,r,u){var s=n(this),o=s.val(),f,e;o&&!isNaN(o)&&(f=parseFloat(o),f+=t,(u==null||u(f))&&(e=f.toFixed(i),r&&(e=parseFloat(e).toString()),s.val(e)))};n.fn.upDownKeys=function(t){var i=n.extend(!0,{step:10,decimalPlaces:5,removeTrailingZeros:!1},t||{});return this.each(function(){var t=n(this);t.keydown(function(n){return n.keyCode===38?(t.incrementValue(i.step,i.decimalPlaces,i.removeTrailingZeros),n.preventDefault(!0),!1):n.keyCode===40?(t.incrementValue(-i.step,i.decimalPlaces,i.removeTrailingZeros,function(n){return n>0}),n.preventDefault(!0),!1):void 0})})};n.isPrimary=function(n){return window.currencyManager.isPrimary(n)};n.isBitcoinFamily=function(n){return window.currencyManager.isBitcoinFamily(n)};n.isToken=function(n){return window.currencyManager.isToken(n)};n.getRootCurrency=function(t){return n.isToken(t)?"Eth":t};n.isSecondary=function(n){return window.currencyManager.isSecondary(n)};n.primary=function(){return window.currencyManager.getPrimary()};n.secondary=function(){return window.currencyManager.getSecondary()};n.currencyName=function(n){var t=window.currencyManager.getCurrencyConfiguration(n);return t.Name};n.currencyFamily=function(n){return window.currencyManager.getCurrencyFamily(n)};n.currencyPartition=function(t){return t=t.capitalizeFirstLetter(),n.isToken(t)?"Eth":t};n.isSelectedCurrencyAll=function(n){return n.localeCompare("all",undefined,{sensitivity:"accent"})===0};n.fn.setCurrencyTooltip=function(t){var i=this,r=t==null?null:n.currencyName(t);return t==null?i:i.each(function(){n(this).irPopover({content:r,placement:"top",container:".validate-popovers"})})};n.format=function(n,t,i){return t&&(n=ir.math.visible(n,t,i)),numberWithCommas(n)};n.formatPrice=function(n,t){return t&&(n=ir.math.price(n,t)),numberWithCommas(n)};n.eachPrimary=function(n){for(var r,i=window.currencyManager.getPrimaryCurrencies(),t=0;t<i.length;t++)r=i[t],n(r)};n.eachSecondary=function(n){for(var r,i=window.currencyManager.getSecondaryCurrencies(),t=0;t<i.length;t++)r=i[t],n(r)};n.isEtherAddress=function(t){return/^(0x)?[0-9a-f]{40}$/i.test(t)?/^(0x)?[0-9a-f]{40}$/.test(t)||/^(0x)?[0-9A-F]{40}$/.test(t)?!0:n.isChecksumEtherAddress(t):!1};n.isChecksumEtherAddress=function(n){var i,t;for(n=n.replace("0x",""),i=CryptoJS.SHA3(n.toLowerCase()),t=0;t<40;t++)if(parseInt(i[t],16)>7&&n[t].toUpperCase()!==n[t]||parseInt(i[t],16)<=7&&n[t].toLowerCase()!==n[t])return!1;return!0};n.normalizeCurrencyCode=function(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()};n.parseCurrencyPair=function(t,i,r){if(t!=null&&(t.length===4||t.length===7)&&t.substring(0,1)==="#"){var u=t.substring(1,4),f=t.length===4?n.secondary():t.substring(4,7);n.isPrimary(u)&&n.isSecondary(f)?(u=n.normalizeCurrencyCode(u),f=n.normalizeCurrencyCode(f),i!=null&&i(u,f)):r!=null&&r()}else r!=null&&r()};n.getCurrencyHash=function(t){t==null&&(t=n.primary());var i="#"+t;return i.toLowerCase()};n.getCurrencyPairHash=function(t,i){t==null&&(t=n.primary());i==null&&(i=n.secondary());var r="#"+t+i;return r.toLowerCase()};n.asyncDownload=function(t){var r=!1,u=null,f=!1,o=function(){if(f)return!1;r&&n(".modal:visible").modal("hide");n.redirect(t.downloadUrl)},i=null,e;r=!0;AAT.utils.confirm(t.title,t.body,"Ok","btn-primary",null,function(){window.clearTimeout(u);f=!0},"cancel",!0,!1);e=function(){u=window.setTimeout(function(){i()},t.pollIntervalSeconds*1e3)};i=function(){n.ajax({url:t.checkIfReadyUrl,method:"GET"}).success(function(n){n!=null&&n.Success===!0?o():e()})};i()};n.checkAppBanner=function(){function r(t){n("#main").toggleClass(".ir-app-banner-visible",t);n(".ir-app-banner-placeholder").toggle(t);n(".ir-app-banner").toggle(t)}var t="hide-app-banner",i="true",u=window.localStorage.getItem(t);u!==i&&(r(!0),n(".ir-app-banner .close-button a").click(function(){window.localStorage.setItem(t,i);r(!1)}))}})(jQuery);jQuery.browser={};jQuery.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());jQuery.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());jQuery.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());jQuery.browser.msie=/msie/.test(navigator.userAgent.toLowerCase());jQuery.mobile={};jQuery.mobile.ipad=navigator.userAgent.match(/iPad/i)!=null;jQuery.mobile.iphone=!jQuery.mobile.ipad&&(navigator.userAgent.match(/iPhone/i)!=null||navigator.userAgent.match(/iPod/i)!=null);jQuery.mobile.ios=jQuery.mobile.ipad||jQuery.mobile.iphone;jQuery.mobile.android=!jQuery.mobile.ios&&navigator.userAgent.match(/android/i)!=null;jQuery.mobile.isMobile=jQuery.mobile.ios||jQuery.mobile.android;jQuery.mobile.type=jQuery.mobile.ios?"Ios":jQuery.mobile.android?"Android":"";
window.IR==null&&(window.IR={}),function(n){function t(t){function f(){function r(n){var i=t.prices().filter(function(t){return t.currency===n});return i.length?i[0].value:0}var t=this;return t.prices=ko.observableArray(i.initialPrices),t.priceInAud=ko.pureComputed(function(){return r("Aud")}),t.priceInNzd=ko.pureComputed(function(){return r("Nzd")}),t.priceInUsd=ko.pureComputed(function(){return r("Usd")}),t.priceInAudFormatted=ko.computed(function(){return formatNumber(t.priceInAud(),",",".")}),t.priceInNzdFormatted=ko.computed(function(){return formatNumber(t.priceInNzd(),",",".")}),t.priceInUsdFormatted=ko.computed(function(){return formatNumber(t.priceInUsd(),",",".")}),t.pollData=function(){n.ajax({url:i.pollUrl,data:{primary:i.currency}}).success(function(n){t.prices(n)})},t}function e(){i=n.extend(!0,u,t||{});var o=n(i.container)[0],e=new f;return ko.applyBindings(e,o),window.setInterval(e.pollData,i.pollInterval),r}var r={},i,u={};return e()}n.extend(!0,IR,{CryptocurrencyTicker:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function e(){return i=n.extend(!0,f,t||{}),r=a(),u}function o(n,t,u){try{if(r){t=t||i.key;u=u||i.expiryInterval;var f={value:JSON.stringify(n),timestamp:(new Date).getTime()+u};localStorage.setItem(t,JSON.stringify(f))}}catch(e){}}function s(n){try{if(r){n=n||i.key;var t=JSON.parse(localStorage.getItem(n));if(h(t))return JSON.parse(t.value)}}catch(u){}return null}function h(n){return n?i.enableExpiration?(new Date).getTime()<n.timestamp:!0:!1}function c(n){try{r&&(n=n||i.key,localStorage.removeItem(n))}catch(t){}}function l(n){typeof console!="undefined"&&console.log(n)}function a(){try{return"localStorage"in window&&window.localStorage!==null}catch(n){return l("Local storage is not supported by browser."),!1}}var u={set:o,get:s,remove:c},i,f={key:null,expiryInterval:1,enableExpiration:!0},r;return e()}n.extend(!0,IR,{ClientCache:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function e(){return i=n.extend(!0,f,t||{}),n(document).ajaxSuccess(v),u}function o(t){var u=n(".captcha-block .captcha-image-container",t);i.isValidated||(r(t),n("input[type=submit]",t).addClass("disabled").prop("disabled",!0),n.ajax({url:i.data.getDataUrl,method:"POST",dataType:"html"}).success(function(i){u.html(i);u.find("img").load(function(){u.show();u.find("img").show()});var r=n(".captcha-block .captcha-image-container",t).find("a");n(".captcha-block .captcha-refresh-link",t).append(r.removeClass("hide"));n("input[type=submit]",t).removeClass("disabled").prop("disabled",!1)}).error(function(){AAT.utils.sendToLog("Failed to refresh captcha.\nTry reloading the page.")}))}function r(t){n(".captcha-block [name=CaptchaInputText]",t).val("");n(".captcha-block .captcha-image-container",t).html("").hide();n(".captcha-block .captcha-refresh-link",t).html("")}function s(t){return n(".captcha-block",t).is(":visible")}function h(t){i.isValidated||n(".captcha-block",t).show()}function c(t){n(".captcha-block",t).hide()}function l(){return i.isValidated}function a(n){i.isValidated=n}function v(t,r,u,f){f&&f.IsCaptchaValidated!=null&&(i.isValidated=f.IsCaptchaValidated,i.isValidated&&n(".captcha-block").hide())}function y(n){return n==i.captchaInvalid||n==i.captchaEmpty}var u={request:o,clear:r,isVisible:s,show:h,hide:c,getValidated:l,setValidated:a,isInvalidMessage:y},i,f={isValidated:!1,data:{getDataUrl:null},captchaInvalid:"CAPTCHA is not valid",captchaEmpty:"Enter CAPTCHA code"};return e()}n.extend(!0,IR,{Captcha:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function p(){i=n.extend(!0,v,t||{});window.setInterval(e,i.timerInterval);i.refreshControl&&n(i.refreshControl).spinner({onRefresh:f,updateInterval:i.timerInterval});window.currencyManager.onCurrencyChangedOnServer(function(n,t,i){o(i)});return i.initData!=null&&(u=i.initData),a}function f(n){e(n)}function e(t){if(window.__tokenChanged){n.log("__tokenChanged: market summary");return}r||(r=!0,i.refreshControl&&n(i.refreshControl).spinner("spin"),n.enqueueRequest({type:"POST",url:i.data.getDataUrl,data:{Manual:t,PrimaryCurrencyCode:h(),SecondaryCurrencyCode:c()}},{done:function(t){r=!1;t.Success?(o(t.Data),i.refreshControl&&n(i.refreshControl).spinner("success")):(s(t.Message),i.refreshControl&&n(i.refreshControl).spinner("failed"))},error:function(t,u){r=!1;n.interrupted(t)||(s("Request failed: "+u),i.refreshControl&&n(i.refreshControl).spinner("failed"))}},l))}function o(t){var l,f,e;n("[data-auto-market-last-price]").html(t.LastPriceHeader);l=h();f=c();u=t;t.hasOwnProperty("Volume")||(t.Volume=null);for(e in t){var nt=e==="DailyPriceChangePercent",k=e==="Volume",a=k?ir.math.visible:ir.math.price,d=k?f:l,o=i.controls[e],r=t[e];if(nt){var v="",p="",g=!1;t.Volume>0&&(g=!0,t.IsDailyPriceIncreased===!0||r===0?(p="<span class ='caret daily-price-caret-up'><\/span>",v="daily-price-increased"):(p="<span class ='caret daily-price-caret-down'><\/span>",v="daily-price-decreased"));g?(n(o).html('<b><span class="{0}">{1} <span class="daily-price-change-percent-value"><\/span>%<\/span><\/b>'.f(v,p)),n(o).find(".daily-price-change-percent-value").text(a(r,f,!1)).greyOutTrailingZeros().addCommas()):n(o).html("")}else r=r||i.nullText,o&&n(o).each(function(){var t=n(this),e=r,u,o,s;isNaN(r)||(r=a(r,d,!1),e=t.hasAttr("data-show-currency")?f+" "+r:r);u=t.text();o=u==i.nullText?0:a(AAT.utils.removeCommas(u),d,!1);t.html("").text(e).greyOutTrailingZeros().addCommas();s=r==i.nullText?0:r;s!=o&&t.closest("li").showFall(3)})}var tt=["Name","Property"],s=y,b=!1;i.syncMetaTags&&t.MetaTags.forEach(function(t){tt.forEach(function(i){var r=t[i];r&&n("meta[{0}={1}]".f(i.toLowerCase(),r.replace(":","\\:"))).attr("content",t.Content)});t.Property==="og:title"&&(s=t.Content,b=!0)});i.showPriceInTitle&&t.LastPrice&&!isNaN(t.LastPrice)&&(s=String.format("["+f.toUpperCase()+" {0}] {1}",w(t.LastPrice,l),s),b=!0);b&&(document.title=s)}function w(n,t){var i=ir.math.price(n,t);return numberWithCommas(i)}function s(n){typeof console!="undefined"&&console.log(n)}function b(){return u}function h(){return window.currencyManager.getPrimary()}function c(){return window.currencyManager.getSecondary()}var l=100,a={reload:f,getCurrentMarketData:b},i,v={controls:{LastPrice:'[data-market-summary="last-price"] span',DailyPriceChangePercent:'[data-market-summary="daily-price-change-percent"]',AvgPrice:'[data-market-summary="avg-price"] span',Volume:'[data-market-summary="volume"] span',LowestOfferPrice:'[data-market-summary="lowest-offer"] span',HighestBidPrice:'[data-market-summary="highest-bid"] span'},data:{getDataUrl:null},refreshControl:null,timerInterval:3e4,nullText:"-",showPriceInTitle:!0,initData:null,syncMetaTags:!1},u=null,r=!1,y=document.title;return p()}n.extend(!0,IR,{MarketSummary:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function a(){var t=this;t.secondaryCurrencyCode=ko.observable();t.selectedSecondaryCurrencyCode=ko.observable();t.secondaryCurrencyCode.subscribe(function(n){t.selectedSecondaryCurrencyCode(n)});t.summaries=ko.observable([]);t.secondaryCurrencies=window.currencyManager.getSecondaryCurrencies();t.getImageSource=function(n){return"/img/flags/{0}.svg".f(n.PrimaryCurrencyString)};t.getFlagSource=function(n){return"/img/flags/{0}.svg".f(n)};t.isIncreased=function(n){return n.IsDailyPriceIncreased===!0||n.DailyPriceChangePercent===0};t.setSecondaryCurrency=function(n){t.selectedSecondaryCurrencyCode(n);window.currencyManager.set(null,n)};t.isSecondaryActive=function(n){return n===t.selectedSecondaryCurrencyCode()};t.isPrimaryDisabled=function(n){return!i||!i.disabledTrading?!1:i.disabledTrading[n]!==undefined};t.getCurrencyName=function(t){return n.currencyName(t)};t.getMarketPageUrl=function(n){var t=n.PrimaryCurrencyString,r=i.marketPageUrl+"/"+t;return r.toLowerCase()};t.rowClicked=function(i){t.isPrimaryDisabled(i.PrimaryCurrencyString)||n.redirect(t.getMarketPageUrl(i))};t.extensions=i.extensions}function s(t){if(!u){u=!0;i.refreshControl&&n(i.refreshControl).spinner("spin");var r={Manual:t,SecondaryCurrencyCode:o()};n.ajax({type:"POST",url:i.getDataUrl,data:r}).done(function(n){u=!1;n.Success&&n.Success!==!1?(f("success"),v(n.SecondaryCurrencyCode,n.Data)):f("failed")}).error(function(t,i){u=!1;n.interrupted(t)||(displayError("Request failed: "+i),f("failed"))})}}function f(t){i.refreshControl&&n(i.refreshControl).spinner(t)}function e(n){s(n)}function o(){return window.currencyManager.getSecondary()}function v(n,t){r.secondaryCurrencyCode(n);r.summaries(h(t))}function h(n){return n==null?null:n.sort(function(n,t){return parseFloat(t.SecondaryVolume)-parseFloat(n.SecondaryVolume)})}function y(){i=n.extend(!0,l,t||{});window.setInterval(s,i.timerInterval);i.refreshControl&&n(i.refreshControl).spinner({onRefresh:e,updateInterval:i.timerInterval});window.currencyManager.onCurrencyChangedOnServer(function(){e(!0)});return r=new a(o()),ko.applyBindings(r,n(i.tableControl).get(0)),i.initData!=null&&(r.secondaryCurrencyCode(o()),r.summaries(h(i.initData))),c}var c={reload:e},i,l={tableControl:".crypto-currency-markets-container",initData:null},u=!1,r=null;return y()}n.extend(!0,IR,{MarketSummaries:t})}(jQuery);
window.AAT==null&&(window.AAT={}),function(n){function t(t){function o(){i=n.extend(!0,e,t||{});n(i.filter.dateFrom).datetimepicker({language:"en"});n(i.filter.dateTo).datetimepicker({language:"en"});n(i.controls.reloadButton).resetPressed().click(function(){r()});n(".ok-showMessage",i.showMessageDialog).click(function(){n(i.showMessageDialog).modal("hide")});u()}function r(){n(i.controls.reloadButton).canPress()&&u()}function s(){var f=n("input",i.filter.dateFrom).val(),e=n("input",i.filter.dateTo).val(),o=n(i.filter.category).val(),s=n(i.filter.subsystem).val(),h=n(i.filter.pageNumber).val()-1,c=n(i.filter.pageSize).val(),t=n(i.filter.eventGuid).val(),r=n(i.filter.operationGuid).val(),u=n(i.filter.referenceGuid).val(),l=n(i.filter.instance).val(),a=n(i.filter.className).val(),v=n(i.filter.method).val(),y=n(i.filter.title).val();return t&&!AAT.utils.isGuidCorrect(t)?(AAT.utils.sendToLog("Event guid bad format."),null):r&&!AAT.utils.isGuidCorrect(r)?(AAT.utils.sendToLog("Operation guid bad format."),null):u&&!AAT.utils.isGuidCorrect(u)?(AAT.utils.sendToLog("Reference guid bad format."),null):{DateFrom:f,DateTo:e,Category:o,Subsystem:s,PageNumber:h,PageSize:c,EventGuid:t,OperationGuid:r,ReferenceGuid:u,Instance:l,ClassName:a,Method:v,Title:y}}function u(){var t=s();t!=null?n.ajax({url:i.dataUrls.getLogsUrl,data:t}).success(function(r){r.Success!=null&&r.Success==!1?AAT.utils.sendToLog(r.Message):(c(t.PageNumber,r.PagesCount),h(r.Logs),n(i.controls.reloadButton).resetPressed())}).error(function(){AAT.utils.sendToLog("Error occured. Try again later.");n(i.controls.reloadButton).resetPressed()}):n(i.controls.reloadButton).resetPressed()}function h(t){n(i.resultsControl).table({columns:[{field:"EventGuid",title:"Event Guid",className:"col-guid"},{field:"DateTime",title:"Date Time",className:"col-datetime"},{field:"Category",className:"col-category"},{field:"Subsystem",className:"col-subsystem"},{field:"Instance",className:"col-instance"},{field:"ClassName",title:"Class Name",className:"col-class-name"},{field:"Method",className:"col-method"},{field:"Title"},{field:"Operation",className:"col-guid"},{field:"Reference",className:"col-guid"}],data:t,rowClass:function(n){return n.Category=="Error"?"error":n.Category=="Warn"?"warning":n.Category=="Trace"?"trace":""},rowClicked:function(t,r){var u=r.Message.specialUnescape();n("#showMessage-event-guid",i.showMessageDialog).val(r.EventGuid);n("#showMessage-category",i.showMessageDialog).val(r.Category);n("#showMessage-subsystem",i.showMessageDialog).val(r.Subsystem);n("#showMessage-operation",i.showMessageDialog).val(r.Operation);n("#showMessage-reference",i.showMessageDialog).val(r.Reference);n("#showMessage-instance",i.showMessageDialog).val(r.Instance);n("#showMessage-class",i.showMessageDialog).val(r.ClassName);n("#showMessage-method",i.showMessageDialog).val(r.Method);n("#showMessage-title",i.showMessageDialog).val(r.Title);n("#showMessage-message",i.showMessageDialog).text(u);n("pre code").each(function(n,t){hljs.highlightBlock(t)});n(i.showMessageDialog).modal("show")}})}function c(t,r){n(i.filter.pageCount).val(r)}var f={update:r},i,e={resulsControl:null,showMessageDialog:null};return o(),f}n.extend(!0,AAT,{LogsManager:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function o(){var s,f;i=n.extend(!0,e,t||{});var h=n.getWindowHashInfo(),c=h.hash,o=n(i.tab).find('a[href="'+c+'"]');return o.length>0?r(o.parent()):i.initialTab?(s=i.tab+"[data-value="+i.initialTab+"]",f=n(s),f.length>0?r(f):r(n(i.tab).first())):r(n(i.tab).first()),n(i.tab).click(function(){r(n(this))}),u}function r(t){n(i.tab).removeClass(i.classes.active);n(t).addClass(i.classes.active);s();n(u).trigger("tabChanged",t)}function s(){var t=n(i.tab);t.each((n,t)=>f(t,!1));t.each((t,r)=>{n(r).hasClass(i.classes.active)&&f(r,!0)})}function f(t,r){var u=n(t).attr(i.data.contentControl);n(u).toggle(r)}function h(){r(n(i.tab).first())}function c(){return n(i.tab+"."+i.classes.active)}var u={activate:r,getActiveTab:c,showFirstTab:h},i,e={tab:"",classes:{active:"active"},data:{contentControl:"data-content-control"},initialTab:null};return o()}n.extend(!0,IR,{Tabs:t})}(jQuery);
(function(n){n.fn.table=function(t){var o=this,i,e,w,a,g,nt,h,v,y,k,p,u,c,f,tt,d,it,rt,l,ut,ft;if(i=n.extend(!0,{tableClass:null,columns:null,data:null,noItemsText:"No items found",rowClass:null,rowClicked:null,trackChangesByField:null},t||{}),i.tableClass==null&&(i.tableClass=""),e=n('<table class="table table-bordered table-striped table-hover fixed-table '+i.tableClass+'"><\/table>'),w=n("<tr><\/tr>"),i.columns){for(a=0;a<i.columns.length;a++){var r=i.columns[a],b=r.title?r.title:r.field,s=n("<th><\/th>");r.headerRender?r.headerRender(b,s):s.html(b);r.className&&s.addClass(r.className);r.tooltip&&(g=r.tooltipPlacement?r.tooltipPlacement:"right",nt=n("<a><\/a>").addClass("info-tooltip").attr("href","javascript:void(0)").append('<i class="ir-icon ir-info"><\/i>').irPopover({placement:g,title:b,content:r.tooltip,html:"true",container:"body"}),s.append(nt));r.css&&s.css(r.css);w.append(s)}if(e.append(w),i.data&&i.data.length>0)for(h=0;h<i.data.length;h++){for(v=i.data[h],y=n("<tr><\/tr>").attr("data-row-index",h),i.rowClass!=null&&(k=i.rowClass(v),k&&y.addClass(k)),p=0;p<i.columns.length;p++)u=i.columns[p],c=v[u.field],c==null&&(c=""),f=n("<td><\/td>"),u.render?u.render(v,f):u.useDiv?(f.addClass("limited"),f.append(n("<div><\/div>").text(c))):f.text(c),u.className&&f.addClass(u.className),u.addCommas&&f.addCommas(),u.trailingZeroes&&f.greyOutTrailingZeros(),y.append(f);e.append(y)}else e.append(n("<tr><\/tr>").append(n("<td><\/td>").attr("colspan",i.columns.length).addClass("noItems").text(i.noItemsText)));i.rowClicked!=null&&e.children("tbody").children("tr[data-row-index]").addClass("pointer").click(function(){var t=n(this).attr("data-row-index"),r=i.data[t];i.rowClicked(t,r)})}if(tt={found:function(n,t,i){var r,u;if(!n)return!1;for(r=0;r<n.length;r++)if(u=n[r][i],t==u)return!0;return!1}},o.html("").append(e),d=o.data("ir.table.loadedFirst"),it=typeof d!="undefined"&&d!==!1,i.trackChangesByField&&i.data&&i.data.length>0&&i.columns&&it)for(rt=o.data("ir.table.data"),l=0;l<i.data.length;l++)ut=i.data[l][i.trackChangesByField],tt.found(rt,ut,i.trackChangesByField)||(ft=e.find("tr[data-row-index="+l+"]"),ft.newRow());return i.data&&(o.data("ir.table.data",i.data),o.data("ir.table.loadedFirst",!0)),o};n.fn.newRow=function(t){return this.each(function(){var i=n(this);i.removeClass("rowOrdinary",{complete:function(){i.addClass("rowAdded",{duration:0,complete:function(){i.switchClass("rowAdded","rowOrdinary",{duration:3e3,complete:function(){i.removeClass("rowOrdinary");t!=null&&t()}})}})}})})}})(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function l(){return i=n.extend(!0,c,t||{}),nt(),n(i.controls.buttons.first).click(w),n(i.controls.buttons.next).click(y),n(i.controls.buttons.prev).click(p),n(i.controls.buttons.last).click(b),n(i.controls.pageSize).change(g),n(i.controls.buttons.reload).click(h),e}function r(){var t=parseInt(n(i.controls.pageNumber).text());return isNaN(t)?1:t}function o(t){n(i.controls.pageNumber).text(t)}function f(){return parseInt(n(i.controls.pageCount).text())}function a(t){var o=f(),e;o!=t&&(n(i.controls.pageCount).text(t),e=r(),e!=1&&u(1));t>1?k():d()}function s(){return parseInt(n(i.controls.pageSize).val())}function v(t){n(i.controls.pageSize).val(t)}function y(){var n=r(),t=f();n<t&&u(n+1)}function p(){var n=r();n>1&&u(n-1)}function w(){var n=r();n!=1&&u(1)}function b(){var t=r(),n=f();t!=n&&n>0&&u(n)}function u(t,i){o(t);n(e).trigger("pageChanged",[t-1,s(),i])}function h(n){var t=r();u(t,n)}function k(){n(i.controls.wrapper).show();i.controls.buttons.reload&&n(i.controls.buttons.reload).removeClass("hide")}function d(){n(i.controls.wrapper).hide();i.controls.buttons.reload&&n(i.controls.buttons.reload).addClass("hide")}function g(){u(1)}function nt(){var e,u,f,o,r,s,h,a,c,t,l;if(!i.controls){for(i.controls={},n(i.container).html(""),e="{0}-wrapper".f(i.id),i.controls.wrapper="#"+e,n(i.container).append('<div id="{0}" class="pager-wrapper"><\/div>'.f(e)),n(i.controls.wrapper).hide(),u="{0}-page-number".f(i.id),i.controls.pageNumber="#"+u,n(i.controls.wrapper).append("<span>page<\/span>".f(u)),n(i.controls.wrapper).append('<span id="{0}" class="pager-value">1<\/span>'.f(u)),f="{0}-page-count".f(i.id),i.controls.pageCount="#"+f,n(i.controls.wrapper).append("<span>of<\/span>".f(f)),n(i.controls.wrapper).append('<span id="{0}" class="pager-value">1<\/span>'.f(f)),o=[{id:"first",class1:i.id+"-go-first-page",icon:"fa-angle-double-left",text:"First"},{id:"prev",class1:i.id+"-go-previous-page",icon:"fa-angle-left",text:"Previous"},{id:"next",class1:i.id+"-go-next-page",icon:"fa-angle-right",text:"Next",rightIcon:!0},{id:"last",class1:i.id+"-go-last-page",icon:"fa-angle-double-right",text:"Last",rightIcon:!0}],i.controls.buttons={},t=0;t<o.length;++t)r=o[t],s='<span class="screen1 screen2 screen3 screen4">'+r.text+"<\/span>",i.controls.buttons[r.id]="."+r.class1,h='<i class="fa {0}"><\/i>'.format(r.icon),a=r.rightIcon?s+" "+h:h+" "+s,n(i.controls.wrapper).append('<button class="btn {0}">{1}<\/button>'.f(r.class1,a));for(c="{0}-page-size".f(i.id),i.controls.pageSize="#"+c,n(i.controls.wrapper).append('<div class="page-size"><div class="divider margin-left"><\/div><label for="{0}">Size: <\/label><select id="{0}"><\/select><\/div>'.f(c)),t=0;t<i.data.pageSizes.length;++t)n(i.controls.pageSize).append('<option value="{0}">{0}<\/option>'.f(i.data.pageSizes[t]));v(i.data.pageSize);n(i.controls.wrapper).append('<div class="divider margin-left hide"><\/div>');i.hideReload||(l="{0}-reload".f(i.id),i.controls.buttons.reload="#"+l,n(i.container).append('<button class="btn btn-primary reload hide" id="{0}"><i class="fa fa-refresh"><\/i> Reload<\/button>'.f(l)))}}var e={setTotalPages:a,setPageNumber:o,getPageNumber:r,getPageSize:s,reload:h},i,c={id:"pager",container:"",data:{pageIndex:0,pageSize:5,pageSizes:[]}};return l()}n.extend(!0,IR,{Pager:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function v(){return i=n.extend(!0,a,t||{}),r.settings=i,r.pager=new IR.Pager(i.controls.pager),n(r.pager).bind("pageChanged",b),i.showSpinner&&n(i.controls.table.container).html('<div style="text-align: center; vertical-align: middle;"><i class="fa fa-refresh fa-spin fa-2x"><\/i><\/div>'),i.data.loadOnInit&&o(i.controls.pager.data.pageIndex,i.controls.pager.data.pageSize),r}function y(n,t){u=t?!1:r.pager.getPageNumber()==1;r.pager.setPageNumber(1);r.pager.reload(n)}function o(t,f,e){var o,l,a;if(i.data.beforeGetData){let n=i.data.beforeGetData();if(n===!1)return}i.showLoadingPane&&n.showLoader();c();o={PageIndex:t,PageSize:f,Manual:e};i.data.customizeData&&i.data.customizeData(r,o);const v={type:"POST",url:i.data.getDataUrl,data:o,traditional:!0};l=function(f){var e,o;i.showLoadingPane&&n.hideLoader();f.Success?(e=i.data.customizeResult?i.data.customizeResult(r,f):f.Page,o=r.pager.getPageNumber()-1,o==t&&s(e)):h(f.Message);u=!1};a=function(t,r){if(i.data.onDataLoadError){i.data.onDataLoadError(t,r);return}n.interrupted(t)||(i.showLoadingPane&&n.hideLoader(),h("Request failed: "+r),u=!1)};i.ajax.priority>0?n.enqueueRequest(v,{done:l,error:a},i.ajax.priority):n.ajax(v).done(l).error(a)}function p(){return f}function w(){return e}function s(t){e=t;f=t.Data;n(i.controls.table.container).table({tableClass:i.controls.table.tableClass,columns:i.controls.table.columns,data:t.Data,noItemsText:i.controls.table.noItemsText,rowClicked:i.controls.table.rowClicked,trackChangesByField:u?i.controls.table.trackChangesByField:null,rowClass:i.controls.table.rowClass});r.pager.setTotalPages(t.TotalPages);l();n(r).trigger("loaded")}function b(t,u,f,e){i.data.getDataUrl?o(u,f,e):n(r).trigger("pageChanged",[u,f,e])}function h(t){i.controls.refreshControl&&n(i.controls.refreshControl).spinner("failed");AAT.utils.sendToLog(t)}function c(){i.controls.refreshControl&&n(i.controls.refreshControl).spinner("spin")}function l(){i.controls.refreshControl&&n(i.controls.refreshControl).spinner("success")}var r={reload:y,settings:i,setData:s,spin:c,unspin:l,getData:p,getDataRaw:w},f,e,i,a={showLoadingPane:!0,showSpinner:!1,controls:{table:{tableClass:null,container:"",columns:null,noItemsText:"No items",rowClicked:null,trackChangesByField:null},pager:{data:{pageIndex:0,pageSize:5}},refreshControl:null},data:{getDataUrl:null,loadOnInit:!0,beforeGetData:null,onDataLoadError:null},ajax:{priority:0}},u=!1;return v()}n.extend(!0,IR,{Grid:t})}(jQuery);
window.AAT==null&&(window.AAT={}),function(n){function t(t){function pt(){return i=n.extend(!0,yt,t||{}),i.mode=="full"?(kt(),bt()):i.mode=="unread-mesages-count"&&ni(),vt}function wt(){var t=this;t.categories=ko.observableArray();t.queryTypes=ko.observableArray();t.subject=ko.observable("");t.text=ko.observable("");t.filesAttached=ko.observable(!1);t.selectedCategory=ko.observable(null);t.selectedQueryType=ko.observable(null);t.isInlineFormVisibleInternal=ko.observable(!1);t.selectedQuestion=ko.computed(function(){return t.selectedQueryType()?t.selectedQueryType().Question:""});t.selectedAnswer=ko.computed(function(){return t.selectedQueryType()?t.selectedQueryType().Answer:""});t.isCategoryEnabled=ko.computed(function(){return!(t.text()||t.subject()||t.filesAttached())});t.isQueryTypeEnabled=ko.computed(function(){return t.isCategoryEnabled()&&t.selectedCategory()});t.isInlineFormVisible=ko.computed(function(){return t.selectedQueryType()&&t.isInlineFormVisibleInternal()});t.showInlineForm=function(){t.isInlineFormVisibleInternal(!0)};t.hideInlineForm=function(){t.isInlineFormVisibleInternal(!1)};t.clearInlineForm=function(){t.subject("");t.text("")};t.unselectCategory=function(){t.selectedCategory(null)};t.queryTypesByCategory=ko.computed(function(){return t.selectedCategory()==null?[]:ko.utils.arrayFilter(t.queryTypes(),function(n){return n.CategoryGuid===t.selectedCategory().Guid})});t.reload=function(){n.ajax({url:i.dataUrls.getQueryTypes,type:"POST"}).success(function(n){n&&(t.categories(n.Data.Categories),t.queryTypes(n.Data.QueryTypes))})};t.reload()}function bt(){var f,t,u,e;r=new wt;f=i.controls.queryTypeContainer?n(i.controls.queryTypeContainer)[0]:null;ko.applyBindings(r,f);t=n("form",i.controls.queryTypeContainer).first();t.attr("action",i.dataUrls.createMessageUrl);t.attr("method","POST");u=n("input[type=submit]",i.controls.queryTypeContainer);u.unbind().click(function(){t.irValidate()&&t.submit()});e=n(".cancel-button",i.controls.queryTypeContainer);e.unbind().click(function(){h(function(){r.clearInlineForm();r.hideInlineForm()})});t.unbind().submit(function(n){t.irValidate()||n.preventDefault()});t.ajaxFormUnbind();t.ajaxForm({beforSend:function(){u.addClass("disabled")},success:function(n){u.removeClass("disabled");n.Success?h(function(){r.clearInlineForm();r.hideInlineForm();r.unselectCategory();a("FromUser",!0);dt();gt()}):(AAT.utils.sendToLog(n.Message),t.errorMessage({error:n}))},error:function(){u.removeClass("disabled");AAT.utils.sendToLog("Some error occured. Try again later.")}})}function kt(){n("[data-message-type] a",i.controls.tabs).click(function(){b(n(this))});var t=n(i.controls.pageSize).val(),r=n(i.controls.pageNumber).val(),u=n(i.controls.pageCount).val();n("[data-message-type]",i.controls.tabs).each(function(){n(this).attr("data-page-size",t).attr("data-page-number",r).attr("data-page-count",u)});y();i.showIncomingTab?k():ri();n(i.controls.createMessageButton).click(rt);n(i.controls.goNextPage).click(ei);n(i.controls.goPreviousPage).click(oi);n(i.controls.goFirstPage).click(si);n(i.controls.goLastPage).click(hi);n(i.controls.pageSize).change(ci);n(".reply-button",i.dialogs.editMessageDialog).click(function(){var t=n(i.dialogs.editMessageDialog),r=n("[name=Subject]",t).val(),u=n("[name=QueryTypeGuid]",t).val(),f=n("[name=ConversationGuid]",t).val(),e=n(".query-type-info",t).html();t.modal("hide");h(!1);ut({url:i.dataUrls.createMessageUrl,message:null,queryTypeGuid:u,queryTypeInfoHtml:e,subject:r,text:"",btnText:"Send",readonly:!1,conversationGuid:f,onSuccess:function(){a("FromUser",!0)}})});n(i.controls.fileupload).fileupload(i.fileupload).on("fileuploadadd",ft).on("fileuploadprocessalways",et).on("fileuploadalways",ot);n(i.controls.inlineFileUpload).fileupload({dropZone:n(i.controls.inlineForm)}).on("fileuploadadd",ft).on("fileuploadprocessalways",et).on("fileuploadalways",ot);AAT.utils.createDropZone(i.fileupload.dropControl1,i.fileupload.dropZone);AAT.utils.createDropZone(i.fileupload.dropControl2,i.fileupload.dropZone)}function dt(){n(i.controls.mainAlert).html("Your support ticket has been received and will be looked at by our team ASAP.")}function gt(){window.scroll(0,0)}function ni(){i.timerInterval>0&&window.setInterval(p,i.timerInterval);i.loadCompleted&&i.loadCompleted()}function ti(){i.mode=="unread-mesages-count"?p():i.mode=="full"&&(y(),k())}function y(){var t=n(i.controls.pageSize).val(),r=n(i.controls.pageNumber).val(),u=n(i.controls.pageCount).val();n("[data-message-type]",i.controls.tabs).each(function(){var u=n(this),f,e;u.hasAttr("data-ignore")||(f=u.attr("data-message-type"),e={MessageDirection:f,PageIndex:r-1,PageSize:t},d(e,function(n){o[f]=n.Messages;u.attr("data-page-count",n.PagesCount);u.hasClass("active")?(l(u,!0),i.loadCompleted!=null&&i.loadCompleted()):w(u,f)}))})}function p(){if(window.__tokenChanged){n.log("__tokenChanged: support");return}n.irAjax({type:"POST",url:i.dataUrls.getUnreadMessagesCountUrl,success:function(n){ii(n);i.loadCompleted&&i.loadCompleted()},ajax:{priority:at}})}function ii(t){var r=n(i.controls.badge),o=i.support.unreadMessagesCounterMaxValue,e,u,s;f==null&&r.length>0&&(e=n(r[0]).text(),u=e.replace("+",""),f=e.length==u.length?u&&!isNaN(u)?parseInt(u):0:t);s=t>o?"{0}+".f(o):t;r.text(s);(f==null||f<t)&&f!=null&&i.newMessageArrived!=null&&i.newMessageArrived();f=t;t>0?r.show():r.hide()}function w(n,t){var u=n.find(".unread-messages-count"),i,f,r;if(u.length>0){if(i=0,o[t])for(f=o[t],r=0;r<f.length;r++)f[r].IsReadByRecipient==!1&&i++;else i="!";i>0?u.text("("+i+")"):u.text("")}}function b(t){var r=t.parent();r.hasClass("active")||(n("[data-message-type]",i.tabs).removeClass("active"),r.addClass("active"),l(r,!1))}function ri(){n("[data-message-type]:first a").click()}function k(){n("[data-message-type=ToUser] a").click()}function d(t,r){n.ajax({type:"POST",url:i.dataUrls.getMessagesUrl,data:t}).success(function(n){n.Success!=null&&n.Success==!1?AAT.utils.sendToLog(n.Message):r!=null&&r(n)}).error(function(){AAT.utils.sendToLog("Error occured. Try again later")})}function l(t,r){var u=t.attr("data-message-type"),e,f,s;(n("[data-show-message-type]").each(function(){n(this).toggle(u===n(this).attr("data-show-message-type"))}),n("[data-hide-message-type]").each(function(){n(this).toggle(u!==n(this).attr("data-hide-message-type"))}),t.hasAttr("data-ignore"))||(e=o[u],f=t.attr("data-page-count"),n(i.controls.pageSize).val(t.attr("data-page-size")),n(i.controls.pageNumber).val(t.attr("data-page-number")),n(i.controls.pageCount).val(f),f>1?n(i.controls.navBar).show():n(i.controls.navBar).hide(),s=r?"Guid":null,n(i.controls.list).table({columns:[{field:"DateTimeString",title:"Date",className:"col-message-date"},{field:"Subject"}],data:e,rowClass:function(n){return n.IsReadByRecipient==!1?"bold":""},rowClicked:function(n,t){li(t)},noItemsText:i.noItemsText,trackChangesByField:s}),w(t,u))}function a(t,r){var f="data-message-type="+t,u=n("["+f+"]",i.controls.tabs),e=n("["+f+"] a",i.controls.tabs);if(!u.length||u.length==0){AAT.utils.sendToLog("tab "+t+" was not found");return}b(e);r&&g(u)}function g(t){var r=n(i.controls.pageSize).val(),u=n(i.controls.pageNumber).val(),s=n(i.controls.pageCount).val(),f=t.attr("data-message-type"),e={MessageDirection:f,PageIndex:u-1,PageSize:r};d(e,function(n){o[f]=n.Messages;t.attr("data-page-count",n.PagesCount);t.attr("data-page-number",u);t.attr("data-page-size",r);t.hasClass("active")&&l(t,!0)})}function ui(){var t=n(".active[data-message-type]",i.controls.tabs);return t.length==0&&AAT.utils.sendToLog("no active tab found"),t}function nt(){var n=ui();g(n)}function fi(t,r){n.ajax({url:i.dataUrls.setMessageRead,type:"POST",data:{guid:t}}).success(function(n){n.Success!=null&&n.Success==!1?(AAT.utils.sendToLog(n.Message),tt("Error occured. Try again later.")):r!=null&&r()}).error(function(){tt("Error occured. Try again later.");AAT.utils.sendToLog("Error occured. Try again later.")})}function tt(n){AAT.utils.confirm("Error",n,"OK","btn-danger",null,null,"close",!1,!0)}function c(){return parseInt(n(i.controls.pageNumber).val())}function it(){return parseInt(n(i.controls.pageCount).val())}function ei(){var n=c(),t=it();n<t&&s(n+1)}function oi(){var n=c();n>1&&s(n-1)}function si(){var n=c();n!=1&&s(1)}function hi(){var t=c(),n=it();t!=n&&s(n)}function ci(){s(1)}function s(t){n(i.controls.pageNumber).val(t);nt()}function rt(){a("send-message",!1)}function li(n){function r(){ut({url:null,message:n,queryTypeGuid:n.QueryTypeGuid,queryTypeInfoHtml:t,subject:n.Subject,text:n.Text,btnText:"Close",readonly:!0,conversationGuid:n.ConversationGuid,onSuccess:null})}var t;t=n.QueryTypeGuid?n.CategoryName+" &bull; "+n.QueryTypeQuestion:"";n.IsReadByRecipient?r():fi(n.Guid,function(){r();nt();i.messageWasSetAsRead!=null&&i.messageWasSetAsRead()})}function ut(t){var u=n(".save-button",i.dialogs.editMessageDialog),c=n(".reply-button",i.dialogs.editMessageDialog),l=n(".cancel-button",i.dialogs.editMessageDialog),e=n(i.dialogs.editMessageDialog),a=n("h3",i.dialogs.editMessageDialog),r=n("form",i.dialogs.editMessageDialog).first(),y=n(".create-message-warning",i.dialogs.editMessageDialog),p=n(i.controls.fileupload,i.dialogs.editMessageDialog),s=n(".query-type-info",i.dialogs.editMessageDialog),f=n("[data-type=html]",i.dialogs.editMessageDialog),h=n("[data-type=text]",i.dialogs.editMessageDialog),o;t.queryTypeGuid?(s.toggle(!0),s.html(t.queryTypeInfoHtml)):(s.toggle(!1),s.html(""));o=t.message&&t.message.SenderGuid!==t.message.RecipientGuid;n("[name=QueryTypeGuid]",i.dialogs.editMessageDialog).val(t.queryTypeGuid);h.first().val(t.subject);h.last().val(t.text);u.val(t.btnText);n("[name]",i.dialogs.editMessageDialog).prop("readonly",t.readonly);t.conversationGuid!=null&&(n("[name=Subject]",i.dialogs.editMessageDialog).attr("readonly",!0),n("[name=ConversationGuid]",i.dialogs.editMessageDialog).val(t.conversationGuid));t.url?(r.attr("action",t.url),r.attr("method","POST"),u.unbind().click(function(){n(this).hasClass("disabled")||r.irValidate()&&r.submit()}),r.unbind().submit(function(n){r.irValidate()||n.preventDefault()}),y.show(),l.show(),c.hide(),f.hide(),h.show(),u.addClass("btn-primary"),a.text("Send Message"),p.show()):(r.removeAttr("action"),r.removeAttr("method"),u.unbind().click(function(){e.modal("hide")}),r.unbind().submit(function(n){n.preventDefault()}),y.hide(),l.hide(),u.removeClass("btn-primary"),c.toggle(o),f.toggle(o),o&&(f.first().html(t.subject),f.last().text(t.text),f.last().html(f.last().html().replace(/(https?:\/\/[^\s]+)/g,'<a href="$1" target="_blank">$1<\/a>').replace(/\n/g,"<br />"))),h.toggle(!o),a.text("Message"),p.hide());t.message&&t.message.Attachments&&v(t.message.Attachments,!1);r.ajaxFormUnbind();r.ajaxForm({beforeSend:function(){u.addClass("disabled")},success:function(n){u.removeClass("disabled");n.Success?(t.onSuccess!=null&&t.onSuccess(),e.modal("hide")):(AAT.utils.sendToLog(n.Message),r.errorMessage({error:n}))},error:function(){u.removeClass("disabled");AAT.utils.sendToLog("Some error occured. Try again later")}});e.unbind("hidden");e.on("hidden",function(){ai(t.readonly)});e.irModal("show","[name=Subject]")}function ai(t){var u=n(i.dialogs.editMessageDialog);u.is(":visible")||(t?(r.clearInlineForm(),r.hideInlineForm()):h(function(){r.clearInlineForm();r.hideInlineForm()}))}function ft(t,r){var f=n(".modal:visible");if(f&&f.length!==0||(f=n(i.dialogs.editMessageDialog),rt()),!n(i.dialogs.uploadForm,f).first().attr("action")){r.abort();return}u>=i.fileupload.maxFilePerMessage?(r.abort(),e("Only 5 files per message is allowed.")):vi()}function et(t,i){if(i.files.error){var r="";n.each(i.files,function(n,t){t.error&&(r+="<p><b>{0}:<\/b> {1}<\/p>".f(t.name,t.error),lt())});e(r,!0)}}function ot(n,t){lt();var i=t.result;i!=null?i.Success?(r.isInlineFormVisible()&&r.filesAttached(i.Data.length>0),v(i.Data,!0),st(i.Data)):e(i.Message):e("Your attachment can not be uploaded. Please try again later.")}function v(t,u){var o=r.isInlineFormVisible()?i.controls.inlineFiles:i.controls.files,f,e;n(o).html("");t.length&&(f=n('<table class="table table-striped table-bordered table-hover"><\/table>'),f.appendTo(o),e=n('<tr><th>File<\/th><th class="col-size">Size<\/th><\/tr>'),u&&n('<th class="col-actions">Actions<\/th>').appendTo(e),e.appendTo(f),n.each(t,function(t,r){var s=u?'<td class="col-actions"><\/td>':"",e=n('<a href="javascript:void(0);" data-file-id="{0}">delete<\/a>'.f(r.Guid)),c=u?r.Filename:'<a href="{0}?guid={1}">{2}<\/a>'.f(i.dataUrls.getFileUrl,r.Guid,r.Filename),o=n('<tr><td>{0}<\/td><td class="col-size">{1}<\/td>{2}<\/tr>'.f(c,r.Size,s));o.appendTo(f);u&&(e.appendTo(o.find("td").last()),e.click(h))}))}function st(t){t.length>=i.fileupload.maxFilePerMessage?n(i.controls.fileuploadButton).hide():n(i.controls.fileuploadButton).show()}function h(t){n.showLoader();ht();ct();var u=i.fileupload.formId,f=n(this).attr("data-file-id");n.ajax({url:i.dataUrls.deleteFileUrl,type:"POST",data:{formId:u,fileId:f}}).success(function(t){t.Success?(r.isInlineFormVisible()&&r.filesAttached(t.Data.length>0),v(t.Data,!0),st(t.Data)):e(t.Message);n.hideLoader()}).error(function(){e("Error occured. Try again later",!1,!0);n.hideLoader()}).done(function(){n.isFunction(t)&&t()})}function e(t,u,f){if(f)AAT.utils.sendToLog(t);else{var o="[data-toggle=upload-error-message]",e;e=r.isInlineFormVisible()?n(i.controls.queryTypeContainer).find(o):n(i.dialogs.editMessageDialog).find(o);u?n(t).appendTo(e):e.text(t);e.show()}}function ht(){var t=n(i.dialogs.editMessageDialog);t.find("[data-toggle=error-message]").text("").hide()}function ct(){var t="[data-toggle=upload-error-message]",u;u=r.isInlineFormVisible()?n(i.controls.queryTypeContainer).find(t):n(i.dialogs.editMessageDialog).find(t);u.text("").hide()}function vi(){u==0&&(ht(),ct(),n.showLoader());u++}function lt(){u--;u<0&&(u=0);u==0&&n.hideLoader()}function yi(n){i.newMessageArrived=n}var at=2,vt={reload:ti,newMessage:yi},r,i,yt={mode:"full",controls:{},dataUrls:{getMessagesUrl:null,createMessagesUrl:null,setMessageRead:null,getUnreadMessagesCountUrl:null},fileupload:{},dialogs:{},loadCompleted:null,noItemsText:"",timerInterval:-1,messageWasSetAsRead:null,newMessageArrived:null},o=[],u=0,f=null;return pt()}n.extend(!0,AAT,{SupportMessagesManager:t})}(jQuery);
window.AAT==null&&(window.AAT={}),function(n){function t(t){function e(){n(r.controls.inlineFileUpload).fileupload().on("fileuploadadd",s).on("fileuploadprocessalways",h).on("fileuploadalways",c);return i.viewModel=new o,ko.applyBindings(i.viewModel,n(r.controls.viewModelContainer)[0]),i}function o(){var t=this;t.errorMessage=ko.observable(null);t.uploadedAttachments=ko.observableArray([]);t.limitDepositsValues=ko.observableArray(["$30,000","$50,000","$100,000","Over $100,000"]);t.selectedLimit=ko.observable(null);t.optionalComments=ko.observable(null);t.validateAttachmentsForm=function(){var n={IsValid:!0};return t.uploadedAttachments().length===0&&(n.IsValid=!1,n.Message="It is required to attach at least 1 file"),n};t.neededShowAddFilesBtn=ko.computed(function(){return t.uploadedAttachments().length<r.fileupload.maxFilePerMessage});t.createSupportmessage=function(){if(n(r.controls.viewModelContainer).irValidate()){let i="Deposit Increase Request to {0}".f(t.selectedLimit());var u={FormId:r.formId,Subject:i,Text:t.optionalComments()||i,QueryTypeGuid:r.queryTypeGuid};n.showLoader();n.ajax({url:r.urls.createMessageUrl,data:u,type:"POST"}).success(function(i){if(n.hideLoader(),i.Success){AAT.utils.confirm("Deposit limit increase","Your request to increase the deposit limit has been sent for review. You will be notified via support when your request is processed","Ok","btn-success",function(){window.location=r.urls.accountsPageUrl},null,null,null,!0);return}t.errorMessage(i.Message)}).error(function(){t.errorMessage("An error occurred, please try again later");n.hideLoader()})}};t.removeAttachment=function(t){n.showLoader();i.viewModel.errorMessage(null);var u=r.formId;n.ajax({url:r.urls.deleteFileUrl,type:"POST",data:{formId:u,fileId:t.Guid}}).success(function(t){t.Success?i.viewModel.uploadedAttachments(t.Data):i.viewModel.errorMessage(t.Message);n.hideLoader()}).error(function(){i.viewModel.errorMessage("Error occured. Try again later",!1,!0);n.hideLoader()})}}function s(n,t){u>=r.fileupload.maxFilePerMessage?(t.abort(),i.viewModel.errorMessage("Only 5 files per message is allowed.")):l()}function h(t,r){if(r.files.error){var u="";n.each(r.files,function(n,t){t.error&&(u+="<p><b>{0}:<\/b> {1}<\/p>".f(t.name,t.error),f())});i.viewModel.errorMessage(u)}}function c(n,t){f();var r=t.result;r!=null?r.Success?i.viewModel.uploadedAttachments(r.Data):i.viewModel.errorMessage(r.Message):i.viewModel.errorMessage("Your attachment can not be uploaded. Please try again later.")}function l(){u===0&&(i.viewModel.errorMessage(null),n.showLoader());u++}function f(){u--;u<0&&(u=0);u===0&&n.hideLoader()}var r=t,u=0,i={viewModel:null};return e()}n.extend(!0,AAT,{SupportIncreaseDepositManager:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function e(n){n=ir.math.decimal(n);var t=window.currencyManager.getCurrencyConfiguration(i.currency),r=t.VisibleDecimalPlaces,u=ir.math.round(ir.math.mul(n,i.proportion),r),f=ir.math.add(i.fixed,u);return ir.math.visible(f,i.currency,!1)}function o(n){var t=ir.math.sub(ir.math.decimal(n),i.fixed),u;return r()?(u=ir.math.add(ir.math.decimal("1"),i.proportion),ir.math.visible(ir.math.div(t,u),i.currency)):t}function s(){var n="",t,r;return ir.math.cmp(i.proportion,0)&&(t=ir.math.mul(i.proportion,ir.math.decimal("100")),n+=`${t}%`),ir.math.cmp(i.fixed,0)&&(n.length>0&&(n+=" + "),r=ir.math.visible(i.fixed,i.currency,!1),n+=`${i.currency.toUpperCase()} ${r}`),n}function h(){return!ir.math.cmp(i.fixed,0)&&!r()}function r(){return ir.math.cmp(i.proportion,0)!==0}function c(){return i=n.extend(!0,f,t||{}),i.fixed=ir.math.decimal(i.fixed),i.proportion=ir.math.decimal(i.proportion),u}var u={estimate:e,estimateAvailable:o,toHumanReadable:s,isZero:h,isPercentage:r},i,f={fixed:0,proportion:0,currency:undefined};return c()}function i(i){function tr(){var u,t,e,o;if(r=n.extend(!0,ki,i||{}),r.dataProvider&&(n(window).bind(ht,pt),vt()),r.initData&&(h=r.initData,f=r.initData),r.loadOnInit&&c(),r.timerInterval>0&&window.setInterval(c,r.timerInterval),r.refreshControl!=null&&(u=r.dataProvider?vt:c,n(r.refreshControl).spinner({onRefresh:u,updateInterval:r.timerInterval,popoverPlacement:"left"})),r.dialogs!=null){n.eachPrimary(ui);for(t in r.dialogs)e=n(r.dialogs[t]),et(e)>0&&(o=new IR.Tabs({tab:r.dialogs[t]+" li[data-content-control]"}),n(o).bind("tabChanged",ku))}window.currencyManager.onCurrencyChangedOnServer(function(){c()});return r.dataProvider&&vi(),bi}function rr(){return h}function ur(t,i,u){if(window.__tokenChanged){n.log("__tokenChanged: accounts list");return}if(ai(),r.dataProvider){var f=r.dataProvider.getServerData();pt(null,f);l(!0);ut(u)}else n.enqueueRequest({url:r.dataUrls.getAccountsUrl,data:{Manual:i},type:"POST"},{done:function(n){h=null;n==null?(AAT.utils.sendToLog("accounts list is empty"),l(!1)):n.Success===!1?(AAT.utils.sendToLog(n.Message),l(!1)):(t!=null&&t(n),l(!0),h=n,vi());ut(u)},error:function(t){h=null;n.interrupted(t)||(l(!1),AAT.utils.sendToLog("Error occured. Try again later"),ut(u))}},pi)}function fr(){var s=n.primary(),h=n.secondary(),i=n(r.control),e,o,u,t;if(i.html(""),e=n(r.mobileControl),e.html(""),r.light&&i.append(n('<tr><td class="title">Available Balance<\/td><\/tr>')),f)if(r.light||r.inline)for(o=!0,u=0;u<f.length;u++)t=f[u],(t.CurrencyCode===s||t.CurrencyCode===h||ir.math.greater(t.AvailableBalance,0))&&(er(i,t,o),o=!1);else lt(i,!1),lt(e,!0);r.light||(br(),yr())}function er(t,i,u){var f,e,o,s;r.light?f=n("<tr><\/tr>").append(n('<td class="value uppercase">{0} {1}<\/td>'.f(i.CurrencyCode.toUpperCase(),i.AvailableBalance)).formatNumber(i.CurrencyCode,!1)):r.inline?(f=n('<span class="value uppercase" data-currency="{0}">{0} {1}<\/span>'.f(i.CurrencyCode.toUpperCase(),i.AvailableBalance)).formatNumber(i.CurrencyCode,!1),u&&f.addClass("first")):(e=n('<table class="table table-bordered table-condensed"><\/table>').append(n("<tr><\/tr>").append(n('<th colspan="2"><\/th>').text(i.CurrencyCode))),at(e,"Total",i.CurrencyCode,i.TotalBalance),at(e,"Available",i.CurrencyCode,i.AvailableBalance),o=n('<a href="javascript:void(0)" class="btn-deposit-account"><\/a>').addClass(i.CurrencyCode.toLowerCase()+"-deposit").attr("data-account-guid",i.AccountGuid).text("deposit"),s=n('<a href="javascript:void(0)" class="btn-withdraw-account pull-right"><\/a>').addClass(i.CurrencyCode.toLowerCase()+"-withdraw").attr("data-account-guid",i.AccountGuid).text("withdraw"),e.append(n("<tr><\/tr>").append(n('<td colspan="2"><\/td>').append(o).append(" ").append(s))),f=n('<div class="span4"><\/div>').append(e));t.append(f)}function ct(t){var i=n.isPrimary(t)?"currency-crypto-tiny":"currency-flag-tiny";return'<img src="/img/flags/{0}.svg" class="pull-right {1}"><\/i>'.f(t,i)}function or(t,i){var r=n.format(t.TotalAccountValue),u="&&{0}-account&&".f(t.CurrencyCode),f="&&{0}-value&&".f(t.CurrencyCode),e="&&{0}-class&&".f(t.CurrencyCode),o=t.CurrencyCode.toUpperCase()+ct(t.CurrencyCode),s=+t.TotalAccountValue>0,h=s?"":"hide";return i.replaceAll(u,o).replaceAll(f,r).replaceAll(e,h)}function lt(t,i){var p=n('<table class="table table-bordered table-condensed accounts-balance-table"><\/table>'),s,v,e,o,l,b,k,w,d,tt;for(p.append('<tr class="notransform"><th>Currency<\/th><th>Available<\/th><th>Total<\/th><th class="col-account-actions">Actions<\/th><\/tr>'),s=r.accountValuePopup,v=0;v<f.length;v++){var u=f[v],h=n("<tr><\/tr>"),it=ct(u.CurrencyCode),rt=n.isPrimary(u.CurrencyCode)?"primary-currency":"secondary-currency",c=n('<td class="col-account-currency {0}"><\/td>'.f(rt));c.append(n('<span class="account-currency-info">{0}<\/span>'.f(u.CurrencyCode)));c.append(it);h.append(c);c.find(".account-currency-info").irPopover({content:u.CurrencyName,placement:"right"});c.find("img").irPopover({content:u.CurrencyName,placement:"right"});e=a(u.CurrencyCode,!0);e=i?ir.math.trimTrailingZeroes(e,2):ir.math.valuable(e,u.CurrencyCode);o=wt(u.CurrencyCode,!0);o=i?ir.math.trimTrailingZeroes(o,2):ir.math.valuable(o,u.CurrencyCode);Number.isNaN(e)&&(e=a(u.CurrencyCode,!1));Number.isNaN(o)&&(o=wt(u.CurrencyCode,!1));h.append(n('<td class="col-account-balance-value"><\/td>').text(e).addCommas().greyOutTrailingZeros(u.CurrencyCode,!0));h.append(n('<td class="col-account-balance-value"><\/td>').text(o).addCommas().greyOutTrailingZeros(u.CurrencyCode,!0));l=n('<td class="col-account-actions"><\/td>');ot(u.CurrencyCode)?(hr(u)&&(b=n('<a href="javascript:void(0)" class="btn-deposit-account"><\/a>').addClass(u.CurrencyCode+"-deposit").attr("data-account-guid",u.AccountGuid).text("deposit"),l.append(b).append(" | ")),k=n('<a href="javascript:void(0)" class="btn-withdraw-account"><\/a>').addClass(u.CurrencyCode+"-withdraw").attr("data-account-guid",u.AccountGuid).text("withdraw"),l.append(k)):r.disabledPopup&&(w=n('<a href="javascript:void(0)">info<\/a>'),l.append(w),d=r.disabledPopup.replaceAll("{{name}}",r.disabledDepositsWithdrawals[u.CurrencyCode]),w.irPopover({content:d,placement:"right",html:!0}));h.append(l);p.append(h);s=or(u,s)}t.append(p);var y=f[0],g=n.format(y.SumTotalAccountsValue),nt=n('<a href="javascript:void(0)">Account Value Summary<\/a>');s=s.replaceAll("&&total-amount&&",g).replaceAll("&&displayed-currency&&",y.SecondaryCurrency.toUpperCase());n(r.accountValueControl.total).text(`${y.SecondaryCurrency.toUpperCase()} ${g}`);tt="Account Value in {0}".f(y.SecondaryCurrency.toUpperCase());nt.irPopover({content:s,placement:"bottom",html:!0,title:tt});n(r.accountValueControl.body).empty().append(nt)}function at(t,i,r,u){var f=n('<td class="col-account-balance-value"><\/td>').text(r+" "+u);f.addCommas().greyOutTrailingZeros(r);t.append(n("<tr><\/tr>").append(n('<td class="col-account-balance-description"><\/td>').text(i)).append(f))}function sr(t){return n.isToken(t.CurrencyCode)?f.some(function(n){return n.CurrencyCode=="Eth"&&!!n.DepositAddress}):!!t.DepositAddress}function hr(n){var t=window.currencyManager.getCurrencyConfiguration(n.CurrencyCode);return t.CurrencyType==="Primary"&&!sr(n)?!1:t&&t.IsVisible}function cr(n){var t=!r.isEnabled&&n;r.isEnabled=n;t&&c(!0)}function c(n,t){r.isEnabled&&ur(yt,n,t)}function vt(n){r.isEnabled&&r.dataProvider.reload(n)}function yt(t){var u,i;if(f=t,fr(),!r.light){for(u=0;u<f.length;u++)i=f[u],n.isPrimary(i.CurrencyCode)&&ot(i.CurrencyCode)&&wr(i.CurrencyCode,i.DepositAddress,i.DepositAddressQrCodeBase64,i.DepositAddressAlternative,i.DepositAddressTag),r.onDepositAddressMessageBus!=null&&r.onDepositAddressMessageBus.publish(t.DepositAddress,i.CurrencyCode);ar()}}function lr(t){var t,i,r;if(!f)return null;for(t=n.getRootCurrency(t),i=0;i<f.length;i++)if(r=f[i],r.CurrencyCode===t)return{address:r.DepositAddress,tag:r.DepositAddressTag};return null}function pt(n,t){t!=null&&(ai(),yt(t),l(!0))}function ar(){for(var t=0;t<f.length;t++)if(f[t].TotalBalance>0){n(".no-available-balance-warning").hide();return}n(".no-available-balance-warning").show()}function vr(n){if(f==null)return null;n=n.toUpperCase();for(var t=0;t<f.length;t++)if(f[t].CurrencyCode.toUpperCase()==n)return f[t];return null}function yr(){var i=r.control,u=r.mobileControl,n,t;if(f)for(n=0;n<f.length;n++)t=f[n],kt(t.CurrencyCode,i),kt(t.CurrencyCode,u)}function pr(n){return n in g?g[n]:null}function a(n,t){return bt(n,"AvailableBalance",t)}function wt(n,t){return bt(n,"TotalBalance",t)}function bt(n,t,i){var r=vr(n),u=0;return r!=null&&(t=i?"Raw"+t:t,u=r[t]),u}function y(t){var i=new Decimal(a(t)),u;return n.isPrimary(t)?i=ir.math.sub(i,new Decimal(r.configuration.withdrawalFee[t])):(u=w(t),u!==null&&(i=u.fee.estimateAvailable(i))),ir.math.greater(0,i)&&(i=new Decimal(0)),ir.math.visible(i,t,!1)}function kt(t,i){var u=pr(t),f=a(t),e;g[t]=f;r.dialogs!=null&&p(t);u&&r.highlightChanges&&(e=n(i).find("[data-currency="+t.toUpperCase()+"]"),ir.math.greater(f,u)?e.showGrowth():ir.math.greater(u,f)&&e.showFall())}function wr(t,i,u,f,e){if(r.dialogs!=null){if(n.isToken(t))return;var o=rt(t);n(".deposit-address",o).text(i);n(".deposit-address-alternative",o).text(f);n("#deposit-address-qr",o).attr("src","data:image/png;base64,"+u);n(".copy-button-address",o).attr("data-clipboard-text",i);n(".copy-button-alternative",o).attr("data-clipboard-text",f);n(".deposit-address-tag",o).text(e);n(".copy-button-tag",o).attr("data-clipboard-text",e);n("[name=ViaSygnaBridge]",o).unbind("change").change(function(){var t=n(this).is(":checked");n(".sygna-deposit-details",o).toggle(t)})}}function br(){var i,u,n,e,t;if(r.dialogs!=null)for(i=r.control,u=r.mobileControl,n=0;n<f.length;n++)e=f[n],t=e.CurrencyCode,ot(t)&&(dt(t,i),dt(t,u))}function dt(t,i){var s=n.isSecondary(t),c=n("."+t+"-deposit",i),e=rt(t),h,f;c.click(function(){if(s){if(!gt(t,"deposit"))return!1;var i=hi(t).length;i?typeof depositDialogName=="string"?(r.prefixes!=null&&(e.find(".ref-no-prefix").text(r.prefixes[t]),e.find("[data-currency]").hide(),e.find('[data-currency="'+t+'"]').show()),e.irModal("show")):r.createDeposit!=null&&r.createDeposit(t,o):n(r.dialogs.depositFiatNoBankAccounts).irModal("show")}else dr(t),e.irModal("show")});h=n("."+t+"-withdraw",i);f=u(t);h.click(function(){var i,h,u,c,e,l;if(nu(t),s){if(!gt(t,"withdrawal"))return!1;if(i=n("[name=BankAccountGuid]",f),h=i.has("option:not(:disabled)").length>0,(h||t==="Sgd")&&r.dialogs.enableWithdrawals){if(t==="Sgd"&&ft(h,f,n("form",f),n(".withdrawal-controls",f)),et(f)){for(u=o[0].OriginalType,c=!0,e=1;e<o.length;e++)if(o[e].OriginalType!=u){c=!1;break}c||(u="Swift");n("[data-control-type={0}]".f(u),f).click()}it(t);f.fillData({WithdrawAmount:"",BankAccountGuid:"",Password:"",AuthCode:"",UserComment:""}).irModal("show");l=kr(t);l&&i.val(l.guid);i.change();f.data("max-withdrawal-amount",undefined);ri(t)}else n(r.dialogs.withdrawFiatNoBankAccounts).irModal("show")}else ni(t),gr(t),it(t),ru(f),uu(t),f.fillData({WithdrawAmount:"",DestinationAddress:"",Password:"",AuthCode:"",UserComment:"",DestinationTag:"",UserCode:"",VaspCode:"",SygnaTransferId:""}).irModal("show")});f.off("shown").on("shown",function(){n("[name=WithdrawAmount]",f).focus();et(f)||du(f)})}function gt(t,i){var u,f,e;switch(r.configuration.userEntity){case"Sg":if((u=ci(),u&&n.inArray(t,u.supportedCurrencies)!==-1)||t==="Sgd")return!0;break;default:if(t!=="Sgd")return!0}return f=n(`<div class="alert alert-warning" style="margin-bottom: -10px">Sorry, this currency is not available for ${i}.</div>`),e=AAT.utils.confirm(`${t.toUpperCase()} ${i}`,f,"Ok","btn-warning",function(){e.modal("hide")},null,null,null,!0),!1}function kr(t){function c(n){var i=r.preferencesProvider.bankAccount.get(n.attr("value"),t);return i.lastWithdrawalDate?moment(i.lastWithdrawalDate):null}var a=u(t),i=n("[name=BankAccountGuid] option:not([disabled])",a),e,h,o;if(i.length==null)return null;var l=i.filter(function(){return n(this).data("currency").toUpperCase()===t.toUpperCase()}),f=n((l.length?l:i).get(0)),s=c(f);for(e=0;e<i.length;++e)(h=n(i.get(e)),o=c(h),o)&&(!s||o.isAfter(s))&&(f=h,s=o);return{guid:f.attr("value"),npp:f.data("npp")}}function ni(t,i){var o=u(t),f,e;r.addressVerificationManager&&(f=window.currencyManager.getCurrencyConfiguration(t).HostCurrencyTicker,e=r.addressVerificationManager.getAddresses().filter(function(n){return n.meta.ticker==f}),n("[name=DestinationAddress]",o).val(i).data("addresses",e).trigger("change"))}function dr(t){var e=t==="Eth"||t==="Etc",f=n.isToken(t),i=rt(t),u,o;(e||f)&&(u=n.currencyPartition(t).toLowerCase(),n(`.deposit-${u}-currency-name`,i).text(n.currencyName(t)),n(`.deposit-${u}-currency-code`,i).text(t),n(`.deposit-${u}-warning`,i).toggle(e),n(`.deposit-erc20-warning`,i).toggle(f),n(`.deposit-erc20-abbreviation`,i).toggle(f&&n.currencyName(t).toLowerCase()!=t.toLowerCase()),n(".deposit-pla-warning",i).toggle(t==="Pla"),n(`.deposit-gnt-warning`,i).toggle(t==="Gnt"));o=r.configuration.sygnaSupportedCurrencies.indexOf(t)>=0;n(".sygna-deposit-option-partial",i).toggle(o);n("[name=ViaSygnaBridge]",i).prop("checked",!1).change()}function gr(t){var e=t==="Eth",h=e||t==="Etc",f=n.isToken(t),i=u(t),o,s;(h||f)&&(o=n.currencyPartition(t).toLowerCase(),n('[name="CryptoCurrency"]',i).val(t),n('[name="WithdrawAmount"]',i).data("currency",t),n(`.withdraw-${o}-currency-name`,i).text(n.currencyName(t)),n(`.withdraw-${o}-currency-code`,i).text(t),n(`.withdraw-erc20-warning`,i).toggle(f||e),n(`.withdraw-erc20-token`,i).toggle(f),n(`.withdraw-erc20-abbreviation`,i).toggle((f||e)&&n.currencyName(t).toLowerCase()!=t.toLowerCase()),p(t),ui(t),tu(t));s=r.configuration.sygnaSupportedCurrencies.indexOf(t)>=0;n(".sygna-withdraw-option-partial",i).toggle(s)}function nu(t){function l(i){var r=n('<div><div class="alert alert-error no-margin" data-toggle="error-message"><\/div><\/div>'),f;r.errorMessage({error:i});f=AAT.utils.confirm("Error withdrawing",r,"ok, let's try a different method","btn-primary",function(){f.modal("hide");var n=u(t);n.irModal("show");b.click();ri(t)},null,null,null,!0)}var h=n.isSecondary(t),i=u(t),b=n(".btn-cancel",i),e=n(".btn-save",i),f=n("form",i),g=n(".max-amount-button",i),tt=n("[name=WithdrawAmount]",i),c=n("[name=AcceptTnC]",i),d,o,a;if(g.click(function(){var r=y(t),u=i.data("max-withdrawal-amount"),f=w(t);h&&f&&f.withdrawalType===s&&n.isNumeric(u)&&(r=ir.math.min(r,u));tt.val(r).change()}),c.length&&(c.unbind("change").change(function(){e.prop("disabled",!n(this).is(":checked"))}),c.prop("checked",!1).trigger("change")),e.unbind("click").click(function(){n(this).hasClass("disabled")||(si(t)?h?vu(t):au(t):yu(t))}),b.unbind("click").click(function(){if(si(t))i.modal("hide");else{var r=v(t);r&&(n(".btn-save",i).show(),n(".btn-sygna-request",i).hide(),i.fillData({SygnaTransferId:""}));it(t)}}),f.ajaxFormUnbind(),f.ajaxForm({beforeSend:function(){e.addClass("disabled")},success:function(u){e.removeClass("disabled");var o=f.find("select[name=BankAccountGuid]");r.preferencesProvider.bankAccount.set(o.val(),{currency:t,lastWithdrawalDate:moment().toISOString(),preferNpp:n("[name=UseNppToBankAccount]",f).is(":checked")});n.confirmationRequired(u,r.dataUrls.confirmWithdrawalUrl,function(u){if(u.Success)if(r.successWithdrawal!=null){i.modal("hide");var e=f.find("input[name=WithdrawAmount]").val(),o=n("<div><\/div>").text("{0} {1}".f(t.toUpperCase(),e)).addCommas(),s="A withdrawal for {0} is pending, and will be processed shortly.".f(o.text()),h=AAT.utils.confirm("Withdrawal",s,"Ok","btn-success",function(){h.modal("hide")},null,null,null,!0);r.successWithdrawal(t)}else n.reload();else AAT.utils.sendToLog(u.Message),n.isSecondary(t)&&!u.FieldName?l(u):f.errorMessage({error:u})},undefined,function(i,r){var u=window.currencyManager.getCurrencyConfiguration(t);return r.data+="&"+n.param({Type:u.CurrencyType}),this.irValidate()},function(i){n.isSecondary(t)&&!i.FieldName&&($modal=n(this).parent(".modal"),$modal.modal("hide"),l(i))})},error:function(){e.removeClass("disabled");AAT.utils.sendToLog("exception occured while making withdrawal");l({Success:!1,Message:"An error occurred, please try again later"})}}),h){d=n("[name=BankAccountGuid]",i);o=n("[name=UseNppToBankAccount]",i);d.unbind("change").change(function(){var u=n("[name=BankAccountGuid]:visible :selected",i),e,s,h,f,l,a,c;u.size()>0&&(e=u.data("bank-account-type"),ii(e,i),n("[name=BankAccountType]",i).val(e),s=fi(u),$nppContainer=n(".bank-account-use-npp",i),$nppContainer.toggle(s),h=!1,s&&(f=u.data("npp").Enabled&&r.configuration.enableOskoFiatWithdrawals,o.prop("disabled",!f),l=r.preferencesProvider.bankAccount.get(u.attr("value"),t),h=f&&l.preferNpp,a=r.configuration.enableOskoFiatWithdrawals?f?"Withdrawals to accounts that are not on the NPP network will fail without incurring the withdrawal fee. You will have to initiate the withdrawal again. While NPP withdrawals are normally instant, in some cases banks may delay processing by 24 hours.":"Your account doesn't appear to be enabled for NPP.":k.f("PayID/Osko"),$nppContainer.find(".npp-info").attr("data-content",a)),o.prop("checked",h).change(),p(t),nt(t),c=u.hasClass("disabled"),n(".bank-account-disabled",i).toggle(c).addClass("text-danger").html('<i class="fa fa-exclamation-triangle"><\/i> {0}'.f(AAT.utils.escape(u.attr("title")))),i.find(".btn-save").prop("disabled",c))});o.unbind("change").change(function(){var r=u(t),i,f;n(this).is(":checked")?i=st:(f=n("[name=BankAccountGuid] :selected",r),i=f.data("bank-account-type"));ii(i,n(".withdrawal-alert",r));p(t);nt(t)});n("[name=WithdrawAmount]",i).off("change keyup paste").on("change keyup paste",function(){nt(t)})}else if(r.addressVerificationManager){a=window.currencyManager.getCurrencyConfiguration(t).HostCurrencyTicker;n(".alert-verify-address-link",i).unbind("click").click(function(){var u=n("[name=DestinationAddress]",i).val();return i.errorMessage({error:null,dialog:".withdrawal-verify-address-error"}),r.addressVerificationManager.create({currency:a,address:u,success:function(){ni(t,u)},failed:function(n){i.errorMessage({error:n,dialog:".withdrawal-verify-address-error"})}}),!1});n("[name=DestinationAddress]",i).off("change keyup paste").on("change keyup paste",function(){var u=n(this).val().trim(),s,h;i.errorMessage({error:null,dialog:".withdrawal-verify-address-error"});var e=ti(t,u),f=n(this).irValidate({showPopup:!1}),o=n(".alert-pending-address",i).toggle(f),c=n(".alert-verify-address",i).toggle(e==null&&f);f&&(r.addressVerificationManager.pendingAddressAlert(o,e),s=n('<a rel="noreferrer noopener" target="_blank">').attr("href",AAT.utils.getBlockExplorerAddressLinkTemplate(a).f(AAT.utils.escape(u))).text(u),n("[data-binding=address-link]",i).empty().append(s),h=v(t),h&&(o.hide(),c.hide()))})}}function ti(t,i){var f=u(t),e=n("[name=DestinationAddress]",f),r=e.data("addresses").filter(function(n){return n.currencyAddress.address.toUpperCase()===i.toUpperCase()});return r.length==0?null:r[0]}function ii(t,i){n("[data-display-account-type]",i).each(function(){$this=n(this);var i=$this.data("display-account-type");$this.toggle(i.filter(function(n){return n==t}).length!=0)})}function nt(i){var f=u(i),o=w(i),e,s;o&&(f.find("[data-withdrawal-type]").hide(),f.find(`[data-withdrawal-type=${o.withdrawalType}]`).show());e=o?o.fee:new t({currency:i});s=n("[name=WithdrawAmount]",f).val().trim();n(".withdrawal-fee",f).each(function(t,u){var o="",c,l,a,h;e.isZero()?o="No withdrawal fee.":(c="",e.isPercentage()&&n.isNumeric(s)&&ir.math.greater(s,0)&&(c=`(${i.toUpperCase()} ${e.estimate(s)})`),o="A withdrawal fee of <strong>{0} {1}<\/strong> applies.".f(e.toHumanReadable(),c));l=n("[name=BankAccountGuid] :selected",f).data("currency").capitalizeFirstLetter();a=r.fxRates.filter(function(n){return n.currencyCodeA==i&&n.currencyCodeB==l});i!=l&&a.length&&(h=a[0],o+=` Our current <span class="uppercase">${h.currencyCodeA}/${h.currencyCodeB}</span> buy rate is <strong>${ir.math.decimal(h.finalRate).toFixed(4)}</strong>. This rate is continually changing and may be slightly different when your withdrawal is processed.`);n(u).html(o)})}function ri(t){function i(n){f.find(".btn-save").prop("disabled",n)}if(["Aud","Sgd"].includes(t)){var f=u(t);i(!0);n.ajax({type:"GET",url:r.dataUrls.getWithdrawalLimitsUrl,data:{secondary:t}}).done(function(n){if(n&&n.success){var t=n.data;f.data("max-withdrawal-amount",Math.max(0,t.limit-t.withdrawn))}i(!1)}).error(function(){i(!1)})}}function p(t){var i=u(t),r=y(t);n("[name=AvailableBalance]",i).val(n.format(r,t,!1))}function ui(t){var f=r.configuration.withdrawalFee[t];let i=n("#withdraw-fee",u(t));if(t==="Pla"){i.text("A withdrawal fee of ETH 0.05 will be manually debited from your account. The support team will reach out with details on how to pay. Once settled, the withdrawal will be processed.\nPlease allow 2 business days for this to be completed.");i.html(i.text().replace(/\n/g,"<br/>"));return}i.text("A withdrawal fee of {1} {0} applies.".f(f,t.toUpperCase()))}function tu(t){var i=u(t),f=r.configuration.withdrawalMin[t];n(".withdrawal-minimum-amount-value",i).text(f);n(".withdrawal-enforce-min-amount").toggle(!window.currencyManager.getCurrencyConfiguration(t).AlwaysEnforceMinimumWithdrawal)}function iu(n){var t=n.find(".empty-destination-tag"),i=n.find("[name=DestinationTag]");t.off("change");t.removeProp("checked");i.removeProp("disabled")}function ru(n){var t=n.find(".empty-destination-tag"),i=n.find("[name=DestinationTag]");iu(n);t.change(function(){var n=t.prop("checked");n?i.val("").prop("disabled",!0):i.removeProp("disabled")})}function uu(t){var i=u(t),f=n(".sygna-controls",i);n("[name=UseSygnaBridge]",i).unbind("change").change(function(){var r=v(t);f.find(":input").prop("disabled",!r);f.toggle(r);n("[name=DestinationAddress]",i).change()}).prop("checked",!1).change();n(".btn-sygna-request",i).unbind("click").click(function(t){function e(n){i.errorMessage({error:n});f.toggleClass("disabled",!1)}var u,f;t.preventDefault();u=n("[name=SygnaTransferId]",i);u.val("");f=n(this).toggleClass("disabled",!0);n.ajax({type:"POST",url:r.dataUrls.postRequestPermission,data:i.find("form").serialize()}).done(function(n){if(!n||!n.success){e(n);return}u.val(n.transferId);tt(i,n.transferId)}).error(function(){e({message:"An error occurred while sending permission request"})})})}function tt(t,i){var u=n("[name=SygnaTransferId]",t);u.val()==i&&setTimeout(function(){n.ajax({type:"GET",url:r.dataUrls.getPermissionStatus,data:{transferId:i}}).done(function(r){if(!r||!r.success||r.isPermitted===null){tt(t,i);return}u.val()==i&&(r.isPermitted?oi(t,!0):(t.errorMessage({error:r}),n(".btn-sygna-request",t).prop("disabled",!1)))}).error(function(){tt(t,i)})},1e3)}function v(t){var i=u(t);return n("[name=UseSygnaBridge]",i).is(":checked")}function fu(n){return n.find(".empty-destination-tag").prop("checked")===!0}function eu(n,t,i,u){var f,s,o;if(!t)return e(n,"Provide withdrawal amount","WithdrawAmount"),!1;if(!AAT.utils.isNumber(t))return e(n,"Provide valid withdrawal amount","WithdrawAmount"),!1;if(ir.math.compare(t,0,n)<=0)return e(n,"Withdrawal amount should be positive","WithdrawAmount"),!1;if(f=y(n),ir.math.compare(t,f,n)>0)return e(n,"Insufficient funds","WithdrawAmount"),!1;if(s=r.configuration.withdrawalMin[n],ir.math.compare(t,f,n)<0&&ir.math.compare(t,s,n)<0)return e(n,"Below minimum withdrawal amount","WithdrawAmount"),!1;if(!i)return e(n,"Provide destination address","DestinationAddress"),!1;if(!ou(u,n))return e(n,"Either provide a destination tag or use empty one","DestinationTag"),!1;if(r.addressVerificationManager&&!v(n)){if(o=ti(n,i),o==null)return e(n,"You must prove the ownership of the address","DestinationAddress"),!1;if(o.status=="Pending")return e(n,"Destination address is not verified","DestinationAddress"),!1}return e(n,""),!0}function ou(n,t){return n!=undefined&&!n&&!fu(u(t))?!1:!0}function su(t,i){var o,f,h,l,a,c;return i?AAT.utils.isNumber(i)?ir.math.compare(i,0,t)<=0?(e(t,"Withdrawal amount should be positive","WithdrawAmount"),!1):(o=y(t),ir.math.compare(i,o,t)>0)?(e(t,"Insufficient funds","WithdrawAmount"),!1):(f=w(t),f.withdrawalType===s&&(h=u(t).data("max-withdrawal-amount"),n.isNumeric(h)&&ir.math.compare(i,parseFloat(h),t)>0))?(e(t,hu(t),"WithdrawAmount"),!1):(l=f.withdrawalType===s?r.configuration.providerSettings[f.provider.toLowerCase()].minimumWithdrawal:r.configuration.fiatWithdrawalMin,ir.math.compare(i,o,t)<0&&ir.math.compare(i,l,t)<0)?(e(t,"Below minimum withdrawal amount","WithdrawAmount"),!1):(a=u(t),c=n("[name=BankAccountGuid] :selected",a),c.hasClass("disabled"))?(e(t,c.attr("title"),"BankAccountGuid"),!1):(e(t,""),!0):(e(t,"Provide valid withdrawal amount","WithdrawAmount"),!1):(e(t,"Provide withdrawal amount","WithdrawAmount"),!1)}function hu(n){return n=="Aud"?"Instant NPP withdrawal limit exceeded":`${n.toUpperCase()} withdrawal limit exceeded`}function fi(n){return Boolean(n.data("npp"))}function cu(t,i){function a(n){return n.bankAccountType!=c?!1:n.maxAmount!==null&&ir.math.cmp(f,n.maxAmount)>0?!1:n.currency!==null&&n.currency!==t?!1:n.fiatBankId!==null&&n.fiatBankId!==l?!1:!0}var h=u(t),c=i.data("bank-account-type"),l=i.data("fiat-bank-id"),f=n("[name=WithdrawAmount]",h).val().trim(),o,e,s;if(n.isNumeric(f)||(f="0"),f=ir.math.decimal(f),i.data("currency").toUpperCase()!==t.toUpperCase())return null;for(o=r.configuration.providerRules,e=0;e<o.length;++e)if(s=o[e],a(s))return s.provider;return null}function w(i){var c=u(i),e=n("[name=BankAccountGuid] :selected",c),l,h,a,f,o;return e.length===0?null:(l=n("[name=UseNppToBankAccount]",c),h=e.data("npp"),fi(e)&&Boolean(h)&&l.is(":checked"))?{fee:new t({currency:i,fixed:h.Fee}),withdrawalType:s,provider:"Monoova"}:(a=e.data("withdrawal-type"),f={fee:e.data("fee"),withdrawalType:a},f.provider=cu(i,e),f.provider!==null&&r.configuration.providerSettings[f.provider.toLowerCase()].enabledFor.includes(r.configuration.userEntity)&&(f.withdrawalType=s,o=r.configuration.providerSettings[f.provider.toLowerCase()],f.fee=new t({currency:i,fixed:o.fee.fixed,proportion:o.fee.percentage?o.fee.percentage.proportion:0})),f)}function lu(t){var r=u(t),i=n("[name=DestinationAddress]",r).val();i&&(i=i.trim(),n("[name=DestinationAddress]",r).val(i))}function au(t){var i=u(t),f;if(lu(t),n(".withdrawal-information",i).irValidate()){f=n(".btn-save",i);f.addClass("disabled");var s=n("[name=WithdrawAmount]",i).val(),e=n("[name=DestinationAddress]",i).val(),o=n("[name=DestinationTag]",i).val();if(!eu(t,s,e,o)){f.removeClass("disabled");return}n.irAjax({url:r.dataUrls.validateCryptoAddress,data:{currency:t,address:e},success:function(){n.irAjax({url:r.dataUrls.validateDestinationTag,data:{currency:t,destinationTag:o},success:function(){f.removeClass("disabled");ei(t)},fail:function(t){f.removeClass("disabled");n("[name=DestinationTag]",i).validationPopup({message:t,form:n("form",i)})}})},fail:function(t){f.removeClass("disabled");n("[name=DestinationAddress]",i).validationPopup({message:t,form:n("form",i)})}})}}function vu(t){var i=u(t),r;n(".withdrawal-information",i).irValidate()&&(r=n("[name=WithdrawAmount]",i).val(),su(t,r))&&ei(t)}function yu(t){var i=u(t),r;i.irValidate()&&(r=n("form",i),r.submit())}function e(n,t,i){u(n).errorMessage({error:{Message:t,FieldName:i}})}function it(t){var i=u(t);n(".withdrawal-information",i).show();n(".security-check",i).hide();n(".btn-cancel",i).text("cancel");n(".btn-save",i).text(gi);n("[name=WithdrawAmount]",i).focus();n(".password-required",i).hide();n(".btn-sygna-request",i).hide();e(t,null)}function ei(t){var i=u(t),r,f;n(".withdrawal-information",i).hide();n(".security-check",i).show();n(".btn-cancel",i).text("back");n(".btn-save",i).text(nr);r=n("[name=Password]",i);r.length==0&&(r=n("[name=AuthCode]",i));r.val("").focus();n("[data-preview-bind]",i).each(function(){var t=n(this),u=t.attr("data-preview-bind"),f=t.hasAttr("data-copy-html"),e=f?n(u,i):n("[name="+u+"]",i),r=f?e.html():e.val();t.hasAttr("data-parse-float")&&(r=parseFloat(r),r=r.toFixed(2));t.is("input")?t.val(r):t.html(r)});e(t);f=v(t);oi(i,!f);n(".btn-sygna-request",i).prop("disabled",!1)}function oi(t,i){n(".btn-sygna-request",t).toggle(!i);n(".btn-save",t).toggle(i);n(".password-required",t).toggle(i)}function si(t){var i=u(t);return n(".withdrawal-information",i).is(":visible")}function pu(n){o=n;li()}function wu(n){d=n;li()}function bu(n){di=n}function hi(n){function f(n){switch(n.OriginalType){case st:return r.configuration.enableOskoFiatWithdrawals;case wi:return r.configuration.enableDbsFiatWithdrawals;default:return!0}}var u=o||[],i;return u=u.map(function(i){return{Id:i.Guid,CurrencyCode:i.CurrencyCode,Fee:new t({currency:n,fixed:i.WithdrawalFee}),Name:i.BankName,Npp:i.Npp,OriginalType:i.OriginalType,Type:i.BankAccountType,WithdrawalType:i.WithdrawalType,IsEnabled:f(i),DisabledMessage:k.f("PayID/Osko"),FiatBankId:i.FiatBankId}}),i=r.configuration.providerSettings["Xfers".toLowerCase()].fee,u.concat(d.map(function(u){return{Id:u.id,CurrencyCode:n.toUpperCase(),Fee:new t({currency:n,fixed:i.fixed,proportion:i.percentage?i.percentage.proportion:0}),Name:`${u.bankAbbreviation} - ${u.accountNumber}`,Npp:null,OriginalType:b,Type:b,WithdrawalType:s,IsEnabled:r.configuration.enableXfersFiatWithdrawals&&u.verificationStatus==="Verified",DisabledMessage:u.verificationStatus==="Verified"?k.f("Xfers"):"Bank account must be verified for withdrawals",FiatBankId:null}}))}function ci(){return r.configuration.userDbsWithdrawalsEnabled?r.configuration.providerSettings.dbstt:null}function li(){n("[data-fill-bank-accounts]").each(function(){var i=n(this),c=i.val(),o=i.parents(".modal:first"),l=i.data("account-types"),e=o.find("[name=SecondaryCurrencyCode]").val(),a=hi(e),s=a.filter(function(t){var i=ci();return i&&t.Type==="NonAustralian"&&n.inArray(e,i.supportedCurrencies)!==-1?t.CurrencyCode.toUpperCase()===e.toUpperCase():n.inArray(t.OriginalType,l)!==-1}),u,t,r,f,h;for(i.empty(),u=0;u<s.length;u++)t=s[u],r=n("<option/>").val(t.Id).text(t.CurrencyCode+" "+t.Name).data("fee",t.Fee).data("npp",t.Npp).attr("data-currency",t.CurrencyCode).data("bank-account-type",t.OriginalType).data("withdrawal-type",t.WithdrawalType).data("fiat-bank-id",t.FiatBankId),c===t.Id&&r.prop("selected",!0),t.IsEnabled||(r.addClass("disabled",!0),r.attr("title",t.DisabledMessage)),i.append(r);f=n("[name=UseNppToBankAccount]",o);h=f.prop("checked");i.change();f.is(":visible")&&f.prop("checked",h).change()})}function u(t){n.isToken(t)&&(t="Eth");var i="#modal-{0}-withdraw".f(t.toLowerCase());return n(i)}function rt(t){n.isToken(t)&&(t="Eth");var i="#modal-{0}-deposit".f(t.toLowerCase());return n(i)}function l(t){r.refreshControl!=null&&n(r.refreshControl).spinner(t?"success":"failed")}function ai(){r.refreshControl!=null&&n(r.refreshControl).spinner("spin")}function ut(n){r.loadCompleted&&r.loadCompleted();n&&n()}function vi(){n(window).trigger(ht,[h])}function yi(n){if(n===b)return d.length!=0;for(var t=0;t<o.length;t++)if(o[t].OriginalType==n)return!0;return!1}function ft(t,i,r,u){t?(n(".withdrawal-controls",i).show(),n(".btn-save",r).show(),n(".p-fee-details",u).show(),n(".no-bank-account",u).hide()):(n(".withdrawal-controls",i).hide(),n(".btn-save",r).hide(),n(".p-fee-details",u).hide(),n(".no-bank-account",u).show())}function ku(t,i){var u=n(i).attr("data-control-type"),r=n(i).parents(".modal-body").first(),e=n(i).closest("form"),o=n(n(i).attr("data-content-control")),f;n("[data-account-type]",r).prop("disabled",!0).hide();n("[data-account-type={0}]".f(u),r).prop("disabled",!1).show();n("[name=BankAccountGuid]",r).change();f=yi(u);ft(f,r,e,o)}function du(n){var t=n.find("[data-account-types]").data("account-types"),i;t&&(i=t.filter(function(n){return yi(n)}).length!=0,ft(i,n,n,n))}function et(t){return n("li[data-content-control]",t).size()>0}function ot(n){return r.disabledDepositsWithdrawals==null?!0:!r.disabledDepositsWithdrawals.hasOwnProperty(n)}function gu(n,t){var i={IsValid:!0,Message:"The amount is less than the minimum allowed"},u=t.data("currency"),f,e;return u?(f=window.currencyManager.getCurrencyConfiguration(u).AlwaysEnforceMinimumWithdrawal,e=r.configuration.withdrawalMin[u],f&&n<e&&(i.IsValid=!1),i):i}var pi=1,s="Instant",b="Xfers",st="PayId",wi="Dbs",k="{0} withdrawals are temporarily unavailable",bi={settings:r,reload:c,setBankAccounts:pu,setXfersBankAccounts:wu,setBankAccountsManager:bu,getServerData:rr,getAvailableBalance:a,getDepositAddress:lr,setEnabled:cr,validateEnforcedMin:gu},r,ki={dialogs:null,light:!1,inline:!1,accountValueControl:{total:".account-value-total",body:".account-value-control"},refreshControl:null,loadCompleted:null,timerInternal:-1,successWithdrawal:null,highlightChanges:!1,fxRates:[],secondaryCurrencyCode:"Usd",prefixes:null,dataProvider:null,loadOnInit:!0,initData:null,createDeposit:null,isEnabled:!0},f=null,o=[],d=[],di=null,g=[],gi="withdraw",nr="confirm",ht="accountsListManager_onDataLoaded",h=null;return tr()}n.extend(!0,IR,{AccountsListManager:i})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function o(){return i=n.extend(!0,e,t||{}),i.selector="#"+i.id,n(i.selector).html(""),r(),i.timerInterval>0&&window.setInterval(r,i.timerInterval),f}function u(t,r,u,f){var s=n(i.selector),o=n('<div class="'+f+'"><\/div>'),e,h;o.append("<h4>"+t+"<\/h4>").append('<div class="'+r+'-nav-container" style="display: none"><\/div>').append('<div class="'+r+'"><\/div>');s.append(o);e=n.primary();alert(e);h=new IR.Grid({controls:{table:{tableClass:"table-condensed",container:i.selector+" ."+r,columns:[{field:"Volume",className:"col-volume",render:function(n,t){t.text(n.Volume);t.formatNumber(e,!0)}},{field:"Price",className:"col-price",trailingZeroes:!0}]},pager:{id:"order-book-"+r+"-nav",container:"."+r+"-nav-container"}},data:{getDataUrl:u}})}function r(){if(window.__tokenChanged){n.log("__tokenChanged: order book");return}u("Buying","bids",i.dataUrls.getBidsUrl,"pull-left margin-rigth");u("Selling","asks",i.dataUrls.getAsksUrl,"pull-right")}var f={reload:r},i,e={id:"order-book",dataUrls:{getBidsUrl:"",getAsksUrl:""},timerInterval:-1};return o()}n.extend(!0,IR,{OrderBook:t})}(jQuery);
(function(n){function t(n,t){var i=n.attr("data-show-when"),r=t[i];n.toggle(r)}n.fn.irForm=function(t){function u(){return i.find(r.submitButton)}var r,f={submitPressed:null,beforeSend:null,success:null,failed:null,error:null,submitButton:"[data-toggle=submit]",validateVisibleOnly:null,type:undefined},i;return r=n.extend(!0,f,t||{}),i=this,u().attr("onclick","return false").unbind("click").click(function(){n(this).hasClass("disabled")||(n(this).addClass("disabled"),r.submitPressed==null||r.submitPressed.call(i)?i.submit():n(this).removeClass("disabled"))}),i.ajaxFormUnbind(),i.unbind("submit"),i.ajaxForm({beforeSend:function(){var n=r.beforeSend!=null?r.beforeSend.apply(i,[].slice.call(arguments)):i.irValidate({validateVisibleOnly:r.validateVisibleOnly});return n||u().removeClass("disabled"),i.trigger("sending",[n]),n},success:function(n,t,f){var o,e,s;(u().removeClass("disabled"),r.handleResponse&&(o=r.handleResponse(n,t,f),o))||(e=n.Success||n.success,s=n.hasOwnProperty("message")?n.message:n.Message,i.trigger("sent",[e]),e?r.success!=null?r.success.call(i,n):window.location.reload():r.failed!=null?r.failed.call(i,n):(AAT.utils.sendToLog(s),i.errorMessage({error:n})))},error:function(){u().removeClass("disabled");i.trigger("sent",[!1]);r.error!=null?r.error.call(i):AAT.utils.sendToLog("Exception occured")},type:r.type}),i};n.fn.fillData=function(n){var r=this,t,i,u;for(t in n)i=r.find("[name="+t+"]"),i.length>0&&(u=n[t],i.val(u));return r};n.fn.bindData=function(i,r){var u=this,f,e,o;r=r?r:"data-binding";for(f in i)e=u.find("["+r+"="+f+"]"),e.length>0&&(o=i[f],e.text(o));return u.find("[data-show-when]").each(function(){t(n(this),i)}),u.hasAttr("data-show-when")&&t(u,i),u}})(jQuery);
(function(n){n.fn.bankAccounts=function(t){function nt(){e();var t=n(i.editDialog);t.find("form").irForm({validateVisibleOnly:!0,success:function(){t.modal("hide");i.preferencesProvider.bankAccount.reset(t.find("[name=Guid]").val());e()}});t.unbind("hidden").on("hidden",function(){n(".popover").remove()});return n(i.addButton).click(function(){r.createNewAccount()}),t.find("[data-step=1] [data-account-type]").click(function(){p(n(this))}),t.find("[name=BankCountry]").change(o),t.find("[name=CurrencyCode]").change(rt),t.find("[name=PayIdType]").change(y),t.find(".btn-close").unbind("click").click(function(){t.modal("hide")}),t.find(".btn-next").unbind("click").click(function(){if(w().type=="Xfers"){t.modal("hide");i.xfersBankAccountsManager.createNewAccount();return}t.find("[data-step=1]").hide();t.find("[data-step=2]").show();t.irModalCenterScreen(!0)}),t.find(".btn-remove").unbind("click").click(ot),st(),r}function e(){if(i.isEnabled){if(window.__tokenChanged){n.log("__tokenChanged: bank accounts");return}n.enqueueRequest({type:"POST",url:i.urls.getListUrl},{done:function(n){if(tt(n.Data),c=n.Data||[],i.onBankAccountsLoaded!=null)i.onBankAccountsLoaded(n)},error:function(){settins.onBankAccountsLoadingError&&settins.onBankAccountsLoadingError()}},d);i.timerInterval&&setTimeout(e,i.timerInterval)}}function tt(n){if(r.empty(),n!=null&&n.length>0)for(var t=0;t<n.length;t++)n[t].OriginalType!=="Xfers"&&it(n[t])}function it(t){var i=n('<table class="table table-bordered table-condensed table-truncated"><\/table>'),u=n('<a class="pull-right">details<\/a>').attr("href","javascript:void(0)"),f;u.click(function(){v(t)});i.append(n("<tr><\/tr>").append(n("<th><\/th>").append(n("<span><\/span>").text(t.CurrencyCode)).append(u)));f=(t.BankCountry||"")+(t.BeneficiaryAddress?", "+t.BeneficiaryAddress:"");i.append(n("<tr><\/tr>").append(n("<td><\/td>").append(n("<b><\/b>").text(t.BankName)).append(n("<br/>")).append(n("<span><\/span>").text(f))));r.append(i)}function v(t){var f=t.Guid?!0:!1,h=f?i.urls.saveUrl:i.urls.createUrl,r=n(i.editDialog),e=w(),u,s;f||(u=e.currencies,u!=null&&u.length>0&&(s=u.some(function(n){return n===t.CurrencyCode}),s||(t.CurrencyCode=u[0])));r.find("form").attr("action",h).fillData(t);f?(a(i.bankAccountSettings[t.BankAccountType]),r.find("[data-step=2]").show(),r.find("[data-step=1]").hide(),r.find("[data-show-existing]").show(),r.find("[name=Password]").attr("data-validate","")):(a(e),r.find("[data-step=2]").hide(),r.find("[data-step=1]").show(),r.find("[data-show-existing]").hide(),r.find("[name=Password]").removeAttr("data-validate"),y());o();r.errorMessage(null);r.find("[data-toggle=submit]").text("Save").removeClass("btn-primary").removeClass("btn-success").addClass("btn-primary");r.fillData({Password:""}).irModal("show","[name=CurrencyCode]")}function rt(){o();n(i.editDialog).find("[name=BranchNumber]").val("")}function y(){$modal=n(i.editDialog);var r=$modal.find("[name=PayIdType]").val(),t=$modal.find("[name=PayId]");t.val(t.data("default-values")[r]||"")}function o(){var t=n(i.editDialog),r=t.find("[name=BankAccountType]").val(),e=t.find("[name=BankCountry]").val(),o=t.find("[name=CurrencyCode]").val(),c,s,l,h;et(e,o);c=o===u&&e!==f;ft(c);i.bankAccountSettings[r].validateCountry===!0&&(s=e===f,l=o===u,ut(s,l),r=s?"Australian":"NonAustralian",t.find("[name=BankAccountType]").val(r));h=i.bankAccountSettings[r];h.accountNumberValidationRegex?t.find("[name=AccountNumber]").attr("data-validate-regex",h.accountNumberValidationRegex).attr("data-validate-regex-error-message","Account number is invalid").attr("data-validate",""):t.find("[name=AccountNumber]").removeAttr("data-validate-regex").removeAttr("data-validate-regex-error-message").removeAttr("data-validate");return}function ut(t,r){var f=n(i.editDialog);f.find('#account-currency-code option[value="{0}"]'.f(u)).toggle(t);r?(t&&(f.find(".bank-bsb").show(),f.find("[name=BranchNumber]").attr("data-validate","")),f.find(".bank-swift-code").hide().find("input").val(""),f.find("[name=BankSwiftCode]").removeAttr("data-validate"),f.find(".beneficiary-address").hide().find("input").val(""),f.find("[name=BeneficiaryAddress]").removeAttr("data-validate")):(f.find(".bank-bsb").hide(),f.find("[name=BranchNumber]").removeAttr("data-validate"),f.find(".bank-swift-code").show(),f.find("[name=BankSwiftCode]").attr("data-validate",""),f.find(".beneficiary-address").show(),f.find("[name=BeneficiaryAddress]").attr("data-validate",""))}function ft(t){var r=n(i.editDialog);r.find(".non-au-based-aud-bank-account-message").toggle(t);r.find("div.hide-for-non-au-based-aud-bank-account").toggle(!t);r.find("button.hide-for-non-au-based-aud-bank-account").prop("disabled",t)}function et(t,r){n(i.editDialog).find(".plain-withdrawal-fee span").text(t==f&&r==u?"AUD withdrawals made to Australian banks are free!":"International or non AUD withdrawals are subject to a ${0} fee.".f(i.bankWithdrawalFeeNonAudOutsideAustralia))}function ot(){var t=n(i.editDialog),r=n(i.controls.deleteDialog),u=t.find("[name=Guid]").val();t.modal("hide");r.fillData({Guid:u,Password:""}).removeAttr("confirm-pressed").irModal("show")}function st(){var r=n(i.editDialog),t=n(i.controls.deleteDialog);t.find("form").irForm({success:function(){t.attr("confirm-pressed",!0);t.modal("hide");i.preferencesProvider.bankAccount.reset(t.find("[name=Guid]").val());e()}});t.on("hidden",function(){t.hasAttr("confirm-pressed")||t.is(":visible")||r.irModal("show")})}function p(t){var u=n(i.editDialog),r;u.find("[data-step=1] [data-account-type]").addClass("inactive").find("input").prop("checked",!1);t.removeClass("inactive").find("input").prop("checked",!0);r=b(t);a(r)}function l(){var t=n(i.editDialog);return t.find("[name=Guid]").val()!=""}function ht(n){var t=(l()?"Update":"Add")+(" "+n.bankName);switch(n.type){case"PayId":break;default:t+=" Bank Account"}return t}function a(t){var r=n(i.editDialog),f=t.type,h=ht(t);r.find("h3").text(h);r.find("[name=BankAccountType]").val(f);r.find("[data-show-for-account-type]").hide();r.find("[data-show-for-account-type={0}]".f(f)).show();r.find("[data-hide-for-account-type]").show();r.find("[data-hide-for-account-type={0}]".f(f)).hide();var u=n(i.editDialog).find("#account-currency-code"),e=n(i.editDialog).find("#bank-name"),s=u.find("option:selected").val();u.val(t.selectedCurrency).find("option").show();t.currencies.length>0&&u.find("option").each(function(){var i=n(this).val();t.currencies.indexOf(i)===-1&&i!==s&&n(this).hide()});t.selectedCurrency&&!l()?u.val(t.selectedCurrency):u.val(s);l()||e.val(t.displayName);t.country&&r.find("[name=BankCountry]").val(t.country);e.prop("readonly",!1);r.find("[name=BankSwiftCode]").attr("data-validate","");r.find("[name=BranchNumber]").attr("data-validate","");r.find("[name=BeneficiaryAddress]").attr("data-validate","");o()}function w(){var n=k();return b(n)}function b(n){var t=n.data("override-settings")||n.data("account-type");return i.bankAccountSettings[t]}function k(){return n("input[type=radio]:checked").parents("[data-account-type]").first()}var d=2,u="AUD",s="SGD",f="Australia",h="Singapore",g={addButton:"",editDialog:"",urls:{getListUrl:"",saveUrl:"",createUrl:"",removeBankAccountUrl:""},defaultCurrency:"USD",defaultCountry:"",onBankAccountsLoaded:null,onBankAccountsLoadingError:null,bankAccountSettings:{NonAustralian:{selectedCurrency:"USD",currencies:[],bankName:"Non-Australian",displayName:"",validateCountry:!0,type:"NonAustralian"},Australian:{selectedCurrency:u,currencies:[],bankName:"Australian",displayName:"",country:f,accountNumberValidationRegex:"^[0-9]{1,9}$",validateCountry:!0,type:"Australian"},PayId:{selectedCurrency:u,currencies:[],bankName:"PayID",displayName:"",country:f,type:"PayId"},Xfers:{selectedCurrency:s,currencies:[],bankName:"Singapore",displayName:"",country:h,type:"Xfers"},Singaporean:{selectedCurrency:s,currencies:[],bankName:"Singaporean",displayName:"",country:h,validateCountry:!0,type:"NonAustralian"},Dbs:{selectedCurrency:s,currencies:[],bankName:"SGD FAST",displayName:"",country:h,validateCountry:!1,type:"Dbs"}},isEnabled:!0},i=n.extend(!0,g,t||{}),r,c;return i.bankAccountSettings.Singaporean.currencies=i.bankAccountSettings.NonAustralian.currencies,r=this,c=[],r.setEnabled=function(n){var t=!i.isEnabled&&n;i.isEnabled=n;t&&e()},r.createNewAccount=function(t){var r=t?n("[data-account-type={0}]".f(t),n(i.editDialog)):k();p(r);v({Guid:"",CurrencyCode:i.defaultCurrency,BankName:null,BranchNumber:null,BankSwiftCode:null,BeneficiaryAddress:null,BankCountry:i.defaultCountry,AccountNumber:null,AccountName:null,PayIdType:null,PayId:null,FiatBankId:null})},r.getBankAccounts=function(){return c},nt()}})(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t,i,r){n.enqueueRequest(t,{done:function(n){n.success===!1?r(n):i(n)},error:function(){r({message:"An error occurred while sending request."})}},100)}function i(i){function o(){var t=n(r.controls.signupDialog);u(t)}function s(){var t=n(r.controls.verifyPhoneDialog);t.fillData({OtpCode:""});u(t)}function u(n){n.errorMessage();n.modal("show");n.irModalCenterScreen(!0)}function h(){return r=n.extend(!0,e,i||{}),c(),f}function c(){var e=n(r.controls.signupDialog),i,f,u;e.find("form").irForm({success:function(){e.modal("hide");s()}});i=n(r.controls.verifyPhoneDialog);f=n(".otp-code-sent-message",i);i.find("form").irForm({beforeSend:function(){return f.hide(),n(this).irValidate()},success:function(){i.modal("hide");r.onAccountLinked&&r.onAccountLinked()}});u=i.find(".send-otp-code");u.unbind("click").click(function(){i.errorMessage();f.hide();u.prop("disabled",!0);t({type:"POST",url:r.urls.signupLoginUrl},function(){f.show();u.prop("disabled",!1)},function(n){u.prop("disabled",!1);i.errorMessage({error:n})})})}var f={showLinkingDialog:o},r,e={controls:{signupDialog:"#modal-xfers-signup",verifyPhoneDialog:"#modal-xfers-verify-phone-number"},onAccountLinked:undefined};return h()}function r(r){function a(){var i=this;i.initialized=ko.observable(!1);i.errorMessage=ko.observable(null);i.bankAccounts=ko.observableArray([]);i.onDelete=function(t){var i=n(u.controls.deleteDialog);i.errorMessage();i.bindData(t);i.fillData({AccountId:t.id,Password:""});i.modal("show");i.irModalCenterScreen(!0)};i.refresh=function(){i.errorMessage(null);t({type:"GET",url:u.urls.getBankAccountListUrl},function(n){i.initialized(!0);i.bankAccounts(n.data)},function(n){u.onBankAccountsLoadingError&&u.onBankAccountsLoadingError();i.errorMessage(n.message)})};i.bankAccounts.subscribe(function(n){u.onBankAccountsLoaded&&u.onBankAccountsLoaded(n)})}function v(){function o(n,u){function f(){i.requestNumber(i.requestNumber()-1);i.requestNumber()<=0&&(i.initializing(!1),r.irModalCenterScreen(!0))}i.requestNumber(i.requestNumber()+1);t(n,function(n){u(n);f()},function(n){e(n);f()})}function e(n){r.errorMessage(n&&{error:n})}var i=this,r=n(u.controls.bankAccountDialog),s;i.modal=r;i.requestNumber=ko.observable(0);i.initializing=ko.observable(!1);i.banks=ko.observableArray([]);i.bankAccounts=ko.observableArray([]);i.show=function(){i.initializing(!0);e(null);o({type:"GET",url:u.urls.isSignedUpUrl},function(n){var t=n.data;if(!t){r.modal("hide");h.showLinkingDialog();return}i.bankAccounts(f.bankAccounts());i.banks().length==0&&o({type:"GET",url:u.urls.getBanksUrl},function(n){i.banks(n.data.map(function(n){return{abbreviation:n.abbreviation,name:`${n.abbreviation}, ${n.name}`}}))})});r.modal("show");r.irModalCenterScreen(!0)};s=r.find("form").irForm({beforeSend:function(){return e(null),s.irValidate()},success:function(n){r.modal("hide");f.bankAccounts.push(n.data)}})}function o(){return n(u.controls.container).length}function y(){return(u=n.extend(!0,l,r||{}),!o())?s:(p(),w(),h=new i({urls:u.urls,onAccountLinked:function(){f.refresh();c()}}),s)}function p(){var t=n(u.controls.container);f=new a;ko.applyBindings(f,t.get(0));e=new v;ko.applyBindings(e,e.modal.get(0))}function w(){var t=n(u.controls.deleteDialog);t.find("form").irForm({success:function(){t.modal("hide");var i=n("[name=AccountId]",t).val();f.bankAccounts.remove(function(n){return n.id==i})},type:"DELETE"})}function c(){e.show()}function b(){return o()?f.bankAccounts():[]}function k(n){var t=!u.isEnabled&&n;u.isEnabled=n;f&&!f.initialized()&&t&&f.refresh()}var s={setEnabled:k,createNewAccount:c,getBankAccounts:b,canUseXfers:o},u,l={controls:{container:"#xfers-bank-accounts-control",deleteDialog:"#modal-delete-xfers-bank-account",bankAccountDialog:"#modal-xfers-bank-account"},isEnabled:!1},h,f,e;return y()}n.extend(!0,IR,{XfersBankAccountsManager:r})}(jQuery);
(function(n){n.rgb2hex=function(n){return n=n.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/),"#"+("0"+parseInt(n[1],10).toString(16)).slice(-2)+("0"+parseInt(n[2],10).toString(16)).slice(-2)+("0"+parseInt(n[3],10).toString(16)).slice(-2)};n.menuBackgroundColor=function(t){return t!=null&&n(".menu-back-color").css("background-color",t),n.rgb2hex(n(".menu-back-color").css("background-color"))};n.menuColor=function(t){return t!=null&&n(".menu-text-color").css("color",t),n.rgb2hex(n(".menu-text-color").css("color"))};n.headerColor=function(t){return t!=null&&(n("h1").css("color",t),n("h2").css("color",t),n("h3").css("color",t),n("h4").css("color",t),n("h5").css("color",t),n("h6").css("color",t)),n.rgb2hex(n("h2").css("color"))};n.activeBackgroundColor=function(t){return t!=null&&n(".active a").css("background-color",t),n.rgb2hex(n(".active a").css("background-color"))};n.borderColor=function(t){return t!=null&&(n(".menu-border-left").css("border-left-color",t),n(".menu-border-right").css("border-right-color",t)),n.rgb2hex(n(".menu-border-left").css("border-left-color"))};n.fn.colorPicker=function(){function u(u){var f=u=="MenuBackground"?n.menuBackgroundColor():u=="MenuColor"?n.menuColor():u=="ActiveBackground"?n.activeBackgroundColor():u=="BorderColor"?n.borderColor():n.headerColor();t.find("[type=text]").val(f);i(f);r(f)}function f(i){var r=t.find(":checked").val();r=="MenuBackground"?n.menuBackgroundColor(i):r=="MenuColor"?n.menuColor(i):r=="HeaderColor"?n.headerColor(i):r=="ActiveBackground"?n.activeBackgroundColor(i):r=="BorderColor"?n.borderColor(i):AAT.utils.sendToLog("Choose color type")}function i(n){t.find("[data-toggle=color-preview]").css("background-color",n)}function e(){for(var r,u,s,o=17,f=t.find(".palette"),e=0;e<=256;e=e+o){for(r=0;r<=256;r=r+o){for(u=0;u<=256;u=u+o)s=n("<span><\/span>").css("background-color","rgb("+e+", "+r+", "+u+")"),f.append(s);f.append('<div class="clearfix"><\/div>')}f.append('<div class="clearfix"><\/div>')}f.find("span").hover(function(){var r=n(this).css("background-color");i(r);t.find("[type=text]").val(n.rgb2hex(r))}).click(function(){var r=n(this).css("background-color");i(r);t.find("[type=text]").val(n.rgb2hex(r)).change()})}function r(i){t.find(".palette").find("span").css("border-color","white").each(function(){var t=n.rgb2hex(n(this).css("background-color"));i==t&&n(this).css("border-color","black")})}var t=this;t.find("[type=radio]").change(function(){if(n(this).prop("checked")){var t=n(this).val();u(t)}});t.find("[type=text]").change(function(){var t=n(this).val();f(t);i(t);r(t)});e();t.find("[type=radio]:first").prop("checked",!0).change()}})(jQuery);$(function(){});
(function(n){n.fn.errorMessage=function(t){function o(t){e!=null?t!=null?e.html(u).show():e.html("").hide():t!=null&&n.danger("Independent Reserve",t)}function c(){var n=i.dialog==null?null:r.find(i.dialog);return n!=null&&n.length>0?n:null}var i=n.extend(!0,{error:null,dialog:"[data-toggle=error-message]"},t||{}),r=this;i.error&&(i.error=AAT.utils.toPascalCaseObject(i.error));var u=i.error!=null&&i.error.Message&&i.error.Message!=null?i.error.Message:null,f=i.error!=null&&i.error.FieldName&&i.error.FieldName!=null?i.error.FieldName:null,h=i.error!=null&&i.error.AutoHide&&i.error.AutoHide!=null?i.error.AutoHide:null,s=f==null?null:r.find("[name="+f+"]"),e=c();return u!=null?f!=null&&s.length>0?(o(null),s.validationPopup({message:u,form:r,autoHide:h})):o(u):o(null),r}})(jQuery);
(function(n){function t(n,t,i,r){var s=!0,o=n.val(),y=o===null||o.length===0,u=n.attr(i),f,h,e,c,l,a,v;return y||typeof u=="undefined"||u===!1||(f=0,isNaN(u)?(h=u,e=r,e||(c=n.attr("data-validate-decimal-trading")==="true",e=c?"TradingVisibleDecimalPlaces":"VisibleDecimalPlaces"),l=window.currencyManager.getCurrencyConfiguration(h),f=l[e]):f=parseInt(u),a=ir.math.getDecimalPlaces(o)<=f,a||(s=!1,v="Only {0} decimal places allowed".f(f),n.validationPopup({message:v,form:n,ignoreAutoFocus:t}))),s}n.fn.irValidate=function(i){var u=!0,f="",e=this,a=e.prop("tagName"),dt=e.hasAttr("data-validate-re-captcha"),ei=a!="INPUT"&&a!="SELECT"&&a!="TEXTAREA",gt=e.attr("data-validate-custom")!=null,wt,v,y,p,w,b,k,ht,d,g,nt,tt,it,rt,ut,ft,c,bt,l,et,lt,ii,at,ri,ui,st,fi,kt,vt,yt;if(!ei||gt||dt){var r=n(this),pt=r.attr("type"),oi=i&&i.validateVisibleOnly===!0&&!r.is(":visible");if(!oi&&!r.prop("disabled")&&(pt=="text"||pt=="password"||pt=="email"||a=="SELECT"||a=="TEXTAREA"||gt||dt)){var s=r.val(),li=s===null||s.length===0,o=i?i.ignoreAutoFocus:!1,h=!0;if(i!=null&&i.showPopup===!1&&(h=!1),wt=r.attr("data-validate-skip-hidden"),typeof wt!="undefined"&&wt!==!1&&r.is(":hidden"))return u;if(v=r.attr("data-validate-not-empty"),typeof v!="undefined"&&v!==!1&&(s!=null&&s&&n.trim(s)!=""||(u=!1,f=v!=""?v:"Value cannot be null",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),y=r.attr("data-validate-string-length"),u&&typeof y!="undefined"&&y!==!1&&s!=null&&s.length>parseInt(y)&&(u=!1,f="Maximum "+y+" characters allowed",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})),p=r.attr("data-validate-number"),u&&typeof p!="undefined"&&p!==!1&&(/(^[\d-]\d{0,8}(?:\.\d{0,20})?$|^$)/.test(s)||(u=!1,f=p!=""?p:"Invalid amount",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),u=u&&t(r,o,"data-validate-decimal"),u=u&&t(r,o,"data-validate-volume","TradingVisibleDecimalPlaces"),u=u&&t(r,o,"data-validate-price","FiatPriceDecimalPlaces"),w=r.attr("data-validate-xbt-amount"),u&&typeof w!="undefined"&&w!==!1&&(n.log("data-validate-xbt-amount is obsolete"),/^\d{0,8}(?:\.\d{0,8})?$/.test(s)||(u=!1,f=w!=""?w:"Invalid amount",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),b=r.attr("data-validate-positive"),u&&typeof b!="undefined"&&b!==!1&&(isNaN(s)||(ht=parseFloat(s),ht<=0&&(u=!1,f=b!=""?b:"Positive value expected",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})))),k=r.attr("data-validate-negative"),u&&typeof k!="undefined"&&k!==!1&&(isNaN(s)||(ht=parseFloat(s),ht>=0&&(u=!1,f=k!=""?k:"Negative value expected",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})))),d=r.attr("data-validate-bitcoin-address"),u&&typeof d!="undefined"&&d!==!1&&(/^(bc(0([ac-hj-np-z02-9]{39}|[ac-hj-np-z02-9]{59})|1[ac-hj-np-z02-9]{8,87})|[13][a-km-zA-HJ-NP-Z1-9]{25,35})$/.test(s)||(u=!1,f=d!=""?d:"Invalid bitcoin address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),g=r.attr("data-validate-ethereum-address"),u&&typeof g!="undefined"&&g!==!1&&(n.isEtherAddress(s)||(u=!1,f=g!=""?g:"Invalid ether address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),nt=r.attr("data-validate-bitcoin-cash-address"),u&&typeof nt!="undefined"&&nt!==!1&&(/^[13][a-zA-Z0-9]{26,33}$/.test(s)||/^((bitcoincash:)?([qpzry9x8gf2tvdw0s3jn54khce6mua7l]{42}))|((BITCOINCASH:)?([QPZRY9X8GF2TVDW0S3JN54KHCE6MUA7l]{42}))$/.test(s)||(u=!1,f=nt!=""?nt:"Invalid bitcoin cash address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),tt=r.attr("data-validate-litecoin-address"),u&&typeof tt!="undefined"&&tt!==!1&&(/^(ltc1|[LM3])[a-zA-HJ-NP-Z0-9]{25,39}$/.test(s)||(u=!1,f=tt!=""?tt:"Invalid litecoin address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),it=r.attr("data-validate-polkadot-address"),u&&typeof it!="undefined"&&it!==!1&&(WAValidator.validate(s,"dot")||(u=!1,f=it!=""?it:"Invalid Polkadot address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),rt=r.attr("data-validate-ada-address"),u&&typeof rt!="undefined"&&rt!==!1&&(WAValidator.validate(s,"ada")||(u=!1,f=rt!=""?rt:"Invalid Ada address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),ut=r.attr("data-validate-doge-address"),u&&typeof ut!="undefined"&&ut!==!1&&(WAValidator.validate(s,"doge")||(u=!1,f=ut!=""?ut:"Invalid Dogecoin address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),ft=r.attr("data-validate-sol-address"),u&&typeof ft!="undefined"&&ft!==!1&&(/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(s)||(u=!1,f=ft!=""?ft:"Invalid Solana address provided",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),c=r.attr("data-validate-decimal-places"),u&&typeof c!="undefined"&&c!==!1&&(n.log("data-validate-decimal-places is obsolete"),AAT.utils.decimalPlaces(s)>c&&(u=!1,f=c==0?"No decimal places allowed":"Only {0} decimal places are allowed".f(c),h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),bt=r.attr("data-validate-phone"),u&&typeof bt!="undefined"&&bt!==!1){var ni=r.prevAll('select[data-name="countries-list"]:first'),si=ni.val(),ti=r.prevAll('select[data-name="countries-list"]').find("option:selected").attr("data-country-code");si.length>0?(l=s,l.match(/^\+?[0-9\(\)\-\s]+$/)?l.length<6?(u=!1,f="Phone number is too short",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})):l.length>20?(u=!1,f="Phone number is too long",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})):l.substr(0,1)==="+"&&l.substr(0,ti.length)!==ti&&(u=!1,f="Incorrect phone number for selected country",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})):(u=!1,f="Phone number is not valid",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))):(u=!1,f="Select your country",h&&ni.validationPopup({message:f,form:e,ignoreAutoFocus:o}))}et=r.attr("data-validate-bsb");u&&typeof et!="undefined"&&et!==!1&&(/^\s*\d{3}[- ]?\d{3}\s*$/.test(s)||(u=!1,f=et!=""?et:"BSB is invalid",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})));var ot=r.find("option:selected").attr("data-validate-country-context"),ct=r.find("option:selected").attr("data-site-context"),hi=typeof ot!="undefined"&&ot!=null&&typeof ct!="undefined"&&ct!=null;if(ot&&ct&&hi&&ot!=ct&&(ot==="Unknown"?(lt=r.attr("data-validate-unsupported-country"),u&&typeof lt!="undefined"&&lt!=null&&(u=!r.find("option:selected").hasAttr("data-unsupported-country"),u||(f=lt||"Unfortunately we are not able to open accounts for residents of your country",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o})))):(ii=r.val(),f="You will be assigned to the "+ii+" jurisdiction",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),at=r.attr("data-validate-different-amount"),u&&typeof at!="undefined"&&at!=null&&(ri=parseFloat(at),ui=parseFloat(s),ri===ui&&(u=!1,f="Enter different value",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))),st=r.attr("data-validate-regex"),u&&typeof st!="undefined"&&st!=null)try{fi=new RegExp(st);u=fi.test(s);u||(f=r.attr("data-validate-regex-error-message")||"Value is invalid",h&&r.validationPopup({message:f,form:e,ignoreAutoFocus:o}))}catch(ai){n.log("Expression {0} is not valid regex",st)}u&&r.hasAttr("data-validate-re-captcha")&&(kt=r.data("re-captcha-widget"),kt&&(u=kt.isValid()));vt=r.attr("data-validate-custom");u&&typeof vt!="undefined"&&vt!==!1&&(yt=eval(vt)(s,r),yt.IsValid||(u=!1,f=yt.Message,h&&r.validationPopup({message:f,form:e,autoHide:yt.AutoHide,ignoreAutoFocus:o})))}}else e.find("[data-validate]").each(function(){u&&(u=u&&n(this).irValidate(i))});try{!u&&i&&i.callbacks&&i.callbacks.fail&&i.callbacks.fail(f)}catch(ci){n.log("Error occurred while perfoming callback. Ex: {0}".f(ci))}return u};n.fn.validationPopup=function(t){var i=n.extend(!0,{message:null,form:null,autoHide:null,ignoreAutoFocus:!1},t||{}),f=this,s=f.irPopover({content:i.message,trigger:"manual",container:"body .validate-popovers",html:!0}).popover("show"),u,r,e,o;i.ignoreAutoFocus||s.focus();u=i.form;r=function(){f.popover("destroy");u&&u.unbind("submit",r)};i.form&&i.form.submit(r);e=i.message.length>100?5e3:2e3;o=i.autoHide!=null&&i.autoHide>0?i.autoHide:e;setTimeout(r,o)}})(jQuery);
(function(n){n.fn.loading=function(t){var i={init:function(t){var i=n.extend({id:null,value:100},t);return this.each(function(){var u=n(this),o=u.data("ir.loader"),f,t,e;u.size()!=0&&(o||(f=r._constrain(i.value),t=i.id,t||(t=u.attr("id")||(new Date).getTime().toString()),t+="-loading",e=n('<div id="{0}" class="loading-indicator"><div><\/div><img alt="" src="/img/ajax-loader.gif" /><\/div>'.f(t,f)),u.append(e),n(this).data("ir.loader",{element:u,control:e,id:t,value:f})))})},destroy:function(){return this.each(function(){var t=n(this),i=t.data("ir.loader");i.control.remove();t.removeData("ir.loader")})},show:function(){return i.init.call(this),this.each(function(){var f=n(this),t=f.data("ir.loader"),i=t.control.find("div"),e=t.control.find("img"),u=t.element.css("position")=="fixed";r._resize(t.element,i,u);r._center(i,e,u);t.control.show()})},hide:function(){return this.each(function(){var t=n(this),i=t.data("ir.loader");i.control.hide()})}},r={_resize:function(t,i,r){var u="0",f="0";r||(u=n(t).offset().left+"px",f=n(t).offset().top+"px");n(i).css({position:"absolute",left:u,top:f,width:n(t).width()+"px",height:n(t).height()+"px"})},_center:function(t,i,r){var u={left:n(t).offset().left,top:n(t).offset().top,width:n(t).width(),height:n(t).height()},f=r?"45%":u.left+u.width/2-n(i).width()/2+"px",e=r?"50%":u.top+u.height/2-n(i).height()/2+"px";n(i).css({position:"absolute",left:f,top:e})},_constrain:function(n){return n>100&&(n=100),n<0&&(n=0),n}};if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));if(typeof t!="object"&&t)n.error('Method "'+t+'" does not exist in loading plugin!');else return i.init.apply(this,arguments)}})(jQuery);
(function(n){n.showLoader=function(t){var r=n.extend(!0,{title:"loading..."},t||{}),i;n("#loaderDiv").length>0?n("#loaderDiv .title").text(r.title):(i=n('<div id="loaderDiv"><\/div>'),i.append('<div><i class="ir-icon ir-refresh ir-grey fa-spin"><\/i> <span class="title">'+r.title+"<\/span><\/div>"),n("body").append(i),n("#loaderDiv div").centerWithingTheScreen())};n.hideLoader=function(t){t<=0?n("#loaderDiv").remove():setTimeout(function(){n("#loaderDiv").remove()},t||500)};n.fn.centerWithingTheScreen=function(){return this.each(function(){n(this).css({position:"fixed",left:(n(window).width()-n(this).outerWidth())/2,top:(n(window).height()-n(this).outerHeight())/2})})}})(jQuery);
(function(n){n.fn.tableSwitcher=function(t){var r,i;r=n.extend(!0,{change:null},t||{});i=this;i.attr("data-toggle","table-switcher").addClass("table-switcher");i.find("td[data-value]").unbind("click").click(function(){n(this).hasAttr("data-checked")||(i.find("td[data-value]").removeAttr("data-checked").removeClass("table-switcher-checked"),n(this).attr("data-checked","checked").addClass("table-switcher-checked"),r.change!=null&&r.change.call(i))})};n.fn.switcherValue=function(){var n=this.find("[data-checked=checked]");return n.length==0?null:n.attr("data-value")};n.fn.radioSwitcher=function(){return this.each(function(){var t=n(this),i=null,r=function(r){var u,f;i!=null&&i.val(r);t.find("[data-value]").each(function(){var t=n(this),i;t.hasAttr("data-active-class")&&(i=t.attr("data-active-class"),t.removeClass(i),t.removeClass("active"))});u=t.find('[data-value="'+r+'"]');u.hasAttr("data-active-class")&&(f=u.attr("data-active-class"),u.addClass(f),u.addClass("active"))},u,f;t.hasAttr("data-name")&&(u=t.attr("data-name"),i=n('<input type="hidden"/>'),i.attr("name",u),t.parent().append(i));f=t.attr("data-value");r(f);t.find("[data-value]").click(function(){r(n(this).attr("data-value"))})})}})(jQuery);
(function(n){n.fn.spinner=function(t){var r={init:function(t){var r=n.extend({onRefresh:null,popoverPlacement:"right",updateInterval:-1,showWarningOnFailuresAmount:2},t||{});return this.each(function(){var t=n(this),e=i.checkInitialized(t),u,f;e.settings=r;u=t.find(".ir-refresh");u.irPopover({content:function(){var n="<b>Last updated "+t.attr("data-last-updated")+"<\/b>";return n+=r.updateInterval>0?"<\/br>Automatically updated every "+i.getHumanReadableInterval(r.updateInterval)+"; ":"<\/br>",n+"click to force immediate update."},title:null,html:!0,placement:r.popoverPlacement,container:"body"});f=t.find(".ir-warning");f.irPopover({content:"Unable to reach server",title:null,html:!0,placement:r.popoverPlacement,container:"body .validate-popovers"});r.onRefresh!=null&&u.click(function(){r.onRefresh.call(t,!0)})})},spin:function(){return this.each(function(){var t=n(this);i.checkInitialized(t);t.find(".ir-refresh").addClass("fa-spin")})},success:function(){return this.each(function(){var t=n(this),r=t.data("ir.spinner");r.failuresAmount=0;t.find(".ir-warning").addClass("hide");i.stop(t);i.setDate(t)})},failed:function(){return this.each(function(){var r=n(this),t=r.data("ir.spinner");t.failuresAmount++;(!t.settings.showWarningOnFailuresAmount||t.failuresAmount>=t.settings.showWarningOnFailuresAmount)&&r.find(".ir-warning").removeClass("hide");i.stop(r)})}},i={stop:function(n){n.find(".ir-refresh").removeClass("fa-spin")},setDate:function(n){var t=new Date,i=t.format(dateFormat.masks.isoTime,!1);n.attr("data-last-updated",i)},buildControls:function(t){var r=n('<i class="ir-icon ir-warning warning-button hide"><\/i>'),i=n('<a href="javascript:void(0)" class="refresh-button" data-toggle="refresh-button"><\/a>');i.append('<i class="ir-icon ir-refresh"><\/i>');t.append(r);t.find("a.refresh-button").size()==0&&t.append(i)},checkInitialized:function(n){var t=n.data("ir.spinner");return t||n.data("ir.spinner",{initialized:!1,failuresAmount:0}),t=n.data("ir.spinner"),t.initialized||(i.buildControls(n),t.initialized=!0),t},getHumanReadableInterval:function(n){n>1e3&&(n=n/1e3);var t="seconds";return n>60&&(n=n/60,t="minutes"),n+" "+t}};return r[t]?r[t].call(this):typeof t!="object"&&t?(n.error('Method "'+t+'" does not exist in spinner plugin!'),this):r.init.apply(this,arguments)}})(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function r(){return n(document).ajaxComplete(function(i,r){if(r&&r.responseText)try{var f=r.responseText,u=n.parseJSON(f);u.LogOnRequired==!0&&(u.UrlParameter?(n.log(t),n.redirect("{0}?reason={1}".f(t.loginUrl,u.UrlParameter))):n.reload())}catch(e){}}),i}var i={};return r()}n.extend(!0,IR,{AuthChecker:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(){function i(){return n(document).ajaxComplete(function(t,i){if(i&&i.responseText)try{var r=i.responseText,u=n.parseJSON(r);u.AntiForgeryError==!0&&n.reload()}catch(f){}}),t}var t={};return i()}n.extend(!0,IR,{AntiForgeryChecker:t})}(jQuery);
(function(n){n.fn.irWizard=function(t){var i={init:function(t){var r=n.extend(!0,{onStepChanged:null},t||{}),i={showStep:function(n,t){n.find("[data-wizard-step]").hide();n.find("[data-wizard-step={0}]".f(t)).show(0);t>1?i.getPreviousButton(n).show():i.getPreviousButton(n).hide();i.stepExists(n,t+1)?i.getNextButton(n).show():i.getNextButton(n).hide();r.onStepChanged!=null&&r.onStepChanged.call(n,t)},getNextButton:function(n){return n.find("[data-toggle=wizard-step-next]")},getPreviousButton:function(n){return n.find("[data-toggle=wizard-step-back]")},showNextStep:function(n){var t=i.getCurrentStep(n)+1;i.stepExists(n,t)&&i.showStep(n,t)},showsPreviousStep:function(n){var t=i.getCurrentStep(n)-1;t>0&&i.showStep(n,t)},getCurrentStep:function(n){return parseInt(n.find("[data-wizard-step]:visible").attr("data-wizard-step"))},stepExists:function(n,t){return n.find("[data-wizard-step={0}]".f(t)).length>0},escPressed:function(n){var t=i.getCurrentStep(n);t==1?n.modal("hide"):i.showsPreviousStep(n)}};return this.each(function(){var t=n(this),r;t.attr("data-ignore-esc","");r=function(){i.showStep(t,1)};i.getNextButton(t).click(function(){i.showNextStep(t)});i.getPreviousButton(t).click(function(){i.showsPreviousStep(t)});t.on("shown",function(t){n(t.target).hasClass("modal")&&r()});n(document).keydown(function(n){n.keyCode==27&&t.is(":visible")&&i.escPressed(t)})})}};return i[t]?i[t].call(this):typeof t!="object"&&t?(n.error('Method "'+t+'" does not exist in wizard plugin!'),this):i.init.apply(this,arguments)}})(jQuery);
window.IR==null&&(window.IR={});IR.$lastKnownOpenedPopover=null;IR.lastKnownDocumentHeight=0;IR.lastKnownDocumentWidth=0,function(n){n.fn.irPopover=function(t){var i=this,r;return i.hasAttr("data-not-show-on-devices")&&(n.isMobile()||n.isTouch())?i:(t.trigger||(t.trigger=n.isMobile()||n.isTouch()?"click":"hover"),t.autohide>0&&(r=function(){i.popover("hide")},setTimeout(r,t.autohide)),i.attr("data-ir-popover","").popover(t))};n.closeAllPopovers=function(){IR.$lastKnownOpenedPopover!=null&&n(".popover").length>0&&(console.log("close popovers"),IR.$lastKnownOpenedPopover.popover("hide"),IR.$lastKnownOpenedPopover=null)};n.onPopoverShowing=function(){n.closeAllPopovers();var t=n(document),i=n(window);IR.lastKnownDocumentHeight=t.height();IR.lastKnownDocumentWidth=i.width()};n.onPopoverShowed=function(t){var i=n(".popover"),o,s;if(i.size()>0){window.currencyManager!=null&&window.currencyManager.popoverShown(i);n.isMobile()&&i.css({left:10,right:10});var a=n(".popover").hasClass("left")||n(".popover").hasClass("right"),v=n(".popover").hasClass("top")||n(".popover").hasClass("bottom"),h=i.offset(),r=h.top,u=h.left,c=i.outerHeight(),l=i.outerWidth(),f=r,e=u;r<0?f=0:(o=r+c,o>IR.lastKnownDocumentHeight&&(f=r-o+IR.lastKnownDocumentHeight));u<0?e=0:(s=u+l,s>IR.lastKnownDocumentWidth&&(e=u-s+IR.lastKnownDocumentWidth));(f!=r||e!=u)&&(i.css({top:f,left:e}),f!=r&&n.movePopoverArrow(r+c/2),e!=u&&(v&&n.movePopoverArrow(null,u+l/2),a));(n.isMobile()||n.isTouch)&&i.click(function(){n.closeAllPopovers()});IR.$lastKnownOpenedPopover=n(t)}};n.movePopoverArrow=function(t,i){var r=n(".popover .arrow"),u;r.length>0&&(u=r.offset(),t!=null&&(console.log("changing arrow top"),u.top=t+parseFloat(r.css("margin-top"))),i!=null&&(console.log("changing arrow left"),u.left=i+parseFloat(r.css("margin-left"))),r.offset(u))}}(jQuery);$(function(){($.isMobile()||$.isTouch())&&$(document).bind("touchstart",function(n){var t=$(n.target),i=t.closest("[data-ir-popover]"),r=t.closest(".popover");(r==null||r.length==0)&&(i==null||i.length==0)&&$.closeAllPopovers()})});
window.IR==null&&(window.IR={}),function(n){function t(t){function l(){return r=n.extend(!0,c,t||{}),e}function f(){return window.grecaptcha}function o(){return s()?a()?!0:(n.log("Recaptcha library was not loaded. Please check the references"),!1):!1}function a(){var n=f();return n!=null&&n.render!=null&&typeof n.render=="function"}function i(){return n(`#${r.wrapperId}`)}function s(){return i().length>0}function v(){o()&&(u!=null?f().reset(u):h())}function h(){var n=i(),t;n.data("re-captcha-widget",e);t=n.attr("data-temp-site-key");u=f().render(r.wrapperId,{sitekey:t,callback:r.dataCallback})}function y(){f().execute(u)}function p(){i().hide()}function w(){i().show()}function b(){if(!s())return!0;if(!o())return!1;if(!i().is(":visible"))return!0;if(f().getResponse(u)==""){var n=i();return n.data("size")!="invisible"&&n.parent().validationPopup({message:r.errorMessage}),!1}return!0}var e={reset:v,isValid:b,hide:p,show:w,render:h,execute:y},r,c={wrapperId:"recaptcha-wrapper",callback:undefined,errorMessage:"Captcha is invalid"},u=null;return l()}n.extend(!0,IR,{RecaptchaManager:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(n,t){function r(){for(var f,n=i.Filename(),e=t.documentTypes,r=t.defaultDocumentType+"-",u=0;u<e.length;u++)if(f=e[u]+"-",n.startsWith(f)){r=f;break}return n=n.replaceAll(r,""),{displayName:n,type:r}}var i=this;return i.Guid=ko.observable(n.Guid),i.Filename=ko.observable(n.Filename),i.DisplayFileName=ko.computed(function(){return i.Filename()?r().displayName:null}),i.IrDocumentType=function(){return i.Filename()?r().type:null},i.Url=ko.observable(n.Url),i.ContentType=ko.observable(n.ContentType),i.IsSubmitted=ko.pureComputed(function(){const t=n.Status;return t?t===2:!1}),i}n.extend(!0,IR,{VerificationDocument:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n,t){function i(i,r){function p(){return b(),k(),d(),u.contextService=new IR.ContextService,u.IsInitialized(!0),u.pageLeaveEventHandler.on(),u}function w(){if(u.isSingaporean())return!0;return(e("StateText")||e("StateEnum"))&&e("City")}function e(n){var t=u[n]();return t!=null&&t!==""}function l(){u.CountryAddessIsSingapore()||(f("City",u.City),f("StateText",u.StateText),f("StateEnum",u.StateEnum));f("PostalCode",u.PostalCode);f("StreetTypeEnum",u.StreetTypeEnum);f("StreetTypeText",u.StreetTypeText);f("StreetName",u.StreetName)}function f(t,i){var e;i();var u=!0,o=null,f=n(r.container).find('[name="{0}"]:visible'.f(t));return f&&f.length>0&&(u=f.irValidate({callbacks:{fail:function(n){o=n}}})),e=f.parent().parent().find(".fa-flag").toggleClass("orange",!u).toggleClass("green",u),e.off("mouseover"),u||e.off("mouseover").mouseover(function(){e.validationPopup({message:o})}),u}function b(){s=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:a(),wildcard:r.search.wildcard,transform:function(n){var t=[{FormattedAddress:"Not found (manual entry)"}];return n!=null&&n.Success===!0&&n.Data!=null&&n.Data.length>0&&(t=t.concat(n.Data)),t}}})}function a(){return r.search.url.f("",u.CountryAddress(),r.search.limit)}function k(){var t=n(r.search.control);t.typeahead({minLength:r.search.minLength},{source:s,displayKey:"FormattedAddress",limit:r.search.limit,templates:{pending:"<p>Searching, please wait...<\/p>"}});t.bind("typeahead:select",function(n,i){t.typeahead("val","");u.UnitNumber(i.UnitNumber);u.StreetNumber(i.StreetNumber);i.StreetName?u.StreetName(i.StreetName):u.StreetName(i.Route);i.StreetType&&(u.StreetTypeEnum(i.StreetType),u.StreetTypeText(i.StreetType));u.PostalCode(i.PostalCode);u.ManualEntry(!0);u.CountryAddessIsSingapore()?(u.City(null),u.StateEnum(null),u.StateText(null)):(u.City(i.City),u.StateEnum(u.parseState(i.StateAbbreviation)),u.StateText(i.StateAbbreviation));l()});n(".typeahead").attr("autocomplete","new-SearchQuery")}function d(){var n=i.FastTrackAvailabilityFlags.replace(/\s+/g,"").split(",");u.FastTrackAvalibilityFlags(n)}function g(){if(!v())return!1;var t=n(r.container).find(":visible").irValidate({validateVisibleOnly:!0});return t?(t=y("selfie-id-document-container",u.SelfieIdDocumentDisplayName(),"Selfie with photo ID"),t&&(t=y("proof-of-address-document-container",u.ProofOfAddressDocumentDisplayName(),"Proof of address")),u.UploadError(null),t):!1}function v(){return!u.ManualEntry()&&!w()?(nt(),!1):!0}function nt(){var t=n('[name="SearchQuery"]:visible');t.focus();t.parent().validationPopup({message:"Enter address"})}function y(t,i,r){if(i)return!0;var u=n("#{0}".f(t));return u.find(".btn-attach-file").irGoTo(50),setTimeout(function(){u.find(".fa-flag:visible").validationPopup({message:"Please, attach {0}".f(r)})},500),!1}function h(n){return n&&n.DisplayFileName?n.DisplayFileName():null}function o(n,t){if(u.Items()&&u.Items().length>0){var i=u.Items().filter(function(t){return t.IrDocumentType()==n+"-"});return i&&i.length>0&&t?i[0]:i}return null}function c(t){u.Error(t);u.IsSaving(!1);n("html, body").animate({scrollTop:n(r.errorMsgBlock).offset().top},1e3)}var u=this,s={};return u.streetTypes=i.streetTypes,u.states=i.states,u.IsCityValid=ko.pureComputed(function(){return f("City",u.City)&&u.City()!=null}),u.IsPostalCodeValid=ko.pureComputed(function(){return f("PostalCode",u.PostalCode)&&u.PostalCode()!=null}),u.IsCountryAddressValid=ko.pureComputed(function(){return f("CountryAddress",u.CountryAddress)&&u.CountryAddress()!=null}),u.isStreetNameValid=ko.pureComputed(function(){return f("StreetName",u.StreetName)&&u.StreetName()!=null}),u.isStreetTypeValid=ko.pureComputed(function(){return u.hasToShowAUAddressInputs()?f("StreetTypeEnum",u.StreetTypeEnum)&&u.StreetTypeEnum()!=null:f("StreetTypeText",u.StreetTypeText)&&u.StreetTypeText()!=null}),u.IsStateValid=ko.pureComputed(function(){return u.hasToShowAUAddressInputs()?f("StateEnum",u.StateEnum)&&u.StateEnum()!=null:f("StateText",u.StateText)&&u.StateText()!=null}),u.IsInitialized=ko.observable(!1),u.hasToShowAUAddressInputs=ko.pureComputed(function(){return u.CountryAddress()==="Australia"}),u.unitNumberLable=ko.pureComputed(function(){return u.isSingaporean()?"Block / Unit Number":"Unit Number"}),u.parseState=function(n){if(!n)return n;n=n.toLowerCase().trim();var t=u.states.find(t=>n==t.value.toLowerCase()||n==t.text.toLowerCase());return t?t.value:t},u.newAddressSearch=function(){u.ManualEntry(!1)},u.resetSavedAddress=function(){u.AddressLine1("");u.AddressLine2("");u.ManualEntry(!1);u.HasFilledAddress(!1)},u.ManualEntry=ko.observable(!1),u.UnitNumber=ko.observable(null),u.StreetNumber=ko.observable(null),u.StreetName=ko.observable(null),u.City=ko.observable(i.Address.City),u.AddressLine1=ko.observable(i.Address.AddressLine1),u.AddressLine2=ko.observable(i.Address.AddressLine2),u.SavedAddressStr=ko.pureComputed(function(){return[u.AddressLine1(),u.City(),u.StateText(),u.PostalCode(),u.CountryAddress()].filter(n=>n).join(", ")}),u.PostalCode=ko.observable(i.Address.PostalCode),u.CountryOfResidence=ko.observable(i.Address.CountryOfResidence),u.CountryAddress=ko.observable(i.Address.Country),u.StreetTypeText=ko.observable(null),u.StreetTypeEnum=ko.observable(null),u.StateText=ko.observable(i.Address.StateText),u.StateEnum=ko.observable(u.parseState(i.Address.StateText)),u.Countries=i.Countries,u.SiteEntity=i.SiteEntity,u.SaveUrl=ko.observable(i.SaveUrl),u.GetVerificationDocumentsUrl=ko.observable(i.GetVerificationDocumentsUrl),u.CreateVerificationDocumentUrl=ko.observable(i.CreateVerificationDocumentUrl),u.DeleteVerificationDocumentUrl=ko.observable(i.DeleteVerificationDocumentUrl),u.GetVerificationDocumentUrl=ko.observable(i.GetVerificationDocumentUrl),u.FileRequestCount=ko.observable(0),u.MaxVerificationDocumentsNumber=ko.observable(i.MaxVerificationDocumentsNumber),u.Items=ko.observableArray([]),u.IsLoading=ko.observable(!1),u.IsSending=ko.observable(!1),u.CountryAddress.subscribe(function(){u.onCountryChanged()}),u.onCountryChanged=function(){s&&(s.remote.url=a());u.fastTrackMessage(null);l()},u.IsAuOrNzdSelected=ko.pureComputed(function(){return u.CountryOfResidence()==="Australia"||u.CountryOfResidence()==="New Zealand"}),u.isSingaporean=ko.pureComputed(function(){return u.CountryOfResidence()==="Singapore"}),u.CountryAddessIsSingapore=ko.pureComputed(function(){return u.CountryAddress()==="Singapore"}),u.StateEnum.subscribe(n=>u.StateText(n)),u.StreetTypeEnum.subscribe(n=>u.StreetTypeText(n)),u.CanAddDocument=ko.pureComputed(function(){return!u.IsSending()&&u.Items().length<u.MaxVerificationDocumentsNumber()},this),u.Error=ko.observable(null),u.UploadError=ko.observable(null),u.IsError=ko.pureComputed(function(){return u.Error()!=null},this),u.IsUploadError=ko.pureComputed(function(){return u.UploadError()!=null},this),u.IsFinished=ko.observable(!1),u.IsSaving=ko.observable(!1),u.save=function(){u.IsSaving()||(u.IsSaving(!0),u.Error(null),u.UploadError(null),g()?n.ajax({url:u.SaveUrl(),type:"POST",data:u.getVerificationModelData()}).success(function(t){if(!t.Success){c(t.Message);return}const r=t.Data.IsFastTracked?i.SuccessfulFastTrackRedirectUrl:i.SuccessRedirectUrl;u.pageLeaveEventHandler.off();n.redirect(r)}).error(function(){c("Error occured. Try again later")}):u.IsSaving(!1))},u.handleClick=function(){return u.CanAddDocument()},u.reload=function(){u.IsLoading(!0);n.ajax({type:"POST",url:u.GetVerificationDocumentsUrl(),contentType:"application/json; charset=utf-8",success:function(n){u.refreshItems(n);u.IsLoading(!1)},error:function(){IR.utils.sendToLog("Some error occured. Try again later");u.IsLoading(!1)}})},u.refreshItems=function(i){var f=u;f.Items.removeAll();n.each(i.Items,function(){this.Url=u.GetVerificationDocumentUrl()+"?verificationDocumentId="+this.Guid;f.Items.push(new t(this,r))});u.SelfieIdDocument(o("SelfieId",!0));u.IdCloseUpDocument(o("IdCloseUp",!0));u.IdBackCloseUpDocument(o("IdBackCloseUp",!0));u.ProofOfAddressDocument(o("ProofOfAddress",!0));u.OptionalDocuments(o("Optional",!1))},u.SelfieIdDocument=ko.observable(),u.SelfieIdDocumentDisplayName=ko.computed(function(){var n=u.SelfieIdDocument();return h(n)}),u.IdCloseUpDocument=ko.observable(),u.IdCloseUpDocumentDisplayName=ko.computed(function(){var n=u.IdCloseUpDocument();return h(n)}),u.IdBackCloseUpDocument=ko.observable(),u.IdBackCloseUpDocumentDisplayName=ko.computed(function(){var n=u.IdBackCloseUpDocument();return h(n)}),u.ProofOfAddressDocument=ko.observable(),u.ProofOfAddressDocumentDisplayName=ko.computed(function(){var n=u.ProofOfAddressDocument();return h(n)}),u.OptionalDocuments=ko.observableArray([]),u.increaseFileRequestsCount=function(){u.FileRequestCount()==0&&(u.IsSending(!0),u.Error(null),u.UploadError(null));u.FileRequestCount(u.FileRequestCount()+1)},u.decreaseFileRequestsCount=function(){u.FileRequestCount(u.FileRequestCount()-1);u.FileRequestCount()<0&&u.FileRequestCount(0);u.FileRequestCount()==0&&(u.reload(),u.IsSending(!1))},u.onFileUploadAdd=function(n,t){u.Items().length+u.FileRequestCount()>=u.MaxVerificationDocumentsNumber()?(t.abort(),u.UploadError("Only "+u.MaxVerificationDocumentsNumber()+" verification documents are allowed.")):u.increaseFileRequestsCount()},u.onFileUploadAdded=function(t,i){if(i.files.error){var r="";n.each(i.files,function(n,t){t.error&&(r+="{0}: {1}. ".f(t.name,t.error),u.decreaseFileRequestsCount())});u.UploadError(r)}},u.onFileUploadCallback=function(n,t){u.decreaseFileRequestsCount();var i=t.response().result;i.Success||u.UploadError(i.Message)},u.removeVerificationDocument=function(t){u.Error(null);u.UploadError(null);u.IsLoading(!0);n.ajax({url:u.DeleteVerificationDocumentUrl(),type:"POST",data:{verificationDocumentId:t.Guid()}}).success(function(n){u.refreshItems(n);u.IsLoading(!1)}).error(function(){u.UploadError("Error occured. Try again later");u.IsLoading(!1)})},u.CanChangeCountry=i.Countries.length>1,u.HasFilledAddress=ko.observable(!1),u.HasFilledAnyAddressField=ko.pureComputed(()=>e("StateText")||e("StateEnum")||e("City")||e("PostalCode")||e("StreetTypeEnum")||e("StreetNumber")||e("UnitNumber")||e("StreetName")),u.FastTrackAvalibilityFlags=ko.observableArray([]),u.CanFastTrackSg=ko.pureComputed(function(){return u.FastTrackAvalibilityFlags().includes("EnabledSg")}),u.fastTrackMessage=ko.observable(null),u.isFastTrackError=ko.observable(!1),u.hasToShowDocumentsSection=ko.pureComputed(function(){return u.AddressLine1()||u.HasFilledAddress()}),u.redirectToIdentityDetailsStep=function(){n.redirect(i.Step2SignUpUrl)},u.saveAddress=function(){if(!u.IsSaving()&&v()){const t=n(r.container).find(":visible").irValidate();t&&(u.IsSaving(!0),u.fastTrackMessage(null),n.ajax({url:i.SaveAddressUrl,type:"POST",data:u.getVerificationModelData()}).success(function(n){if(n.success){u.HasFilledAddress(!0);u.AddressLine1(n.data.addressLine1);u.AddressLine2(n.data.addressLine2);return}c("Error occured. Try again later")}).error(function(){console.log("error")}).always(function(){u.IsSaving(!1)}))}},u.getVerificationModelData=function(){return{CountryOfResidence:u.CountryOfResidence(),Country:u.CountryAddress(),UnitNumber:u.UnitNumber(),StreetNumber:u.StreetNumber(),StreetName:u.StreetName(),City:u.City(),PostalCode:u.PostalCode(),StreetTypeText:u.StreetTypeText(),StreetTypeEnum:u.StreetTypeEnum(),StateText:u.StateText(),StateEnum:u.StateEnum(),AddressLine1:u.AddressLine1(),AddressLine2:u.AddressLine2()}},u.pageLeaveEventHandler={on:function(){window.onbeforeunload=()=>{const n=u.Items().some(n=>!n.IsSubmitted()),t=u.HasFilledAnyAddressField()&&!u.HasFilledAddress()&&!u.AddressLine1();if(t||n)return""}},off:function(){window.onbeforeunload=()=>{}}},p()}n.extend(!0,IR,{VerificationModel:i})}(jQuery,IR.VerificationDocument,{});
window.IR==null&&(window.IR={}),function(n){function t(t){function f(){return n(r.controls.container)}function h(){return n(r.controls.successMessage,f())}function u(){return n(r.controls.form,f())}function c(){return r=n.extend(!0,s,t||{}),i=new IR.RecaptchaManager({wrapperId:r.controls.recaptchaContainerId,dataCallback:function(){u().submit()}}),window.grecaptcha.ready(function(){u().irForm({beforeSend:l,success:a,failed:e,error:e});i.reset()}),o}function l(){return($form=u(),!$form.irValidate())?!1:i.isValid()?!0:(i.execute(),!1)}function a(){u().hide();h().show();i.reset()}function e(n){var t=n.hasOwnProperty("message")?n.message:n.Message;AAT.utils.confirm("Error",t||"An error occurred while sending your message","OK","btn-danger",null,null,"close",!1,!0);i.reset()}var o={},r={},s={},i;return c()}n.extend(!0,IR,{EnquiryPage:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function e(t){var i="";try{t!=null&&(i="{0}".f(ir.math.valuable(n.trim(t.toString()),"Aud",!1)))}catch(r){i=t}return i!=""?"${0}".f(i):""}function r(){if(i.IsSaved()){i.SortIndex(1);return}if(i.IsDefault()){i.SortIndex(3);return}i.SortIndex(2)}function o(n){s(n);n?(i.CurrencyCode(n.CurrencyCode),i.TransactionType(n.TransactionType),i.TransactionDateTime(n.TransactionDateTime),i.Volume(n.Volume),i.TotalCost(n.TotalCost),i.IsDefault(!1),i.IsSaved(!n.IsExported),i.IsExported(n.IsExported),i.Guid=n.Guid,i.Brokerage(n.Brokerage)):(i.IsDefault(!0),i.IsSaved(!1));i.Guid=i.Guid||AAT.utils.guid();r()}function s(n){if(n){var t=n.IsExported?u.getFinancialYear(n.TransactionDateTime):n.FinancialYear;i.FinancialYear(t)}else i.FinancialYear(null)}var i=this,u=t.FinancialYearHelper,f=t.TransactionTypes;return i.Parent=ko.observable(t.Parent),i.CurrencyCode=ko.observable(),i.TransactionType=ko.observable(),i.TransactionTypeText=ko.observable(),i.TransactionDateTime=ko.observable(),i.Volume=ko.observable(),i.TotalCost=ko.observable(),i.Brokerage=ko.observable(),i.Guid=null,i.FinancialYear=ko.observable(),i.WillBeDisplayed=ko.observable(!0),i.IsSaved=ko.observable(!1),i.IsDefault=ko.observable(!0),i.IsExported=ko.observable(!0),i.Nonce=moment().valueOf(),i.SortIndex=ko.observable(1),i.BrokerageText=ko.pureComputed(function(){return e(i.Brokerage())}),i.TotalCostText=ko.pureComputed(function(){return e(i.TotalCost())}),i.markAsNotDefault=function(){i.IsDefault(!1);r()},i.TransactionDateTime.subscribe(function(n){i.FinancialYear(u.getFinancialYear(n))}),i.TransactionType.subscribe(function(n){var r=n,t;r&&f&&(t=f.filter(function(n){return n.key===r}),t&&t.length>0&&i.TransactionTypeText(t[0].val))}),i.setWillBeDisplayed=function(n){i.FinancialYear()&&n?i.WillBeDisplayed(i.FinancialYear()<=n):i.WillBeDisplayed(!0)},i.markAsSaved=function(){i.IsSaved(!0);r()},i.getData=function(){return{Guid:i.Guid,CurrencyCode:i.CurrencyCode(),TransactionType:i.TransactionType(),TransactionDateTime:i.TransactionDateTime(),Volume:i.Volume(),TotalCost:i.TotalCost(),Brokerage:i.Brokerage()}},o(t.Transaction),i}n.extend(!0,IR,{ExternalTransactionModel:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n,t){function i(i){function a(n){r.hasDefaultItem(n)||n.push(o())}function o(){return s(null)}function s(n){return new t({Parent:r,FinancialYearHelper:e,Transaction:n,TransactionTypes:i.transactionTypes})}function v(){if(k(),i.callbacks.onDataSaved)i.callbacks.onDataSaved(r.FinancialYear());n(".modal:visible").modal("hide")}function y(t){try{var u=r.FinancialYear();if(!u)return;n.showLoader();n.ajax({type:"POST",url:i.data.getExternalTransactionsUrl,data:JSON.stringify({financialYear:u}),contentType:"application/json;"}).done(function(i){i.Success?(f(i.Data,!0),t&&h(),n.hideLoader()):(f(null),AAT.utils.sendToLog(i.Message),n.hideLoader())}).error(function(t,i){n.interrupted(t)||AAT.utils.sendToLog("Request failed: "+i);f(null,!0);n.hideLoader()})}catch(e){n.hideLoader()}}function h(){u(r.Transactions())&&r.FinancialYear()&&n.each(r.Transactions(),function(n,t){t.setWillBeDisplayed(r.FinancialYear())})}function c(n){try{return n!=null?ir.math.valuable(n,"Aud",!1):n}catch(t){return n}}function p(t){try{if(!t||t.length===0)return[];var i=[];return n.each(t,function(n,t){var r={CurrencyCode:t[0],TransactionType:w(t[1]),TransactionDateTime:t[2],Volume:t[3],Brokerage:c(t[4]),TotalCost:c(t[5]),IsExported:!0};i.push(r)}),i}catch(r){return n.log(r),[]}}function w(t){function u(n){return n.replaceAll(" ","").toLocaleLowerCase()}if(!t||n.trim(t)==="")return null;var r=i.transactionTypes.filter(function(n){return u(n.val)===u(t)});return r&&r.length>0?r[0].key:t}function f(n,t,i){var f,e;for(u(n)||(n=[]),u(r.Transactions())||r.Transactions([]),f=b(t,i),e=0;e<n.length;e++)f.push(s(n[e]));a(f);f=f.sort(function(n,t){var i=n.SortIndex(),r=t.SortIndex();return i===2&&r===2?n.Nonce-t.Nonce:i-r});r.Transactions(f);h()}function b(n,t){return u(r.Transactions())?t?r.Transactions().filter(function(n){return n}):n?r.Transactions().filter(function(n){return!n.IsSaved()}):[]:[]}function k(){if(u(r.Transactions()))for(var n=0;n<r.Transactions().length;n++)r.Transactions()[n].markAsSaved()}function u(n){return n&&n.length!==0}function d(){r.IncludeTransactionsInReport(r.TransactionCountAll()<=l)}var r=this,e=null,l=i.maxTransactions;return r.Transactions=ko.observableArray([]),r.Transactions.subscribe(function(n){var t=0,i=r.FinancialYear();n&&i&&(t=n.filter(n=>!n.IsDefault()&&n.WillBeDisplayed()).length);r.updateReportCost(i,t)}),r.TransactionsCountExternal=ko.pureComputed(function(){var n=r.TransactionsForSaving();return n.length}),r.TransactionsForSaving=ko.pureComputed(function(){if(!u(r.Transactions()))return[];return r.Transactions().filter(function(n){return!n.IsDefault()})}),r.FinancialYear=ko.observable(),r.FinancialYear.subscribe(function(n){n&&y(!0)}),r.init=function(n){e=new IR.FinancialYearHelper;r.FinancialYear(n);r.canShowImportOptions(!1);f(null,!1);i.flatFee&&(r.ReportCost(i.flatFee),r.ShowReportCost(!0))},r.addItem=function(t){var i=n(".modal:visible").irValidate();if(i){if(t.setWillBeDisplayed(r.FinancialYear()),!t.WillBeDisplayed()){n("input.transaction-date",".modal:visible").validationPopup({message:"The date doesn't belong to the selected financial year"});return}t.markAsNotDefault();r.addDefaultItem()}},r.removeAll=function(){r.Transactions([]);r.addDefaultItem()},r.removeItem=function(n){r.Transactions.remove(n);r.addDefaultItem()},r.addDefaultItem=function(){r.hasDefaultItem(r.Transactions())||r.Transactions.push(o())},r.hasDefaultItem=function(n){if(!u(n))return!1;var t=n.filter(function(n){return n.IsDefault()});return t.length>0},r.getData=function(){var t=[];return n.each(r.TransactionsForSaving(),function(){t.push(this.getData())}),{FinancialYear:r.FinancialYear(),Currency:window.currencyManager.getSecondary(),ExternalTransactions:t}},r.create=function(){var t=n(".modal:visible .financial-year");t.irValidate()&&(n.showLoader(),n.ajax({type:"POST",url:i.data.saveTaxReportUrl,contentType:"application/json;",data:JSON.stringify(r.getData())}).done(function(i){i.Success?v():(n.hideLoader(),AAT.utils.sendToLog(i.Message),t.errorMessage({error:i}))}).error(function(t,i){n.interrupted(t)||AAT.utils.sendToLog("Request failed: "+i);n.hideLoader()}))},r.importExternalTransactions=function(t,i){var r=n(i.target),u=r.next("input[type=file]").first();u.trigger("click")},r.handleExternalTransactionsCsvImport=function(t,i){var e,r,o,u;try{if(n.showLoader(),e=n(i.target),r=e[0].files,!r||r.length===0)return;o=r[0];u=new window.FileReader;u.onload=function(){var t=u.result.trim(),i=n.csv.toArrays(t),r=p(i);f(r,!0,!0)};u.readAsText(o)}catch(s){n.log(s)}finally{n("input[type=file]").val("");n.hideLoader()}},r.canShowImportOptions=ko.observable(!1),r.showImportOptions=function(){r.canShowImportOptions(!r.canShowImportOptions())},r.ShowReportCost=ko.observable(!1),r.ReportCost=ko.observable(),r.TransactionsCountIr=ko.observable(0),r.IncludeTransactionsInReport=ko.observable(!0),r.RequestingEstimation=ko.observable(!1),r.updateReportCost=function(t,u){r.ShowReportCost(!1);t&&u!=null?(r.ShowReportCost(!0),r.RequestingEstimation(!0),n.estimateTaxReportCost(i.data.estimateUrl,t,u,window.currencyManager.getSecondary(),function(n,t){r.ReportCost(t.TotalCost);r.RequestingEstimation(!1);r.TransactionsCountIr(t.TransactionsCountIr);d()})):r.TransactionsCountIr(0)},r.TransactionCountAll=ko.pureComputed(function(){return r.TransactionsCountExternal()+r.TransactionsCountIr()}),r}n.extend(!0,IR,{ExternalTransactionsModel:i})}(jQuery,IR.ExternalTransactionModel);
window.IR==null&&(window.IR={}),function(n,t){function i(i){function it(t){var i={IsValid:!1,Message:`Currency is invalid. ${s.Format}`};return t==null||n.trim(t)===""?i:(i.IsValid=s.Regex.test(t),i)}function rt(n){return{IsValid:moment(n).isValid(),Message:"Trade Date is invalid format {0}".f(r.dateTimeFormat)}}function ut(){r=n.extend(!0,tt,i||{});s={Regex:new RegExp(r.currencyValidationRegex),Format:r.currencyFormatDescription};ft();f();var t=window.currencyManager;return k(t.getPrimary(),t.getSecondary()),d(t.getPrimary(),t.getSecondary()),nt}function c(){return n(r.controls.container)}function ft(){var t=c();t.find(r.controls.newTaxReportButton).off("click").click(function(n){p(n.target,null)});n(r.controls.refreshControl).spinner({onRefresh:f,updateInterval:r.timerInterval,popoverPlacement:"left"});r.timerInterval>0&&window.setInterval(f,r.timerInterval);et()}function et(){e=new t({flatFee:r.flatFee,transactionTypes:r.transactionTypes,maxTransactions:r.maxTransactions,data:{saveTaxReportUrl:r.data.saveTaxReportUrl,getExternalTransactionsUrl:r.data.getExternalTransactionsUrl,estimateUrl:r.data.estimateUrl},callbacks:{onDataSaved:function(t){n.estimateTaxReportCost(r.data.estimateUrl,t,null,window.currencyManager.getSecondary(),lt)}},selectedCurrency:window.currencyManager.getSecondary()});o=n(r.controls.newTaxReportModal);ko.applyBindings(e,o[0])}function ot(n){var t=!r.isEnabled&&n;r.isEnabled=n;!h&&t&&f()}function f(){if(!r.isEnabled){h=!1;return}ct();n.ajax({type:"POST",url:r.data.getReportsUrl}).done(function(n){n.Success?l(n.Data):(l(null),AAT.utils.sendToLog(n.Message));w();b()}).error(function(t,i){n.interrupted(t)||AAT.utils.sendToLog("Request failed: "+i);w();b();l(null)})}function v(t,i,r,u,f){(i||!f)&&(f="javascript:void(0)");return n("<a>",{text:t,title:u||t,href:f,"class":"btn-link","data-role":r,click:i})}function y(t){return v("download",function(){n.asyncDownload({title:'<i class="fa fa-spinner fa-spin"><\/i> Download Tax Summary',body:"Your tax summary is being prepared for download.<br/> It can take some time to download.",checkIfReadyUrl:"{0}?guid={1}".f(r.data.checkIfPdfReportIsReadyUrl,t),downloadUrl:"{0}?guid={1}".f(r.data.getPdfReportUrl,t),pollIntervalSeconds:5})})}function l(n){var u={data:n,columns:st},t,i;c().find(r.controls.reportsTable).table(u);t={data:n,columns:ht};c().find(r.controls.reportsTableMobile).table(t);i=n.some(function(n){return n.IsDataRequested});g(!i)}function p(t,i){n(t).hasAttr("disabled")||o&&(e.init(i),o.modal("show"))}function ct(){n(r.controls.refreshControl).spinner("spin")}function w(){n(r.controls.refreshControl).spinner("success")}function b(){h=!0;r.callbacks&&r.callbacks.onLoadCompleted&&r.callbacks.onLoadCompleted()}function lt(t,i){var u=n(r.controls.taxActionModal),o;u.find("form").irForm({beforeSend:function(){g(!1)},success:function(){u.modal("toggle");f()}});o=!0;e&&(o=e.IncludeTransactionsInReport());u.find(r.controls.financialYearLabelContainer).text(a(t));u.find("[name=FinancialYear]").val(t);u.find("[type=password]").val(null);u.find(".report-total-cost-label").text(i.TotalCost);u.find(".report-to-charge-label").text(i.ToCharge);u.find("[name=IncludeTransactionsInReport]").val(o.toString());u.find("[name=SelectedCurrency]").val(window.currencyManager.getSecondary());u.errorMessage(null);u.irModal();f()}function a(n){return"Financial Year {0}-{1}".f(n-1,n)}function k(t,i){for(var f,u=n(".tax-report-fee-currency"),r=0;r<u.length;r++)f=u[r],f.innerText=i.toUpperCase()}function d(t,i){for(var e,f=n(".tax-report-fee-amount"),o=n(".tax-report-initial-fee-amount"),s=JSON.parse(r.fxRates),u=0;u<f.length;u++)e=f[u],e.innerText=(o[u].innerText*s[i]).toFixed(2)}function g(t){var i=n("[data-role=generate]");t?(i.removeClass("disabled"),i.removeAttr("disabled")):(i.addClass("disabled"),i.attr("disabled","disabled"))}var nt={validation:{currency:it,transactionDateTime:rt},setEnabled:ot},r={},tt={isEnabled:!0},o=null,e=null,s,h=!1,u={financialYear:function(n,t){var i=n.FinancialYear,r=a(i);t.text(r)},transactionsIncluded:function(n,t){var r=n.TransactionCountIr,u=n.TransactionCountExternal,i="Independent Reserve: {0}".f(r);i+="<\/br>External: {0}".f(u);t.html(i)},unprocessedVolume:function(n,t){var i=n.UnprocessedVolume;t.text(i||"")},statementGeneratedDate:function(n,t){var i=n.IsDataRequested?"Generating... (Will email when ready)":n.GeneratedDate?n.GeneratedDate:"Not yet generated";t.text(i)},action:function(n,t){function u(t){return v(t,function(t){return p(t.target,n.FinancialYear),!1},"generate")}var r=n.PrevRequestGuid,i=n.RequestGuid;i?t.append(u("regenerate summary")):n.IsDataRequested||t.append(u("generate summary"));i&&t.append(y(i));r&&t.append(y(r))},mobile:function(t,i){var r,f;i.append("<div>{0}<\/div>".f(a(t.FinancialYear)));t.TransactionsIncluded>0&&i.append("<div>Trades: {0}<\/div>".f(t.TransactionsIncluded));t.UnprocessedVolume&&i.append("<div>Unprocessed volume: {0}<\/div>".f(t.UnprocessedVolume));r=n("<div><\/div>");u.statementGeneratedDate(t,r);i.append(r);f=n("<div><\/div>");u.action(t,f);i.append(f)}},st=[{field:"FinancialYear",title:"Tax Year",render:u.financialYear,className:"financial-year"},{field:"TransactionsIncluded",title:"Trades Included",render:u.transactionsIncluded},{field:"UnprocessedVolume",title:"Unprocessed Volume",render:u.unprocessedVolume,tooltip:i.tooltips.unprocessedVolumeColumn},{field:"UserGuid",title:"Generation Date",render:u.statementGeneratedDate,className:"statement-generated-date"},{field:"UserGuid",title:"Action",render:u.action}],ht=[{field:"FinancialYear",title:"Tax Year",render:u.mobile}];window.currencyManager.onCurrencyChangedOnServer(k);window.currencyManager.onCurrencyChangedOnServer(d);return ut()}n.extend(!0,IR,{TaxReportManager:i})}(jQuery,IR.ExternalTransactionsModel),function(n){n.estimateTaxReportCost=function(t,i,r,u,f){n.ajax({type:"POST",url:t,data:{financialYear:i,externalTransactions:r,reportCurrency:u}}).done(function(n){n.Success===!0&&f(i,n.Data)}).error(function(t,i){n.interrupted(t)||AAT.utils.sendToLog("Request failed: "+i)})}}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(){function i(){return t}function r(t){try{if(!t)return null;t=moment(t);return t.month()<=5?t.year():t.year()+1}catch(i){n.log(i)}}var t={getFinancialYear:r};return i()}n.extend(!0,IR,{FinancialYearHelper:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function o(){return i=n.extend(!0,e,t||{}),u}function s(){return i.primary}function h(){return i.secondary}function c(t,r,f){t!=null&&(i.primary=t);r!=null&&(i.secondary=r);v(f);y();n(u).trigger("currencyChanged",[i.primary,i.secondary])}function l(t){n(u).bind("currencyChanged",function(n,i,r){t(i,r)})}function a(t){n(u).bind("currencyChangedOnServer",function(n,i,r,u){t(i,r,u)})}function v(t){n.cookie("primary-currency",i.primary,{expires:365});n.cookie("secondary-currency",i.secondary,{expires:365});i.saveUrl!=null&&n.irAjax({url:i.saveUrl,data:{primaryCurrencyCode:i.primary,secondaryCurrencyCode:i.secondary},success:function(r){n(u).trigger("currencyChangedOnServer",[i.primary,i.secondary,r]);t!=null&&t()},fail:function(){}})}function y(){var t=i.primary,f=r(t).Name,u=i.secondary;n("[data-auto-primary-currency]").text(t);n("[data-auto-primary-currency-name]").text(f);n("[data-auto-primary-currency-image]").each(function(){var i=n(this),r=i.attr("data-icon-size");i.attr("src","/img/flags/{0}{1}.png".f(t,r))});n("[data-auto-secondary-currency]").text(u);n("[data-auto-secondary-currency-image]").each(function(){var t=n(this),i=t.attr("data-icon-size");t.attr("src","/img/flags/{0}{1}.png".f(u,i))});n('[data-toggle="popover"][data-content]').each(function(){var r=n(this),i=n("<div><\/div>").html(r.attr("data-content"));(i.find("[data-auto-primary-currency]").length>0||i.find("[data-auto-primary-currency-name]").length>0||i.find("[data-auto-secondary-currency]").length>0)&&(i.find("[data-auto-primary-currency]").text(t),i.find("[data-auto-primary-currency-name]").text(f),i.find("[data-auto-secondary-currency]").text(u),r.attr("data-content",i.html()))})}function p(n){if(n.find("[data-auto-primary-currency]").length>0||n.find("[data-auto-primary-currency-name]").length>0||n.find("[data-auto-secondary-currency]").length>0){var t=i.primary,u=r(t).Name,f=r(t).TradingVisibleDecimalPlaces,e=r(t).FiatPriceDecimalPlaces,o=i.secondary;n.find("[data-auto-primary-currency]").text(t);n.find("[data-auto-primary-currency-name]").text(u);n.find("[data-auto-secondary-currency]").text(o);n.find("[data-auto-trading-decimal-places]").text(f);n.find("[data-auto-fiat-decimal-places]").text(e)}}function w(n,t,r){var u=i.currencies[n],f=r?u.TradingVisibleDecimalPlaces:u.VisibleDecimalPlaces,e=ir.math.getDecimalPlaces(t)<=f;return{success:e,configuration:u}}function r(n){let t=i.currencies[n.capitalizeFirstLetter()];return t.Ticker=n,t}function b(n){if(n!=null){var t=r(n);if(t!=null&&t.CurrencyType==="Primary")return!0}return!1}function k(n){if(n!=null){var t=r(n);if(t!=null&&t.Family==="Bitcoin")return!0}return!1}function d(n){if(!n)return null;const t=r(n);return t?t.Family:null}function g(n){if(n!=null){var t=r(n);if(t!=null&&t.Family==="Erc20")return!0}return!1}function nt(n){if(n!=null){var t=r(n);if(t!=null&&t.CurrencyType==="Secondary")return!0}return!1}function tt(){return f("Primary")}function it(){return f("Secondary")}function f(n){var u=[],t,r;for(t in i.currencies)i.currencies.hasOwnProperty(t)&&(r=i.currencies[t],r.CurrencyType===n&&r.IsVisible&&u.push(t));return u}function rt(n){var t,r;for(t in i.currencies)if(i.currencies.hasOwnProperty(t)&&(r=i.currencies[t],r.Code===n))return r.Ticker=t,r;throw`Not found currency by code '${n}'.`;}var u={getPrimary:s,getSecondary:h,set:c,onCurrencyChanged:l,onCurrencyChangedOnServer:a,popoverShown:p,validateDecimalPlaces:w,getCurrencyConfiguration:r,isPrimary:b,isBitcoinFamily:k,isToken:g,isSecondary:nt,getPrimaryCurrencies:tt,getSecondaryCurrencies:it,getCurrencyFamily:d,getCurrencyConfigurationByCode:rt},i,e={primary:"Btc",secondary:"Usd",saveUrl:null};return o()}n.extend(!0,IR,{CurrencyManager:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function c(){return i=n.extend(!0,h,t||{}),l(),s}function l(){r().each(function(){var t=n(this),r=t.attr("data-currency-type"),i,u,f;t.find("li a").click(function(){var t=n(this).closest("li");a(t)});i=null;"Primary"===r?(u=t.attr("data-currency"),i=t.find("li[data-currency="+u+"]")):"Secondary"===r?(f=t.attr("data-currency"),i=t.find("li[data-currency="+f+"]")):i=t.find("li:first");i.find("a").click();window.currencyManager.onCurrencyChanged(function(n,t){v(n,t)})});u=!0}function a(n){var t=n.attr("data-currency"),i=n.closest("span"),r=i.attr("data-currency");u&&t==r||(f(i,t),u&&y())}function v(n,t){e()!=n&&f(r("Primary"),n);o()!=t&&f(r("Secondary"),t)}function y(){var n=e(),t=o();window.currencyManager.set(n,t);i.selected!=null&&i.selected(n,t)}function r(t){return t==null?n(i.control):n(i.control+"[data-currency-type="+t+"]")}function e(){return r("Primary").attr("data-currency")}function o(){return r("Secondary").attr("data-currency")}function f(n,t){n.attr("data-currency",t).find("span.selected-value").text(t);n.find(".dropdown-toggle .ir-flag").removeClass().addClass("ir-flag ir-flag-"+t)}var s={},i,h={control:null,selected:null},u=!1;return c()}n.extend(!0,IR,{SelectAccountDropdown:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function e(){return i=n.extend(!0,f,t||{}),r}function o(){var f=n(i.controls.modalSelector);if(f.size()>0){var e=r,t=f.first(),o=n(i.controls.guidSelector,t).val(),s=function(){n(this).hasClass("disabled")||(n(this).prop("disabled",!0).addClass("disabled"),t.modal("hide"),t.remove(),n.ajax({type:"POST",url:i.data.updateUrl,data:{announcementGuid:o}}).done(function(n){n.Success?e.run():u(n.Message)}).error(function(t,i){n.interrupted(t)||u("Request failed: "+i)}))};n(i.controls.buttonSelector,t).click(s);t.irModal("show",i.controls.buttonSelector)}}function u(n){typeof console!="undefined"&&console.log(n)}var r={run:o},i,f={controls:{modalSelector:"",guidSelector:"",buttonSelector:""},data:{updateUrl:null}};return e()}n.extend(!0,IR,{Announcements:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function f(t,i,u){b(t);n("form",t).irForm({success:function(n){nt(i);c(t);u&&u(n)}});r(t)}function l(i){var f=".modal-external-app-qr-code",u=n(".qr-code-container",f);u.html("");n.showLoader();n.ajax({url:t.generateQrCodeUrl,type:"POST",dataType:"html",data:{deepLink:i}}).success(function(t){u.html(t);n.hideLoader()}).fail(function(){n.hideLoader();AAT.utils.sendToLog("Failed to generate QR.\nTry reloading the page.")});r(f,function(){u.html("")})}function e(){return i.selectedApp!=null}function a(){e()&&f(".modal-link-external-app-mobile",!1,function(n){v(n.Data)})}function v(t){var i=".modal-external-app-linked-mobile",u=n(".deep-link",i);u.attr("href",t).off("click").click(function(n){n.preventDefault();p(t)});r(i,function(){u.attr("href","#")})}function y(n,t){try{window.location=n}catch(i){alert(i)}try{setTimeout(function(){window.location.replace(t)},1500)}catch(i){alert(i)}}function p(t){var u,r;try{if(u=n.mobile.isMobile,!u)return;r=i.selectedApp.Downloads().filter(function(t){return t.Device()===n.mobile.type});r&&r.length>0&&y(t,r[0].Url())}catch(f){alert(f);AAT.utils.sendToLog(f)}}function w(){e()&&r(".modal-link-external-app-desktop")}function b(t){n(t).find("input[type=password]").val("")}function r(t,i){c(".modal:visible");var r=n(t);r.irModal({backdrop:"static"});r.off("hidden").on("hidden",i)}function c(t){n(t).modal("hide")}function k(){n.ajax({type:"POST",url:t.getExternalAppsUrl,contentType:"application/json;"}).done(function(n){n.Success?(u(n.Data),s()):(u(null),s(),AAT.utils.sendToLog(n.Message))}).error(function(t,i){n.interrupted(t)||AAT.utils.sendToLog(`Request failed: ${i}`);u(null,!0);s()})}function u(n){ko.mapping.fromJS(n,i.externalAppsListModel);n!=null&&h&&(h=!1,d())}function d(){var u,t,e,r,f;try{if(u=i.externalAppsListModel(),!u)return;if(t=n.getWindowHashInfo(),!t||!t.extra)return;if(e=t.extra.toLocaleUpperCase(),r=u.filter(function(n){return n.Name().toLocaleUpperCase()===e}),!r||r.length===0)return;f=r[0];f.IsLinked()||i.linkApp(f)}catch(o){n.log("Failed to link app automatically. Ex: {0}",o)}}function o(n){ko.mapping.fromJS(n,i.selectedApp)}function g(){u(null)}function s(){t.callbacks&&t.callbacks.loadCompleted&&t.callbacks.loadCompleted()}function nt(r){n.hideLoader();i.load();r&&o({});t.callbacks&&t.callbacks.appLinked&&t.callbacks.appLinked()}var i=this,h=!0;return i.externalAppsListModel=ko.mapping.fromJS([]),i.selectedApp=ko.mapping.fromJS({Key:"",Name:"",Description:"",Downloads:[],RequiredPermissions:[]}),i.load=function(){k()},i.unlinkApp=function(n){n.IsLinked()&&(o(n),f(".modal-unlink-external-app",!1))},i.linkApp=function(t){t.IsLinked()||(o(t),n.isMobile()?a():w())},i.linkUsingQR=function(){e()&&f(".modal-link-external-app-desktop-with-qr",!1,function(n){l(n.Data)})},g(),i}n.extend(!0,IR,{ExternalAppsList:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n,t){function i(i){function s(){return r=n.extend(!0,o,i||{}),h(),r.timerInterval>0&&window.setInterval(f,r.timerInterval),n(r.controls.refreshControl).spinner({onRefresh:f,updateInterval:r.timerInterval,popoverPlacement:"left"}),f(),e}function h(){u=new t({getExternalAppsUrl:r.dataUrl,generateQrCodeUrl:r.qrCodeUrl,callbacks:{loadCompleted:r.loadCompleted,appLinked:r.appLinked}});var i=n(r.controls.container);ko.applyBindings(u,i[0])}function f(){u&&u.load()}var e={},r,o={controls:{container:null,refreshControl:null},timerInterval:null,dataUrl:null,qrCodeUrl:null,loadCompleted:null,appLinked:null},u;return s()}n.extend(!0,IR,{ExternalAppsManager:i})}(jQuery,IR.ExternalAppsList);
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery"],n):n(window.jQuery)})(function(n){"use strict";var t=0;n.ajaxTransport("iframe",function(i){if(i.async){var e=i.initialIframeSrc||"javascript:false;",r,u,f;return{send:function(o,s){r=n('<form style="display:none;"><\/form>');r.attr("accept-charset",i.formAcceptCharset);f=/\?/.test(i.url)?"&":"?";i.type==="DELETE"?(i.url=i.url+f+"_method=DELETE",i.type="POST"):i.type==="PUT"?(i.url=i.url+f+"_method=PUT",i.type="POST"):i.type==="PATCH"&&(i.url=i.url+f+"_method=PATCH",i.type="POST");t+=1;u=n('<iframe src="'+e+'" name="iframe-transport-'+t+'"><\/iframe>').bind("load",function(){var t,f=n.isArray(i.paramName)?i.paramName:[i.paramName];u.unbind("load").bind("load",function(){var t;try{if(t=u.contents(),!t.length||!t[0].firstChild)throw new Error;}catch(i){t=undefined}s(200,"success",{iframe:t});n('<iframe src="'+e+'"><\/iframe>').appendTo(r);window.setTimeout(function(){r.remove()},0)});r.prop("target",u.prop("name")).prop("action",i.url).prop("method",i.type);i.formData&&n.each(i.formData,function(t,i){n('<input type="hidden"/>').prop("name",i.name).val(i.value).appendTo(r)});i.fileInput&&i.fileInput.length&&i.type==="POST"&&(t=i.fileInput.clone(),i.fileInput.after(function(n){return t[n]}),i.paramName&&i.fileInput.each(function(t){n(this).prop("name",f[t]||i.paramName)}),r.append(i.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),i.fileInput.removeAttr("form"));r.submit();t&&t.length&&i.fileInput.each(function(i,r){var u=n(t[i]);n(r).prop("name",u.prop("name")).attr("form",u.attr("form"));u.replaceWith(r)})});r.append(u).appendTo(document.body)},abort:function(){u&&u.unbind("load").prop("src",e);r&&r.remove()}}}});n.ajaxSetup({converters:{"iframe text":function(t){return t&&n(t[0].body).text()},"iframe json":function(t){return t&&n.parseJSON(n(t[0].body).text())},"iframe html":function(t){return t&&n(t[0].body).html()},"iframe xml":function(t){var i=t&&t[0];return i&&n.isXMLDoc(i)?i:n.parseXML(i.XMLDocument&&i.XMLDocument.xml||n(i.body).html())},"iframe script":function(t){return t&&n.globalEval(n(t[0].body).text())}}})});
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","jquery.ui.widget"],n):n(window.jQuery)})(function(n){"use strict";function t(t){var i=t==="dragover";return function(r){r.dataTransfer=r.originalEvent&&r.originalEvent.dataTransfer;var u=r.dataTransfer;u&&n.inArray("Files",u.types)!==-1&&this._trigger(t,n.Event(t,{delegatedEvent:r}))!==!1&&(r.preventDefault(),i&&(u.dropEffect="copy"))}}n.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||n('<input type="file">').prop("disabled"));n.support.xhrFileUpload=!!(window.ProgressEvent&&window.FileReader);n.support.xhrFormDataFileUpload=!!window.FormData;n.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice);n.widget("blueimp.fileupload",{options:{dropZone:n(document),pasteZone:undefined,fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,i){return t=this.messages[t]||t.toString(),i&&n.each(i,function(n,i){t=t.replace("{"+n+"}",i)}),t},formData:function(n){return n.serializeArray()},add:function(t,i){if(t.isDefaultPrevented())return!1;(i.autoUpload||i.autoUpload!==!1&&n(this).fileupload("option","autoUpload"))&&i.process().done(function(){i.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:n.support.blobSlice&&function(){var n=this.slice||this.webkitSlice||this.mozSlice;return n.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime();this.loaded=0;this.bitrate=0;this.getBitrate=function(n,t,i){var r=n-this.timestamp;return(!this.bitrate||!i||r>i)&&(this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=n),this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&n.support.xhrFileUpload||n.support.xhrFormDataFileUpload)},_getFormData:function(t){var i;return n.type(t.formData)==="function"?t.formData(t.form):n.isArray(t.formData)?t.formData:n.type(t.formData)==="object"?(i=[],n.each(t.formData,function(n,t){i.push({name:n,value:t})}),i):[]},_getTotal:function(t){var i=0;return n.each(t,function(n,t){i+=t.size||1}),i},_initProgressObject:function(t){var i={loaded:0,total:0,bitrate:0};t._progress?n.extend(t._progress,i):t._progress=i},_initResponseObject:function(n){var t;if(n._response)for(t in n._response)n._response.hasOwnProperty(t)&&delete n._response[t];else n._response={}},_onProgress:function(t,i){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),u;if(i._time&&i.progressInterval&&r-i._time<i.progressInterval&&t.loaded!==t.total)return;i._time=r;u=Math.floor(t.loaded/t.total*(i.chunkSize||i._progress.total))+(i.uploadedBytes||0);this._progress.loaded+=u-i._progress.loaded;this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,i.bitrateInterval);i._progress.loaded=i.loaded=u;i._progress.bitrate=i.bitrate=i._bitrateTimer.getBitrate(r,u,i.bitrateInterval);this._trigger("progress",n.Event("progress",{delegatedEvent:t}),i);this._trigger("progressall",n.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var r=this,i=t.xhr?t.xhr():n.ajaxSettings.xhr();i.upload&&(n(i.upload).bind("progress",function(n){var i=n.originalEvent;n.lengthComputable=i.lengthComputable;n.loaded=i.loaded;n.total=i.total;r._onProgress(n,t)}),t.xhr=function(){return i})},_isInstanceOf:function(n,t){return Object.prototype.toString.call(t)==="[object "+n+"]"},_initXHRData:function(t){var f=this,i,r=t.files[0],e=t.multipart||!n.support.xhrFileUpload,u=n.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=n.extend({},t.headers);t.contentRange&&(t.headers["Content-Range"]=t.contentRange);e&&!t.blob&&this._isInstanceOf("File",r)||(t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.name)+'"');e?n.support.xhrFormDataFileUpload&&(t.postMessage?(i=this._getFormData(t),t.blob?i.push({name:u,value:t.blob}):n.each(t.files,function(r,f){i.push({name:n.type(t.paramName)==="array"&&t.paramName[r]||u,value:f})})):(f._isInstanceOf("FormData",t.formData)?i=t.formData:(i=new FormData,n.each(this._getFormData(t),function(n,t){i.append(t.name,t.value)})),t.blob?i.append(u,t.blob,r.name):n.each(t.files,function(r,e){(f._isInstanceOf("File",e)||f._isInstanceOf("Blob",e))&&i.append(n.type(t.paramName)==="array"&&t.paramName[r]||u,e,e.uploadName||e.name)})),t.data=i):(t.contentType=r.type||"application/octet-stream",t.data=t.blob||r);t.blob=null},_initIframeSettings:function(t){var i=n("<a><\/a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||"");t.formData=this._getFormData(t);t.redirect&&i&&i!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(n){this._isXHRUpload(n)?(this._chunkedUpload(n,!0)||(n.data||this._initXHRData(n),this._initProgressListener(n)),n.postMessage&&(n.dataType="postmessage "+(n.dataType||""))):this._initIframeSettings(n)},_getParamName:function(t){var r=n(t.fileInput),i=t.paramName;return i?n.isArray(i)||(i=[i]):(i=[],r.each(function(){for(var t=n(this),u=t.prop("name")||"files[]",r=(t.prop("files")||[1]).length;r;)i.push(u),r-=1}),i.length||(i=[r.prop("name")||"files[]"])),i},_initFormSettings:function(t){t.form&&t.form.length||(t.form=n(t.fileInput.prop("form")),t.form.length||(t.form=n(this.options.fileInput.prop("form"))));t.paramName=this._getParamName(t);t.url||(t.url=t.form.prop("action")||location.href);t.type=(t.type||n.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase();t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST");t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var i=n.extend({},this.options,t);return this._initFormSettings(i),this._initDataSettings(i),i},_getDeferredState:function(n){return n.state?n.state():n.isResolved()?"resolved":n.isRejected()?"rejected":"pending"},_enhancePromise:function(n){return n.success=n.done,n.error=n.fail,n.complete=n.always,n},_getXHRPromise:function(t,i,r){var u=n.Deferred(),f=u.promise();return i=i||this.options.context||f,t===!0?u.resolveWith(i,r):t===!1&&u.rejectWith(i,r),f.abort=u.promise,this._enhancePromise(f)},_addConvenienceMethods:function(t,i){var r=this,u=function(t){return n.Deferred().resolveWith(r,t).promise()};i.process=function(t,f){return(t||f)&&(i._processQueue=this._processQueue=(this._processQueue||u([this])).pipe(function(){return i.errorThrown?n.Deferred().rejectWith(r,[i]).promise():u(arguments)}).pipe(t,f)),this._processQueue||u([this])};i.submit=function(){return this.state()!=="pending"&&(i.jqXHR=this.jqXHR=r._trigger("submit",n.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()};i.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))};i.state=function(){return this.jqXHR?r._getDeferredState(this.jqXHR):this._processQueue?r._getDeferredState(this._processQueue):void 0};i.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"};i.progress=function(){return this._progress};i.response=function(){return this._response}},_getUploadedBytes:function(n){var i=n.getResponseHeader("Range"),t=i&&i.split("-"),r=t&&t.length>1&&parseInt(t[1],10);return r&&r+1},_chunkedUpload:function(t,i){t.uploadedBytes=t.uploadedBytes||0;var u=this,f=t.files[0],e=f.size,r=t.uploadedBytes,c=t.maxChunkSize||e,l=this._blobSlice,o=n.Deferred(),s=o.promise(),a,h;return!(this._isXHRUpload(t)&&l&&(r||c<e))||t.data?!1:i?!0:r>=e?(f.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",f.error])):(h=function(){var i=n.extend({},t),s=i._progress.loaded;i.blob=l.call(f,r,r+c,f.type);i.chunkSize=i.blob.size;i.contentRange="bytes "+r+"-"+(r+i.chunkSize-1)+"/"+e;u._initXHRData(i);u._initProgressListener(i);a=(u._trigger("chunksend",null,i)!==!1&&n.ajax(i)||u._getXHRPromise(!1,i.context)).done(function(f,c,l){r=u._getUploadedBytes(l)||r+i.chunkSize;s+i.chunkSize-i._progress.loaded&&u._onProgress(n.Event("progress",{lengthComputable:!0,loaded:r-i.uploadedBytes,total:r-i.uploadedBytes}),i);t.uploadedBytes=i.uploadedBytes=r;i.result=f;i.textStatus=c;i.jqXHR=l;u._trigger("chunkdone",null,i);u._trigger("chunkalways",null,i);r<e?h():o.resolveWith(i.context,[f,c,l])}).fail(function(n,t,r){i.jqXHR=n;i.textStatus=t;i.errorThrown=r;u._trigger("chunkfail",null,i);u._trigger("chunkalways",null,i);o.rejectWith(i.context,[n,t,r])})},this._enhancePromise(s),s.abort=function(){return a.abort()},h(),s)},_beforeSend:function(n,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0);this._initResponseObject(t);this._initProgressObject(t);t._progress.loaded=t.loaded=t.uploadedBytes||0;t._progress.total=t.total=this._getTotal(t.files)||1;t._progress.bitrate=t.bitrate=0;this._active+=1;this._progress.loaded+=t.loaded;this._progress.total+=t.total},_onDone:function(t,i,r,u){var f=u._progress.total,e=u._response;u._progress.loaded<f&&this._onProgress(n.Event("progress",{lengthComputable:!0,loaded:f,total:f}),u);e.result=u.result=t;e.textStatus=u.textStatus=i;e.jqXHR=u.jqXHR=r;this._trigger("done",null,u)},_onFail:function(n,t,i,r){var u=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total);u.jqXHR=r.jqXHR=n;u.textStatus=r.textStatus=t;u.errorThrown=r.errorThrown=i;this._trigger("fail",null,r)},_onAlways:function(n,t,i,r){this._trigger("always",null,r)},_onSend:function(t,i){i.submit||this._addConvenienceMethods(t,i);var r=this,f,s,e,h,u=r._getAJAXSettings(i),o=function(){return r._sending+=1,u._bitrateTimer=new r._BitrateTimer,f=f||((s||r._trigger("send",n.Event("send",{delegatedEvent:t}),u)===!1)&&r._getXHRPromise(!1,u.context,s)||r._chunkedUpload(u)||n.ajax(u)).done(function(n,t,i){r._onDone(n,t,i,u)}).fail(function(n,t,i){r._onFail(n,t,i,u)}).always(function(n,t,i){if(r._onAlways(n,t,i,u),r._sending-=1,r._active-=1,u.limitConcurrentUploads&&u.limitConcurrentUploads>r._sending)for(var f=r._slots.shift();f;){if(r._getDeferredState(f)==="pending"){f.resolve();break}f=r._slots.shift()}r._active===0&&r._trigger("stop")})};return(this._beforeSend(t,u),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending)?(this.options.limitConcurrentUploads>1?(e=n.Deferred(),this._slots.push(e),h=e.pipe(o)):(this._sequence=this._sequence.pipe(o,o),h=this._sequence),h.abort=function(){return(s=[undefined,"abort","abort"],!f)?(e&&e.rejectWith(u.context,s),o()):f.abort()},this._enhancePromise(h)):o()},_onAdd:function(t,i){var a=this,p=!0,f=n.extend({},this.options,i),u=i.files,v=u.length,o=f.limitMultiFileUploads,c=f.limitMultiFileUploadSize,b=f.limitMultiFileUploadSizeOverhead,w=0,l=this._getParamName(f),s,e,h,r,y=0;if(c&&(!v||u[0].size===undefined)&&(c=undefined),(f.singleFileUploads||o||c)&&this._isXHRUpload(f))if(f.singleFileUploads||c||!o)if(!f.singleFileUploads&&c)for(h=[],s=[],r=0;r<v;r=r+1)w+=u[r].size+b,(r+1===v||w+u[r+1].size+b>c||o&&r+1-y>=o)&&(h.push(u.slice(y,r+1)),e=l.slice(y,r+1),e.length||(e=l),s.push(e),y=r+1,w=0);else s=l;else for(h=[],s=[],r=0;r<v;r+=o)h.push(u.slice(r,r+o)),e=l.slice(r,r+o),e.length||(e=l),s.push(e);else h=[u],s=[l];return i.originalFiles=u,n.each(h||u,function(r,u){var f=n.extend({},i);return f.files=h?u:[u],f.paramName=s[r],a._initResponseObject(f),a._initProgressObject(f),a._addConvenienceMethods(t,f),p=a._trigger("add",n.Event("add",{delegatedEvent:t}),f)}),p},_replaceFileInput:function(t){var i=t.fileInput,r=i.clone(!0);t.fileInputClone=r;n("<form><\/form>").append(r)[0].reset();i.after(r).detach();n.cleanData(i.unbind("remove"));this.options.fileInput=this.options.fileInput.map(function(n,t){return t===i[0]?r[0]:t});i[0]===this.element[0]&&(this.element=r)},_handleFileTreeEntry:function(t,i){var s=this,r=n.Deferred(),u=function(n){n&&!n.entry&&(n.entry=t);r.resolve([n])},h=function(n){s._handleFileTreeEntries(n,i+t.name+"/").done(function(n){r.resolve(n)}).fail(u)},e=function(){o.readEntries(function(n){n.length?(f=f.concat(n),e()):h(f)},u)},o,f=[];return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(n){n.relativePath=i;r.resolve(n)},u):t.isDirectory?(o=t.createReader(),e()):r.resolve([]),r.promise()},_handleFileTreeEntries:function(t,i){var r=this;return n.when.apply(n,n.map(t,function(n){return r._handleFileTreeEntry(n,i)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var i=t.items;return i&&i.length&&(i[0].webkitGetAsEntry||i[0].getAsEntry)?this._handleFileTreeEntries(n.map(i,function(n){var t;return n.webkitGetAsEntry?(t=n.webkitGetAsEntry(),t&&(t._file=n.getAsFile()),t):n.getAsEntry()})):n.Deferred().resolve(n.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=n(t);var r=t.prop("webkitEntries")||t.prop("entries"),i,u;if(r&&r.length)return this._handleFileTreeEntries(r);if(i=n.makeArray(t.prop("files")),i.length)i[0].name===undefined&&i[0].fileName&&n.each(i,function(n,t){t.name=t.fileName;t.size=t.fileSize});else{if(u=t.prop("value"),!u)return n.Deferred().resolve([]).promise();i=[{name:u.replace(/^.*\\/,"")}]}return n.Deferred().resolve(i).promise()},_getFileInputFiles:function(t){return!(t instanceof n)||t.length===1?this._getSingleFileInputFiles(t):n.when.apply(n,n.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_onChange:function(t){var r=this,i={fileInput:n(t.target),form:n(t.target.form)};this._getFileInputFiles(i.fileInput).always(function(u){i.files=u;r.options.replaceFileInput&&r._replaceFileInput(i);r._trigger("change",n.Event("change",{delegatedEvent:t}),i)!==!1&&r._onAdd(t,i)})},_onPaste:function(t){var i=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};i&&i.length&&(n.each(i,function(n,t){var i=t.getAsFile&&t.getAsFile();i&&r.files.push(i)}),this._trigger("paste",n.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var u=this,i=t.dataTransfer,r={};i&&i.files&&i.files.length&&(t.preventDefault(),this._getDroppedFiles(i).always(function(i){r.files=i;u._trigger("drop",n.Event("drop",{delegatedEvent:t}),r)!==!1&&u._onAdd(t,r)}))},_onDragOver:t("dragover"),_onDragEnter:t("dragenter"),_onDragLeave:t("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste}));n.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop");this._off(this.options.pasteZone,"paste");this._off(this.options.fileInput,"change")},_setOption:function(t,i){var r=n.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers();this._super(t,i);r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof n||(t.fileInput=n(t.fileInput));t.dropZone instanceof n||(t.dropZone=n(t.dropZone));t.pasteZone instanceof n||(t.pasteZone=n(t.pasteZone))},_getRegExp:function(n){var t=n.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_isRegExpOption:function(t,i){return t!=="url"&&n.type(i)==="string"&&/^\/.*\/[igm]{0,3}$/.test(i)},_initDataAttributes:function(){var t=this,r=this.options,i=n(this.element[0].cloneNode(!1));n.each(i.data(),function(n,u){var f="data-"+n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();i.attr(f)&&(t._isRegExpOption(n,u)&&(u=t._getRegExp(u)),r[n]=u)})},_create:function(){this._initDataAttributes();this._initSpecialOptions();this._slots=[];this._sequence=this._getXHRPromise(!0);this._sending=this._active=0;this._initProgressObject(this);this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(n){t.files=n;i._onAdd(null,t)}):(t.files=n.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var e=this,i=n.Deferred(),u=i.promise(),r,f;return u.abort=function(){return(f=!0,r)?r.abort():(i.reject(null,"abort","abort"),u)},this._getFileInputFiles(t.fileInput).always(function(n){if(!f){if(!n.length){i.reject();return}t.files=n;r=e._onSend(null,t);r.then(function(n,t,r){i.resolve(n,t,r)},function(n,t,r){i.reject(n,t,r)})}}),this._enhancePromise(u)}if(t.files=n.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","./jquery.fileupload"],n):n(window.jQuery)})(function(n){"use strict";var t=n.blueimp.fileupload.prototype.options.add;n.widget("blueimp.fileupload",n.blueimp.fileupload,{options:{processQueue:[],add:function(i,r){var u=n(this);r.process(function(){return u.fileupload("process",r)});t.call(this,i,r)}},processActions:{},_processFile:function(t,i){var r=this,f=n.Deferred().resolveWith(r,[t]),u=f.promise();return this._trigger("process",null,t),n.each(t.processQueue,function(t,f){var e=function(t){return i.errorThrown?n.Deferred().rejectWith(r,[i]).promise():r.processActions[f.action].call(r,t,f)};u=u.pipe(e,f.always&&e)}),u.done(function(){r._trigger("processdone",null,t);r._trigger("processalways",null,t)}).fail(function(){r._trigger("processfail",null,t);r._trigger("processalways",null,t)}),u},_transformProcessQueue:function(t){var i=[];n.each(t.processQueue,function(){var r={},f=this.action,u=this.prefix===!0?f:this.prefix;n.each(this,function(i,f){r[i]=n.type(f)==="string"&&f.charAt(0)==="@"?t[f.slice(1)||(u?u+i.charAt(0).toUpperCase()+i.slice(1):i)]:f});i.push(r)});t.processQueue=i},processing:function(){return this._processing},process:function(t){var i=this,r=n.extend({},this.options,t);return r.processQueue&&r.processQueue.length&&(this._transformProcessQueue(r),this._processing===0&&this._trigger("processstart"),n.each(t.files,function(u){var f=u?n.extend({},r):r,e=function(){return t.errorThrown?n.Deferred().rejectWith(i,[t]).promise():i._processFile(f,t)};f.index=u;i._processing+=1;i._processingQueue=i._processingQueue.pipe(e,e).always(function(){i._processing-=1;i._processing===0&&i._trigger("processstop")})})),this._processingQueue},_create:function(){this._super();this._processing=0;this._processingQueue=n.Deferred().resolveWith(this).promise()}})});
(function(n){"use strict";typeof define=="function"&&define.amd?define(["jquery","./jquery.fileupload-process"],n):n(window.jQuery)})(function(n){"use strict";n.blueimp.fileupload.prototype.options.processQueue.push({action:"validate",always:!0,acceptFileTypes:"@",maxFileSize:"@",minFileSize:"@",maxNumberOfFiles:"@",disabled:"@disableValidation"});n.widget("blueimp.fileupload",n.blueimp.fileupload,{options:{getNumberOfFiles:n.noop,messages:{maxNumberOfFiles:"Maximum number of files exceeded",acceptFileTypes:"File type is not allowed",maxFileSize:"File is too large",minFileSize:"File is too small"}},processActions:{validate:function(t,i){if(i.disabled)return t;var e=n.Deferred(),u=this.options,r=t.files[t.index],f;return(i.minFileSize||i.maxFileSize)&&(f=r.size),n.type(i.maxNumberOfFiles)==="number"&&(u.getNumberOfFiles()||0)+t.files.length>i.maxNumberOfFiles?r.error=u.i18n("maxNumberOfFiles"):!i.acceptFileTypes||i.acceptFileTypes.test(r.type)||i.acceptFileTypes.test(r.name)?f>i.maxFileSize?r.error=u.i18n("maxFileSize"):n.type(f)==="number"&&f<i.minFileSize?r.error=u.i18n("minFileSize"):delete r.error:r.error=u.i18n("acceptFileTypes"),r.error||t.files.error?(t.files.error=!0,e.rejectWith(this,[t])):e.resolveWith(this,[t]),e.promise()}}})});
window.IR==null&&(window.IR={}),function(n){function t(t){var i=this;i.AwaitingUserAction=ko.observable(t.awaitingUserAction);i.FileRequestCount=ko.observable(0);i.Uploaded=ko.observable(!1);i.Error=ko.observable(null);i.IsSending=ko.computed(function(){return i.FileRequestCount()>0});i.handleClick=function(){return!0};i.increaseFileRequestsCount=function(){i.FileRequestCount(i.FileRequestCount()+1)};i.decreaseFileRequestsCount=function(){i.FileRequestCount(i.FileRequestCount()-1)};i.onFileUploadAdd=function(){i.increaseFileRequestsCount()};i.onFileUploadAdded=function(t,r){if(r.files.error){var u="";n.each(r.files,function(n,t){t.error&&(u+="{0}: {1}. ".f(t.name,t.error),i.decreaseFileRequestsCount())});i.Error(u)}};i.onFileUploadCallback=function(){i.decreaseFileRequestsCount();i.Uploaded(!0)}}n.extend(!0,IR,{PhotoUploadModel:t})}(jQuery,IR.PhotoUploadModel),function(n){n.fn.photoUpload=function(t){var i=n(this),r=i[0],u=new IR.PhotoUploadModel(t);ko.applyBindings(u,r)}}(jQuery);
var CryptoJS=CryptoJS||function(n,t){var u={},f=u.lib={},i=f.Base=function(){function n(){}return{extend:function(t){n.prototype=this;var i=new n;return t&&i.mixIn(t),i.hasOwnProperty("init")||(i.init=function(){i.$super.init.apply(this,arguments)}),i.init.prototype=i,i.$super=this,i},create:function(){var n=this.extend();return n.init.apply(n,arguments),n},init:function(){},mixIn:function(n){for(var t in n)n.hasOwnProperty(t)&&(this[t]=n[t]);n.hasOwnProperty("toString")&&(this.toString=n.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),r=f.WordArray=i.extend({init:function(n,i){n=this.words=n||[];this.sigBytes=i!=t?i:n.length*4},toString:function(n){return(n||h).stringify(this)},concat:function(n){var u=this.words,f=n.words,i=this.sigBytes,r=n.sigBytes,e,t;if(this.clamp(),i%4)for(t=0;t<r;t++)e=f[t>>>2]>>>24-t%4*8&255,u[i+t>>>2]|=e<<24-(i+t)%4*8;else for(t=0;t<r;t+=4)u[i+t>>>2]=f[t>>>2];return this.sigBytes+=r,this},clamp:function(){var i=this.words,t=this.sigBytes;i[t>>>2]&=4294967295<<32-t%4*8;i.length=n.ceil(t/4)},clone:function(){var n=i.clone.call(this);return n.words=this.words.slice(0),n},random:function(t){for(var i,u=[],o=function(t){var t=t,i=987654321,r=4294967295;return function(){i=36969*(i&65535)+(i>>16)&r;t=18e3*(t&65535)+(t>>16)&r;var u=(i<<16)+t&r;return u/=4294967296,u+=.5,u*(n.random()>.5?1:-1)}},f=0,e;f<t;f+=4)i=o((e||n.random())*4294967296),e=i()*987654071,u.push(i()*4294967296|0);return new r.init(u,t)}}),e=u.enc={},h=e.Hex={stringify:function(n){for(var r,u=n.words,f=n.sigBytes,i=[],t=0;t<f;t++)r=u[t>>>2]>>>24-t%4*8&255,i.push((r>>>4).toString(16)),i.push((r&15).toString(16));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t+=2)u[t>>>3]|=parseInt(n.substr(t,2),16)<<24-t%8*4;return new r.init(u,i/2)}},o=e.Latin1={stringify:function(n){for(var r,u=n.words,f=n.sigBytes,i=[],t=0;t<f;t++)r=u[t>>>2]>>>24-t%4*8&255,i.push(String.fromCharCode(r));return i.join("")},parse:function(n){for(var i=n.length,u=[],t=0;t<i;t++)u[t>>>2]|=(n.charCodeAt(t)&255)<<24-t%4*8;return new r.init(u,i)}},c=e.Utf8={stringify:function(n){try{return decodeURIComponent(escape(o.stringify(n)))}catch(t){throw new Error("Malformed UTF-8 data");}},parse:function(n){return o.parse(unescape(encodeURIComponent(n)))}},s=f.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init;this._nDataBytes=0},_append:function(n){typeof n=="string"&&(n=c.parse(n));this._data.concat(n);this._nDataBytes+=n.sigBytes},_process:function(t){var e=this._data,h=e.words,c=e.sigBytes,o=this.blockSize,a=o*4,u=c/a,i,s,f,l;if(u=t?n.ceil(u):n.max((u|0)-this._minBufferSize,0),i=u*o,s=n.min(i*4,c),i){for(f=0;f<i;f+=o)this._doProcessBlock(h,f);l=h.splice(0,i);e.sigBytes-=s}return new r.init(l,s)},clone:function(){var n=i.clone.call(this);return n._data=this._data.clone(),n},_minBufferSize:0}),a=f.Hasher=s.extend({cfg:i.extend(),init:function(n){this.cfg=this.cfg.extend(n);this.reset()},reset:function(){s.reset.call(this);this._doReset()},update:function(n){return this._append(n),this._process(),this},finalize:function(n){n&&this._append(n);return this._doFinalize()},blockSize:16,_createHelper:function(n){return function(t,i){return new n.init(i).finalize(t)}},_createHmacHelper:function(n){return function(t,i){return new l.HMAC.init(n,i).finalize(t)}}}),l=u.algo={};return u}(Math);
(function(){if(typeof ArrayBuffer=="function"){var i=CryptoJS,r=i.lib,n=r.WordArray,t=n.init,u=n.init=function(n){var r,u,i;if(n instanceof ArrayBuffer&&(n=new Uint8Array(n)),(n instanceof Int8Array||typeof Uint8ClampedArray!="undefined"&&n instanceof Uint8ClampedArray||n instanceof Int16Array||n instanceof Uint16Array||n instanceof Int32Array||n instanceof Uint32Array||n instanceof Float32Array||n instanceof Float64Array)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),n instanceof Uint8Array){for(r=n.byteLength,u=[],i=0;i<r;i++)u[i>>>2]|=n[i]<<24-i%4*8;t.call(this,u,r)}else t.apply(this,arguments)};u.prototype=n}})();
(function(n){var i=CryptoJS,r=i.lib,t=r.Base,f=r.WordArray,u=i.x64={},e=u.Word=t.extend({init:function(n,t){this.high=n;this.low=t}}),o=u.WordArray=t.extend({init:function(t,i){t=this.words=t||[];this.sigBytes=i!=n?i:t.length*8},toX32:function(){for(var i,r=this.words,u=r.length,n=[],t=0;t<u;t++)i=r[t],n.push(i.high),n.push(i.low);return f.create(n,this.sigBytes)},clone:function(){for(var r=t.clone.call(this),i=r.words=this.words.slice(0),u=i.length,n=0;n<u;n++)i[n]=i[n].clone();return r}})})();
(function(n){var i=CryptoJS,e=i.lib,c=e.WordArray,r=e.Hasher,l=i.x64,u=l.Word,a=i.algo,o=[],s=[],h=[],t,f;(function(){for(var v,y,i,f,l,a,e,c,t=1,n=0,r=0;r<24;r++)o[t+5*n]=(r+1)*(r+2)/2%64,v=n%5,y=(2*t+3*n)%5,t=v,n=y;for(t=0;t<5;t++)for(n=0;n<5;n++)s[t+5*n]=n+(2*t+3*n)%5*5;for(i=1,f=0;f<24;f++){for(l=0,a=0,e=0;e<7;e++)i&1&&(c=(1<<e)-1,c<32?a^=1<<c:l^=1<<c-32),i&128?i=i<<1^113:i<<=1;h[f]=u.create(l,a)}})();t=[],function(){for(var n=0;n<25;n++)t[n]=u.create()}();f=a.SHA3=r.extend({cfg:r.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],n=0;n<25;n++)t[n]=new u.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(n,i){for(var a,v,b,g,c,y,p,nt,tt,it,r,f,u,rt,l=this._state,lt=this.blockSize/2,w=0;w<lt;w++)a=n[i+2*w],v=n[i+2*w+1],a=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360,v=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,u=l[w],u.high^=v,u.low^=a;for(b=0;b<24;b++){for(r=0;r<5;r++){for(y=0,p=0,f=0;f<5;f++)u=l[r+5*f],y^=u.high,p^=u.low;g=t[r];g.high=y;g.low=p}for(r=0;r<5;r++){var ut=t[(r+4)%5],ft=t[(r+1)%5],et=ft.high,ot=ft.low,y=ut.high^(et<<1|ot>>>31),p=ut.low^(ot<<1|et>>>31);for(f=0;f<5;f++)u=l[r+5*f],u.high^=y,u.low^=p}for(c=1;c<25;c++){var u=l[c],k=u.high,d=u.low,e=o[c];e<32?(y=k<<e|d>>>32-e,p=d<<e|k>>>32-e):(y=d<<e-32|k>>>64-e,p=k<<e-32|d>>>64-e);nt=t[s[c]];nt.high=y;nt.low=p}for(tt=t[0],it=l[0],tt.high=it.high,tt.low=it.low,r=0;r<5;r++)for(f=0;f<5;f++){var c=r+5*f,u=l[c],st=t[c],ht=t[(r+1)%5+5*f],ct=t[(r+2)%5+5*f];u.high=st.high^~ht.high&ct.high;u.low=st.low^~ht.low&ct.low}u=l[0];rt=h[b];u.high^=rt.high;u.low^=rt.low}},_doFinalize:function(){var u=this._data,f=u.words,y=this._nDataBytes*8,e=u.sigBytes*8,s=this.blockSize*32,r;f[e>>>5]|=1<<24-e%32;f[(n.ceil((e+1)/s)*s>>>5)-1]|=128;u.sigBytes=f.length*4;this._process();var a=this._state,h=this.cfg.outputLength/8,v=h/8,o=[];for(r=0;r<v;r++){var l=a[r],t=l.high,i=l.low;t=(t<<8|t>>>24)&16711935|(t<<24|t>>>8)&4278255360;i=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;o.push(i);o.push(t)}return new c.init(o,h)},clone:function(){for(var t=r.clone.call(this),i=t._state=this._state.slice(0),n=0;n<25;n++)i[n]=i[n].clone();return t}});i.SHA3=r._createHelper(f);i.HmacSHA3=r._createHmacHelper(f)})(Math);
RegExp.escape=function(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},function(n){"use strict";n.csv={defaults:{separator:",",delimiter:'"',headers:!0},hooks:{castToScalar:function(n){var t;return isNaN(n)?n:/\./.test(n)?parseFloat(n):(t=parseInt(n),isNaN(t)?null:t)}},parsers:{parse:function(n,t){function h(){if(i=0,r="",t.start&&t.state.rowNum<t.start){u=[];t.state.rowNum++;t.state.colNum=1;return}if(t.onParseEntry===undefined)c.push(u);else{var n=t.onParseEntry(u,t.state);n!==!1&&c.push(n)}u=[];t.end&&t.state.rowNum>=t.end&&(a=!0);t.state.rowNum++;t.state.colNum=1}function f(){if(t.onParseValue===undefined)u.push(r);else{var n=t.onParseValue(r,t.state);n!==!1&&u.push(n)}r="";i=0;t.state.colNum++}var s=t.separator,e=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var c=[],u=[],i=0,r="",a=!1;var v=RegExp.escape(s),y=RegExp.escape(e),l=/(D|S|\n|\r|[^DS\r\n]+)/,o=l.source;return o=o.replace(/S/g,v),o=o.replace(/D/g,y),l=RegExp(o,"gm"),n.replace(l,function(n){if(!a)switch(i){case 0:if(n===s){r+="";f();break}if(n===e){i=1;break}if(n==="\n"){f();h();break}if(/^\r$/.test(n))break;r+=n;i=3;break;case 1:if(n===e){i=2;break}r+=n;i=1;break;case 2:if(n===e){r+=n;i=1;break}if(n===s){f();break}if(n==="\n"){f();h();break}if(/^\r$/.test(n))break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(n===s){f();break}if(n==="\n"){f();h();break}if(/^\r$/.test(n))break;if(n===e)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");}}),u.length!==0&&(f(),h()),c},splitLines:function(n,t){function o(){if(r=0,t.start&&t.state.rowNum<t.start){i="";t.state.rowNum++;return}if(t.onParseEntry===undefined)s.push(i);else{var n=t.onParseEntry(i,t.state);n!==!1&&s.push(n)}i="";t.end&&t.state.rowNum>=t.end&&(c=!0);t.state.rowNum++}var e=t.separator,u=t.delimiter;t.state.rowNum||(t.state.rowNum=1);var s=[],r=0,i="",c=!1;var l=RegExp.escape(e),a=RegExp.escape(u),h=/(D|S|\n|\r|[^DS\r\n]+)/,f=h.source;return f=f.replace(/S/g,l),f=f.replace(/D/g,a),h=RegExp(f,"gm"),n.replace(h,function(n){if(!c)switch(r){case 0:if(n===e){i+=n;r=0;break}if(n===u){i+=n;r=1;break}if(n==="\n"){o();break}if(/^\r$/.test(n))break;i+=n;r=3;break;case 1:if(n===u){i+=n;r=2;break}i+=n;r=1;break;case 2:var f=i.substr(i.length-1);if(n===u&&f===u){i+=n;r=1;break}if(n===e){i+=n;r=0;break}if(n==="\n"){o();break}if(n==="\r")break;throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");case 3:if(n===e){i+=n;r=0;break}if(n==="\n"){o();break}if(n==="\r")break;if(n===u)throw new Error("CSVDataError: Illegal quote [Row:"+t.state.rowNum+"]");throw new Error("CSVDataError: Illegal state [Row:"+t.state.rowNum+"]");default:throw new Error("CSVDataError: Unknown state [Row:"+t.state.rowNum+"]");}}),i!==""&&o(),s},parseEntry:function(n,t){function o(){if(t.onParseValue===undefined)s.push(r);else{var n=t.onParseValue(r,t.state);n!==!1&&s.push(n)}r="";i=0;t.state.colNum++}var e=t.separator,u=t.delimiter;t.state.rowNum||(t.state.rowNum=1);t.state.colNum||(t.state.colNum=1);var s=[],i=0,r="";if(!t.match){var h=RegExp.escape(e),c=RegExp.escape(u),f=/(D|S|\n|\r|[^DS\r\n]+)/.source;f=f.replace(/S/g,h);f=f.replace(/D/g,c);t.match=RegExp(f,"gm")}return n.replace(t.match,function(n){switch(i){case 0:if(n===e){r+="";o();break}if(n===u){i=1;break}if(n==="\n"||n==="\r")break;r+=n;i=3;break;case 1:if(n===u){i=2;break}r+=n;i=1;break;case 2:if(n===u){r+=n;i=1;break}if(n===e){o();break}if(n==="\n"||n==="\r")break;throw new Error("CSVDataError: Illegal State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");case 3:if(n===e){o();break}if(n==="\n"||n==="\r")break;if(n===u)throw new Error("CSVDataError: Illegal Quote [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");throw new Error("CSVDataError: Illegal Data [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");default:throw new Error("CSVDataError: Unknown State [Row:"+t.state.rowNum+"][Col:"+t.state.colNum+"]");}}),o(),s}},toArray:function(t,i,r){var i=i!==undefined?i:{},u={};u.callback=r!==undefined&&typeof r=="function"?r:!1;u.separator="separator"in i?i.separator:n.csv.defaults.separator;u.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;var e=i.state!==undefined?i.state:{},i={delimiter:u.delimiter,separator:u.separator,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,state:e},f=n.csv.parsers.parseEntry(t,i);if(u.callback)u.callback("",f);else return f},toArrays:function(t,i,r){var i=i!==undefined?i:{},u={},f;if(u.callback=r!==undefined&&typeof r=="function"?r:!1,u.separator="separator"in i?i.separator:n.csv.defaults.separator,u.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter,f=[],i={delimiter:u.delimiter,separator:u.separator,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,start:i.start,end:i.end,state:{rowNum:1,colNum:1}},f=n.csv.parsers.parse(t,i),u.callback)u.callback("",f);else return f},toObjects:function(t,i,r){var i=i!==undefined?i:{},u={},f,l,a,s,h;u.callback=r!==undefined&&typeof r=="function"?r:!1;u.separator="separator"in i?i.separator:n.csv.defaults.separator;u.delimiter="delimiter"in i?i.delimiter:n.csv.defaults.delimiter;u.headers="headers"in i?i.headers:n.csv.defaults.headers;i.start="start"in i?i.start:1;u.headers&&i.start++;i.end&&u.headers&&i.end++;var c=[],e=[],i={delimiter:u.delimiter,separator:u.separator,onParseEntry:i.onParseEntry,onParseValue:i.onParseValue,start:i.start,end:i.end,state:{rowNum:1,colNum:1},match:!1},v={delimiter:u.delimiter,separator:u.separator,start:1,end:1,state:{rowNum:1,colNum:1}},y=n.csv.parsers.splitLines(t,v),o=n.csv.toArray(y[0],i),c=n.csv.parsers.splitLines(t,i);for(i.state.colNum=1,i.state.rowNum=o?2:1,f=0,l=c.length;f<l;f++){a=n.csv.toArray(c[f],i);s={};for(h in o)s[o[h]]=a[h];e.push(s);i.state.rowNum++}if(u.callback)u.callback("",e);else return e},fromArrays:function(t,r,u){var r=r!==undefined?r:{},f={},e;if(f.callback=u!==undefined&&typeof u=="function"?u:!1,f.separator="separator"in r?r.separator:n.csv.defaults.separator,f.delimiter="delimiter"in r?r.delimiter:n.csv.defaults.delimiter,f.escaper="escaper"in r?r.escaper:n.csv.defaults.escaper,f.experimental="experimental"in r?r.experimental:!1,!f.experimental)throw new Error("not implemented");e=[];for(i in t)e.push(t[i]);if(f.callback)f.callback("",e);else return e},fromObjects2CSV:function(t,r,u){var r=r!==undefined?r:{},f={},e;if(f.callback=u!==undefined&&typeof u=="function"?u:!1,f.separator="separator"in r?r.separator:n.csv.defaults.separator,f.delimiter="delimiter"in r?r.delimiter:n.csv.defaults.delimiter,f.experimental="experimental"in r?r.experimental:!1,!f.experimental)throw new Error("not implemented");e=[];for(i in t)e.push(arrays[i]);if(f.callback)f.callback("",e);else return e}};n.csvEntry2Array=n.csv.toArray;n.csv2Array=n.csv.toArrays;n.csv2Dictionary=n.csv.toObjects}(jQuery);
window.IR===null&&(window.IR={}),function(n){function t(t){function u(n){return"#"+n}function f(){return clearMessages(),r=new IR.RecaptchaManager({wrapperId:t.captcha.wrapperId}),r.render(),i}var i=this,r=null;return i.emailElement=ko.observable(null),i.firstNameElement=ko.observable(null),i.emailAddress=ko.observable(),i.firstName=ko.observable(),i.subscriptionSucceeded=ko.observable(!1),i.subscriptionFailed=ko.observable(!1),i.susbcriptionFailedMessage=ko.observable(),i.createSubscription=function(){clearMessages();canSubmit()&&n.ajax({url:t.urls.createSubscriptionUrl,type:"POST",data:{emailAddress:i.emailAddress(),firstName:i.firstName(),captchaResponse:n("#recaptcha-adhocsubscribe :input").val()}}).success(function(n){n.Success?i.subscriptionSucceeded(!0):i.subscriptionFailed(!0);i.susbcriptionFailedMessage(n.Message)}).error(function(n){i.subscriptionFailed(!0);i.susbcriptionFailedMessage=n.Message});r.reset()},i.backToNews=function(){window.location.href=t.urls.backToNewsUrl},i.validateEmail=function(){return n(u(i.emailElement().id)).irValidate()},i.validateFirstName=function(){return n(u(i.firstNameElement().id)).irValidate()},i.validateCaptcha=function(){return n(u(t.captcha.wrapperId)).irValidate()},canSubmit=function(){return i.validateEmail()&&i.validateFirstName()&&i.validateCaptcha()},clearMessages=function(){i.subscriptionSucceeded(!1);i.subscriptionFailed(!1)},f()}n.extend(!0,IR,{AdhocSubscriptionViewModel:t})}(jQuery,IR.AdhocSubscriptionViewModel,{});
window.IR===null&&(window.IR={}),function(n){function t(t){function h(n,t){i.selectedPrimaryCurrency(window.currencyManager.getCurrencyConfiguration(n).Code);i.selectedSecondaryCurrency(window.currencyManager.getCurrencyConfiguration(t))}function p(n){var t,r,f,u;return i.allStrategies().length>0&&(t=i.allStrategies().filter(function(n){return!n.isDeleted&&n.isActive&&n.type!=="AutoSchedule"&&i.getSecondary(n)===i.selectedSecondaryCurrency().Code}),t.length>0&&(r=t.map(function(n){return parseInt(n.depositPercent)}).reduce(function(n,t){return n+t}),f=r+n,f>100))?(u=100-r,u>0?"Must be less than {0}%. Total deposit percentage for all AutoBuy/AutoBasket strategies can not be more than 100%".f(u):"You have allocated 100% of your deposit to AutoBuy/AutoBasket strategies already. Please delete or disable AutoBuy/AutoBasket strategy before creating a new one. Total deposit percentage for all AutoBuy and AutoBasket strategies can not be more than 100%"):null}function e(r){n(".strategy-loading").show();u.getStrategies(function(u){i.strategiesSelected(!0);i.errorMessage("");n(".strategy-loading").hide();rt(u);i.allStrategies(u);r&&v(r);n(t.controls.autotradeErrorContainer).removeClass("hide")},function(){i.strategiesSelected(!1);n(".strategy-loading").hide();i.errorMessage("Couldn't get strategies. Please contact support for assistance.")})}function b(t,u){n(t).append("<b>Side:<\/b> "+u.sideDescription+", <\/br>");n(t).append("<b>Frequency:<\/b> "+u.scheduleDescription+", <\/br>");n(t).append("<b>Next Execution:<\/b> "+u.nextExecution.text+", <\/br>");var f=u.side==="Bid"?r.toTicker(i.getSecondary(u)):r.toTicker(i.getPrimary(u));u.amountType==="Absolute"?n(t).append(`<b>Value:</b>  ${f} ${u.amount.toFixed(2)}  </br>`):n(t).append(`<b>Value:</b>  ${u.amount.toFixed(0)} % </br>`)}function k(t,r){if(n(t).append("<b>Deposit:<\/b> "+r.depositPercent.toFixed(0)+"%, <\/br>"),n(t).append("<b>Spend Limit:<\/b> $"+r.fiatAmountLimit.maximum.toFixed(2)+", <\/br>"),r.type==="AutoBuy"){var u=window.currencyManager.getCurrencyConfigurationByCode(i.getPrimary(r)),f=r.cryptoPriceLimit.maximum.toFixed(u.FiatPriceDecimalPlaces);n(t).append("<b>Price Limit:<\/b> ${0}<br/>".f(numberWithCommas(f)))}else r.type==="AutoBasket"&&(n(t).append("<b>Price Limit:<\/b> "),n(t).append(y("Strategy Execution:","This strategy will execute at the best market price the order book has on offer.")),n(t).append("<br/>"))}function d(n){return n.type==="AutoBuy"||n.type==="AutoBasket"?!0:!1}function rt(i){n(t.controls.strategiesDesktopContainer).table({columns:it,data:i,noItemsText:"No strategies found.",rowClass:function(n){return n.isActive?"":"grey"},rowClicked:a});n(t.controls.strategiesMobileContainer).table({columns:tt,data:i,noItemsText:"No strategies found.",rowClass:function(n){return n.isActive?"":"grey"},rowClicked:a})}function a(u,e){if(v(u),c=e,i.strategyGuid()!==e.guid){if(i.strategyGuid(e.guid),f.setPageNumber(1),l(e,0),e.type==="AutoBuy"||e.type==="AutoSchedule"){var o=r.toTicker(i.getPrimary(e)).toUpperCase()+"/"+i.getSecondary(e).toUpperCase();i.selectedStrategyName(s[e.type]+" - "+o)}else e.type==="AutoBasket"&&i.selectedStrategyName(s[e.type]);n(t.controls.history.refreshControl).spinner({onRefresh:function(){l(c,f.getPageNumber()-1)},popoverPlacement:"left",updateInterval:t.controls.history.refreshTimeout});n(document).scrollTop(n("#autotradeHistory").offset().top)}}function v(i){var r=parseInt(i)+2;n(t.controls.strategiesDesktopContainer+">.table-striped tbody>tr>td").removeClass("active-table-cell");n(t.controls.strategiesMobileContainer+">.table-striped tbody>tr>td").removeClass("active-table-cell");n(t.controls.strategiesDesktopContainer+">.table-striped tbody>tr:nth-child("+r+")>td").addClass("active-table-cell");n(t.controls.strategiesMobileContainer+">.table-striped tbody>tr:nth-child("+r+")>td").addClass("active-table-cell")}function ut(n,t){l(c,t)}function l(i,r){n(t.controls.history.refreshControl).spinner("spin");n(t.controls.history.table).hide();u.getHistory(i.guid,r,t.controls.historyPagerSettings.data.pageSize,function(i){f.setTotalPages(i.totalPages);ft(i.data,t.controls);n(t.controls.history.refreshControl).spinner("success");n(t.controls.history.table).show()})}function ft(i){var r=[{field:"dateAction",title:"Date Time",render:function(t,i){n(i).append(t.dateAction.text)}},{field:"type",title:"Event"},{field:"action",title:"Action",render:function(t,i){if(t.actionDescriptions.length>0||t.triggerGuid){if(t.triggerGuid){var r=n("<a>",{text:"Deposit details",href:"javascript:void(0)",click:function(){u.getTransaction(t.triggerGuid,function(t){if(!t){n("#data-failed").irModal();return}et(t)},function(){n("#data-failed").irModal()})}});n(i).append(r)}if(t.actionDescriptions.length>0&&t.triggerGuid&&n(i).append(" | "),t.actionDescriptions.length>0)for(let r=0;r<t.actionDescriptions.length;r++)r!==0&&n(i).append(" | "),n(i).append(n("<a>",{text:`${t.actionDescriptions[r].value}`,href:"javascript:void(0)",click:function(){ot(t.actionDescriptions[r].key)}}))}},className:"text-center"}];n(t.controls.history.table).table({data:i,columns:r})}function et(i){var u={currency:{create:function(n){return n.data.toUpperCase()}},balance:{create:function(n){return numberWithCommas(ir.math.visible(parseFloat(n.data),i.currency))}},amount:{create:function(n){return numberWithCommas(ir.math.visible(parseFloat(n.data),i.currency))}}},r;ko.cleanNode(n(t.controls.depositModal)[0]);r=ko.mapping.fromJS(i,u);r.depositFailed=!i;r.depositError=i?"":"Can't get deposit.";ko.applyBindings(r,n(t.controls.depositModal)[0]);n(t.controls.depositModal).irModal()}function ot(t){i.orderManager.requestOrderAndShow(t,function(){n("#data-failed").irModal()})}function st(t){return n("<a>",{title:t.isActive?"Click to disable":"Click to enable",text:t.isActive?"Disable":"Enable",href:"javascript:void(0)",click:function(){var r,f;if(!t.isActive&&t.type!=="AutoSchedule"&&(r=p(t.depositPercent)===null,!r)){i.errorMessage("Total deposit percentage for all AutoBuy strategies can not be more than 100%");i.strategiesSelected(!1);return}f=n(this).closest("tr").attr("data-row-index");u.enableStrategy(t.guid,!t.isActive,function(n){if(!n.success){i.strategiesSelected(!1);i.errorMessage(n.message);return}i.strategiesSelected(!0);e(f)},function(){i.strategiesSelected(!1);i.errorMessage("Failed to update selected strategy.")})}})}function ht(r){return n("<a>",{title:"Click to delete",text:"Delete",href:"javascript:void(0)",click:function(){i.strategyGuid(r.guid);n(t.controls.confirmDelete).irModal()}})}function ct(t){return n("<a>",{title:"Click to see history",text:"History",href:"javascript:void(0)",click:function(){var i=n(this).closest("tr").attr("data-row-index");a(i,t)}})}function lt(r){u.deleteStrategy(r,function(){i.strategiesSelected(!0);e();i.selectedStrategyName("")},function(){i.strategiesSelected(!1);i.errorMessage("Failed to update selected strategy.")});n(t.controls.confirmDelete).hide()}function g(){i.selectedSide("Bid");i.selectedScheduleType(null);i.absoluteVolume(null);i.percentVolume(null);i.executionDatetime.date(null)}function o(){i.depositPercent(null);i.spendLimitTo(null);i.priceLimitTo(null)}function at(n){return"#"+n}function nt(){n(".strategy-action").hide()}function vt(){i.orderManager=new IR.OrderManager({data:t.urls.orderManager,orderDetailsDialogSettings:{dialog:"#modal-order-details",data:t.urls.orderDetailsDialog,cancelButton:".btn-cancel-order",pdfButton:".btn-order-statement",rejectedTip:".rejected-tip",trades:{container:"#order-trades"}}})}function y(t,i){var r=n("<a><\/a>").addClass("info-tooltip").attr("href","javascript:void(0)").append('<i class="fa fa-info-circle"><\/i>').irPopover({placement:"right",title:t,content:i,html:"true",container:"body"});return r.click(function(){return!1}),r}function yt(){return n(document).click(nt),f=new IR.Pager(t.controls.historyPagerSettings),n(f).bind("pageChanged",ut),r=new IR.CurrencyService,u=new IR.AutoTraderService,r.load(function(n){const t=n.currencies.filter(n=>window.currencyManager.getPrimaryCurrencies().some(t=>t.toUpperCase()===n.ticker.toUpperCase())&&n.isTradeEnabled&&!n.delisted).map(function(n){return{code:n.code,ticker:n.ticker.toUpperCase()}}),r=n.currencies.filter(n=>window.currencyManager.isSecondary(n.ticker)).map(function(n){return{code:n.code,ticker:n.ticker.toUpperCase()}});i.primaryCurrencies(t);i.secondaryCurrencies(r);h(window.currencyManager.getPrimary(),window.currencyManager.getSecondary());i.currenciesIsLoaded(!0)}),i.strategyType("AutoBuy"),i.autoBasketConfig=u.getAutoBasketConfig(function(n){i.autoBasketConfig=n;weightingText="";var t="",u=i.autoBasketConfig.weightings;i.autoBasketWeightingTextItems.removeAll();Object.keys(u).forEach(function(n){var e=parseFloat((u[n]*100).toFixed(2)),f=r.toTicker(n);weightingText+=`${t}${f}: ${e}%`;t="<br/>";i.autoBasketWeightingTextItems.push(`${currencyManager.getCurrencyConfiguration(f).Name}/${f} (${e}%)`)});i.autoBasketWeightingText(weightingText);o();e();vt()}),Object.keys(t.enums.orderSide).forEach(n=>i.sides.push({key:n,text:t.enums.orderSide[n]})),Object.keys(t.enums.scheduleType).forEach(n=>i.scheduleTypes.push({key:n,text:t.enums.scheduleType[n]})),i}var i=this,r,u,s={AutoBuy:"AutoBuy",AutoBasket:"AutoBasket",AutoSchedule:"AutoSchedule"},f,c;i.strategyGuid=ko.observable();i.strategyType=ko.observable();i.strategyTypeDescription=ko.computed(function(){return s[i.strategyType()]});i.depositPercent=ko.observable(0);i.spendLimitFrom=ko.observable(0);i.spendLimitTo=ko.observable(0);i.priceLimitFrom=ko.observable(0);i.priceLimitTo=ko.observable(0);i.allStrategies=ko.observable([]);i.strategyCreated=ko.observable(!1);i.createFailed=ko.observable();i.errorMessage=ko.observable();i.createErrorMessage=ko.observable();i.depositPercentageInput=ko.observable();i.strategiesSelected=ko.observable();i.autoBasketConfig=null;i.autoBasketWeightingText=ko.observable();i.autoBasketWeightingTextItems=ko.observableArray();i.selectedPrimaryCurrency=ko.observable();i.selectedSecondaryCurrency=ko.observable();i.selectedStrategyName=ko.observable("");window.currencyManager.onCurrencyChangedOnServer(function(n,t){h(n,t)});i.currenciesIsLoaded=ko.observable(!1);i.primaryCurrencies=ko.observableArray();i.secondaryCurrencies=ko.observableArray();i.sides=ko.observableArray();i.scheduleTypes=ko.observableArray();i.valueType=ko.observable("Absolute");i.executionDatetime={date:ko.observable(),customUpdate:function(t,i){var u=i(),r=ko.utils.unwrapObservable(u());r==null?n(t).data("datetimepicker").setLocalDate():r<moment(new Date).add(10,"m").toDate()&&(r=moment(new Date).add(10,"m").toDate(),n(t).data("datetimepicker").setLocalDate(r));u(r)}};i.selectedSide=ko.observable();i.selectedScheduleType=ko.observable();i.absoluteVolume=ko.observable();i.percentVolume=ko.observable();i.CurrencyOfValue=ko.computed(function(){return i.currenciesIsLoaded()?i.selectedSide()==="Bid"?i.selectedSecondaryCurrency().Ticker.toUpperCase():window.currencyManager.getCurrencyConfigurationByCode(i.selectedPrimaryCurrency()).Ticker.toUpperCase():null});i.absoluteVolumeLabel=ko.computed(function(){return i.selectedSide()==="Bid"?"Value ("+i.CurrencyOfValue()+")":"Amount ("+i.CurrencyOfValue()+")"});i.sideDescription=ko.computed(function(){return i.selectedSide()?t.enums.orderSide[i.selectedSide()].toLowerCase():""});i.absoluteVolumeDescription=ko.computed(function(){return i.selectedSide()==="Bid"?i.CurrencyOfValue()+" Amount of cryptocurrency to buy":i.CurrencyOfValue()+" amount to sell"});i.selectedStrategyTypeToCreate=ko.observable(null);i.showStrategySelection=function(){i.selectedStrategyTypeToCreate(null);n(t.controls.strategySelectModal).irModal("show")};i.closeStrategySelection=function(){i.selectedStrategyTypeToCreate(null);n(t.controls.strategySelectModal).modal("hide")};i.openSelectedStrategyTypeCreationModal=function(){var n=i.selectedStrategyTypeToCreate();n!==null&&(n==="AutoBuy"?(i.strategyType(n),i.showAutoBuyModal()):n==="AutoBasket"?(i.strategyType(n),i.showAutoBasketModal()):n==="AutoSchedule"?(i.strategyType(n),i.showAutoScheduleModal()):console.error("unhandled strategy value="+n),i.closeStrategySelection())};i.showAutoScheduleModal=function(){n(t.controls.autoScheduleCreateModal).irModal("show")};i.closeAutoScheduleModal=function(){g();h(window.currencyManager.getPrimary(),window.currencyManager.getSecondary());i.createErrorMessage("");i.strategyCreated(!1);i.createFailed(!1)};i.showAutoBasketModal=function(){n(t.controls.autoBasketCreateModal).irModal("show")};i.closeAutoBasketModal=function(){o();i.createErrorMessage("");i.strategyCreated(!1);i.createFailed(!1)};i.showAutoBuyModal=function(){o();h(window.currencyManager.getPrimary(),window.currencyManager.getSecondary());i.strategyCreated(!1);n(t.controls.autoBuyCreateModal).irModal("show")};i.closeAutoBuyModal=function(){o();i.createErrorMessage("");i.strategyCreated(!1);i.createFailed(!1)};i.cancelDelete=function(){n(t.controls.confirmDelete).hide()};i.confirmDelete=function(){lt(i.strategyGuid())};i.getPrimary=function(n){return n.currencies!==undefined?n.currencies.primary:null};i.getSecondary=function(n){return n.currencies!==undefined?n.currencies.secondary:n.secondaryCurrency!==undefined?n.secondaryCurrency:null};i.validateDepositPercent=function(){var r={IsValid:!1},f=n(at(i.depositPercentageInput().id)).val(),e=/^\d{1,3}$/.test(f),u=parseInt(f);return!e||isNaN(u)||u<=0||u>100?(r.Message="Must be a whole number between 1 and 100",r):(r.Message=p(u),r.Message)?r:i.depositPercent()>t.validation.depositPercent.Maximum?(r.Message="Should be between 1 and "+t.validation.depositPercent.Maximum,r):(r.IsValid=!0,r)};i.validateExecutionDatetime=function(){var n={IsValid:!0},t=new Date;return i.executionDatetime.date()<=t&&(n.IsValid=!1,n.Message="Please select a future date and time"),n};i.validateScdeduleType=function(){var n={IsValid:!0};return i.selectedScheduleType()||(n.IsValid=!1,n.Message="Please select frequency"),n};i.validatePercentVolume=function(){var n={IsValid:!1},r=/^\d{1,3}$/.test(i.percentVolume()),t=parseInt(i.percentVolume());return!r||isNaN(t)||t<=0||t>100?(n.Message="Must be a whole number between 1 and 100",n):(n.IsValid=!0,n)};i.validateAbsoluteVolume=function(){var n={IsValid:!0};return(!i.absoluteVolume()||i.absoluteVolume()<=0)&&(n.IsValid=!1,n.Message="Please enter "+(i.selectedSide()==="Bid"?"Value":"Amount")),n};i.validateSpendLimit=function(){var n={IsValid:!0};return n.IsValid=i.spendLimitTo()>=t.validation.spendLimit.Minimum&&i.spendLimitTo()<=t.validation.spendLimit.Maximum,n.IsValid||(n.Message="Should be between "+t.validation.spendLimit.Minimum+" and "+t.validation.spendLimit.Maximum),n};i.refreshHistory=function(){l(c,f.getPageNumber()-1)};i.createAutoBuyStrategy=function(){var r,f;if(i.strategyCreated(!1),i.createFailed(!1),r=n(t.controls.autoBuyCreateModal).irValidate(),!r){i.strategyCreated(!1);i.createErrorMessage("Can't create a strategy. Please correct errors.");return}f={Type:i.strategyType(),IsActive:!0,DepositPercent:i.depositPercent(),FiatAmountLimit:{Maximum:i.spendLimitTo(),Minimum:i.spendLimitFrom()},CryptoPriceLimit:{Maximum:i.priceLimitTo(),Minimum:i.spendLimitFrom()},Currencies:{Primary:i.selectedPrimaryCurrency(),Secondary:i.selectedSecondaryCurrency().Code}};u.createStrategy(f,"autobuy",function(n){if(!n.success){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. "+n.message);return}i.strategyType(n.type);i.strategyCreated(!0);o();e()},function(){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. Please contact support for assistance.")})};i.createAutoBasketStrategy=function(){var r,f;if(i.strategyCreated(!1),i.createFailed(!1),i.createErrorMessage(null),r=n(t.controls.autoBasketCreateModal).irValidate(),!r){i.strategyCreated(!1);i.createFailed(!0);i.createErrorMessage(null);return}f={Type:"AutoBasket",IsActive:!0,DepositPercent:i.depositPercent(),FiatAmountLimit:{Maximum:i.spendLimitTo(),Minimum:i.spendLimitFrom()},SecondaryCurrency:i.selectedSecondaryCurrency().Code};u.createStrategy(f,"autobasket",function(n){if(!n.success){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. "+n.message);return}i.strategyType(n.type);i.strategyCreated(!0);o();e()},function(){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. Please contact support for assistance.")})};i.createAutoScheduleStrategy=function(){var r,f;if(i.strategyCreated(!1),i.createFailed(!1),r=n(t.controls.autoScheduleCreateModal).irValidate(),!r){i.strategyCreated(!1);i.createErrorMessage("Can't create a strategy. Please correct errors.");return}f={Type:i.strategyType(),IsActive:!0,Side:i.selectedSide(),Currencies:{Primary:i.selectedPrimaryCurrency(),Secondary:i.selectedSecondaryCurrency().Code},NextExecution:{Real:moment(i.executionDatetime.date()).format()},Schedule:i.selectedScheduleType(),Amount:i.valueType()==="Absolute"?i.absoluteVolume():i.percentVolume(),AmountType:i.valueType()};u.createStrategy(f,"autoschedule",function(n){if(!n.success){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. "+n.message);return}i.strategyType(n.type);i.strategyCreated(!0);g();e()},function(){i.createFailed(!0);i.createErrorMessage("Couldn't create a strategy. Please contact support for assistance.")})};var w={action:function(t,i){var u="strategy-action-"+t.guid,s=n('<ul class="strategy-action {0} dropdown-menu pull-right"><\/ul>'.f(u)),h=n(st(t)).appendTo(n("<li><\/li>")).parent(),f=n(h).appendTo(s).parent(),c=n(ht(t)).appendTo(n('<li class="alert-danger"><\/li>')).parent(),l=n(ct(t)).appendTo(n("<li><\/li>")).parent(),o,e,r;n(l).appendTo(f);n(c).appendTo(f);o=n('<div class="btn-group"><\/div>');e=n('<a class="btn dropdown-toggle" data-toggle="dropdown" href="javascript:void(0)">Action <span class= "caret"><\/span ><\/a>');n(e).click(function(t){t.stopPropagation();var i=n("."+u).css("display")==="none";nt();n("."+u).css(i?{display:"block"}:{display:"none"});v(n(this).closest("tr").attr("data-row-index"))});r=n(e).appendTo(o).parent();r=n(f).appendTo(r).parent();n(i).append(r)}},tt=[{field:"guid",title:"Strategy",render:function(t,u){n(u).append(s[t.type]);n(u).append("<br/>");t.type==="AutoBuy"||t.type==="AutoSchedule"?n(u).append("<b>Order Book: <\/b> {0}<br/>".f(r.toTicker(i.getPrimary(t))+"/"+i.getSecondary(t).toUpperCase())):t.type==="AutoBasket"&&n(u).append(y("Current Weightings: ",`${i.autoBasketWeightingText()} Fiat currency deposit trigger: ${r.toTicker(i.getSecondary(t))}<br/>`));d(t)?k(u,t):t.type==="AutoSchedule"&&b(u,t);n(u).append("<b>Status: <\/b>{0}".f(t.isActive?"Enabled":"Disabled"))},className:"text-center",css:{width:"130px"}},{title:"Action",render:w.action,className:"text-center",css:{width:"80px"}}],it=[{field:"guid",title:"Strategy Name",render:function(t,i){n(i).append(s[t.type])},className:"text-center",css:{width:"90px"}},{field:"currencies",title:"Order Book",render:function(t,u){if(t.type==="AutoBuy"){var f=r.toTicker(i.getPrimary(t))+"/"+i.getSecondary(t);n(u).append(f.toUpperCase())}else t.type==="AutoBasket"?n(u).append(y("Current Weightings: ",`${i.autoBasketWeightingText()} <br/> Fiat currency deposit trigger: ${r.toTicker(i.getSecondary(t))}`)):t.type==="AutoSchedule"&&n(u).append((r.toTicker(i.getPrimary(t))+"/"+i.getSecondary(t)).toUpperCase())},className:"text-center",css:{width:"60px"}},{field:"description",title:"Description",render:function(n,t){d(n)?k(t,n):n.type==="AutoSchedule"&&b(t,n)},css:{width:"100px"}},{field:"isActive",title:"Status",render:function(t,i){n(i).append(t.isActive?"Enabled":"Disabled")},className:"text-center",css:{width:"50px"}},{title:"Action",render:w.action,className:"text-center",css:{width:"50px"}}];return i.orderManager=null,yt()}n.extend(!0,IR,{AutotraderViewModel:t})}(jQuery,IR.AutotraderViewModel,{});
window.IR===null&&(window.IR={}),function(n){function t(){function i(i,r){n.ajax({url:"api2/config/currency",method:"GET","async":!1,success:function(n){t.currencies=n;i&&i(t,r)}})}function r(){return t.currencies.filter(function(n){return n.type==="Primary"})}function u(){return t.currencies.filter(function(n){return n.type==="Secondary"})}function f(n){return n.toUpperCase()==="XBT"?"BTC":n.toUpperCase()==="UST"?"USDT":n.toUpperCase()}function e(n){return n.toUpperCase()==="BTC"?"XBT":n.toUpperCase()==="USDT"?"UST":n}function o(){return t}var t={currencies:[],load:i,getPrimaries:r,getSecondaries:u,toTicker:f,toCode:e};return o()}n.extend(!0,IR,{CurrencyService:t})}(jQuery,IR.CurrencyService,{});
window.IR===null&&(window.IR={}),function(n){function t(){function r(t,i){n.getJSON("api2/config/autotrade").done(function(n){t(n.autoBasket)}).fail(function(n){i&&i(n)})}function u(t,i,r){n.getJSON("api2/transaction?transactionId="+t).done(function(n){i(n)}).fail(function(n){r&&r(n)})}function f(t,i,r){n.getJSON("api2/trade/order?orderGuid="+t).done(function(n){i&&i(n)}).fail(function(n){r&&r(n)})}function e(t,i,r,u,f){var e="api2/autotrade/history?strategyGuid="+t+"&pageIndex="+i+"&pageSize="+r;n.getJSON(e).done(function(n){u&&u(n)}).fail(function(n){f&&f(n)})}function o(t,i){n.getJSON("api2/autotrade/get").done(function(n){t&&t(n)}).fail(function(n,t,r){i&&i(r)})}function s(t,i,r,u){n.post("api2/autotrade/"+i,t).done(r).fail(u)}function h(n,i,r,u){var f={strategyGuid:n,modifier:i?"enable":"disable"};t(f,r,u)}function c(n,i,r){var u={strategyGuid:n,modifier:"delete"};t(u,i,r)}function t(t,i,r){n.ajax({url:"api2/autotrade/modify",data:t,type:"PATCH"}).done(i).error(r)}function l(){return i}var i={getTransaction:u,getOrder:f,getHistory:e,getStrategies:o,createStrategy:s,enableStrategy:h,deleteStrategy:c,getAutoBasketConfig:r};return l()}n.extend(!0,IR,{AutoTraderService:t})}(jQuery,IR.AutoTraderService,{});
window.IR===null&&(window.IR={}),function(n){function t(){function i(t,i,r){n.post("api2/identity/country",{CountryName:t}).done(i).fail(r||i)}function r(){return t}var t={conform:i};return r()}n.extend(!0,IR,{ContextService:t})}(jQuery,IR.ContextService,{});
window.IR==null&&(window.IR={}),function(n){function t(t){function f(){return r=n.extend(!0,u,t||{}),i}var i={},r={},u={currencyPages:{}};return i.getBuyCryptoUrl=function(n){return getBuySellCryptoUrl(n,!0)},i.getSellCryptoUrl=function(n){return getBuySellCryptoUrl(n,!1)},getBuySellCryptoUrl=function(n,t){var u=n.toUpperCase(),i;return r.currencyPages.hasOwnProperty(u)?(i=r.currencyPages[u],t?i.BuyUrl:i.SellUrl):null},f()}n.extend(!0,IR,{PublicContent:t})}(jQuery);
window.IR==null&&(window.IR={}),function(n){function t(t){function r(n){return"bank_account_{0}".f(n)}function u(n,t){var i=n.filter(function(n){return n.currency.toUpperCase()===t.toUpperCase()});return i.length!=0?i[0]:null}function s(n,t){var f=r(n),e=i.get(f)||[];return u(e,t)||{currency:t,lastWithdrawalDate:null,preferNpp:!1}}function h(t,f){var o=r(t),e=i.get(o)||[],s=u(e,f.currency);s?n.extend(!0,s,f):e.push(f);i.set(e,o)}function c(n){var t=r(n);i.remove(t)}function l(){return e=n.extend(!0,o,t||{}),i=new IR.ClientCache({enableExpiration:!1}),f}var f={bankAccount:{get:s,set:h,reset:c}},e,o={},i;return l()}n.extend(!0,IR,{StoragePreferencesProvider:t})}(jQuery);
(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.WAValidator=n()}})(function(){var n;return function(){function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h="function"==typeof require&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i||n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e="function"==typeof require&&require,f=0;f<r.length;f++)u(r[f]);return u}return n}()({1:[function(n,t){"use strict";function r(n){function a(t){var o,h,f,a,c,e,p;if((Array.isArray(t)||t instanceof Uint8Array)&&(t=i.from(t)),!i.isBuffer(t))throw new TypeError("Expected Buffer");if(t.length===0)return"";for(var w=0,v=0,u=0,y=t.length;u!==y&&t[u]===0;)u++,w++;for(o=(y-u)*l+1>>>0,h=new Uint8Array(o);u!==y;){for(f=t[u],a=0,c=o-1;(f!==0||a<v)&&c!==-1;c--,a++)f+=256*h[c]>>>0,h[c]=f%r>>>0,f=f/r>>>0;if(f!==0)throw new Error("Non-zero carry");v=a;u++}for(e=o-v;e!==o&&h[e]===0;)e++;for(p=s.repeat(w);e<o;++e)p+=n.charAt(h[e]);return p}function h(n){var u,h,v,e,l,f,y,a,o,p,w;if(typeof n!="string")throw new TypeError("Expected String");if(n.length===0)return i.alloc(0);if(u=0,n[u]!==" "){for(h=0,v=0;n[u]===s;)h++,u++;for(e=(n.length-u)*c+1>>>0,l=new Uint8Array(e);n[u];){if(f=t[n.charCodeAt(u)],f===255)return;for(y=0,a=e-1;(f!==0||y<v)&&a!==-1;a--,y++)f+=r*l[a]>>>0,l[a]=f%256>>>0,f=f/256>>>0;if(f!==0)throw new Error("Non-zero carry");v=y;u++}if(n[u]!==" "){for(o=e-v;o!==e&&l[o]===0;)o++;for(p=i.allocUnsafe(h+(e-o)),p.fill(0,0,h),w=h;o!==e;)p[w++]=l[o++];return p}}}function v(n){var t=h(n);if(t)return t;throw new Error("Non-base"+r+" character");}var t,f,u,e,o;if(n.length>=255)throw new TypeError("Alphabet too long");for(t=new Uint8Array(256),f=0;f<t.length;f++)t[f]=255;for(u=0;u<n.length;u++){if(e=n.charAt(u),o=e.charCodeAt(0),t[o]!==255)throw new TypeError(e+" is ambiguous");t[o]=u}var r=n.length,s=n.charAt(0),c=Math.log(r)/Math.log(256),l=Math.log(256)/Math.log(r);return{encode:a,decodeUnsafe:h,decode:v}}var i=n("safe-buffer").Buffer;t.exports=r},{"safe-buffer":36}],2:[function(n,t,i){"use strict";function s(n){var i=n.length,t,r;if(i%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return t=n.indexOf("="),t===-1&&(t=i),r=t===i?0:4-t%4,[t,r]}function c(n){var t=s(n),r=t[0],i=t[1];return(r+i)*3/4-i}function l(n,t,i){return(t+i)*3/4-i}function a(n){for(var i,c=s(n),o=c[0],e=c[1],u=new h(l(n,o,e)),f=0,a=e>0?o-4:o,t=0;t<a;t+=4)i=r[n.charCodeAt(t)]<<18|r[n.charCodeAt(t+1)]<<12|r[n.charCodeAt(t+2)]<<6|r[n.charCodeAt(t+3)],u[f++]=i>>16&255,u[f++]=i>>8&255,u[f++]=i&255;return e===2&&(i=r[n.charCodeAt(t)]<<2|r[n.charCodeAt(t+1)]>>4,u[f++]=i&255),e===1&&(i=r[n.charCodeAt(t)]<<10|r[n.charCodeAt(t+1)]<<4|r[n.charCodeAt(t+2)]>>2,u[f++]=i>>8&255,u[f++]=i&255),u}function v(n){return u[n>>18&63]+u[n>>12&63]+u[n>>6&63]+u[n&63]}function y(n,t,i){for(var u,f=[],r=t;r<i;r+=3)u=(n[r]<<16&16711680)+(n[r+1]<<8&65280)+(n[r+2]&255),f.push(v(u));return f.join("")}function p(n){for(var t,i=n.length,e=i%3,f=[],o=16383,r=0,s=i-e;r<s;r+=o)f.push(y(n,r,r+o>s?s:r+o));return e===1?(t=n[i-1],f.push(u[t>>2]+u[t<<4&63]+"==")):e===2&&(t=(n[i-2]<<8)+n[i-1],f.push(u[t>>10]+u[t>>4&63]+u[t<<2&63]+"=")),f.join("")}var f,o;i.byteLength=c;i.toByteArray=a;i.fromByteArray=p;var u=[],r=[],h=typeof Uint8Array!="undefined"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(f=0,o=e.length;f<o;++f)u[f]=e[f],r[e.charCodeAt(f)]=f;r["-".charCodeAt(0)]=62;r["_".charCodeAt(0)]=63},{}],3:[function(n,t){(function(n){(function(){function r(n,t){var h,l,a,b,w,v,i=this;if(!(i instanceof r))return new r(n,t);if(n instanceof r)if(f=0,t!==h)n+="";else{i.s=n.s;i.e=n.e;i.c=(n=n.c)?n.slice():n;return}if(typeof n!="string"&&(n=(a=typeof n=="number"||Object.prototype.toString.call(n)=="[object Number]")&&n===0&&1/n<0?"-0":n+""),v=n,t===h&&nt.test(n))i.s=n.charAt(0)=="-"?(n=n.slice(1),-1):1;else{if(t==10)return d(n,o,u);if(n=ut.call(n).replace(/^\+(?!-)/,""),i.s=n.charAt(0)=="-"?(n=n.replace(/^-(?!-)/,""),-1):1,t!=null?t!=(t|0)&&p||(s=!(t>=2&&t<65))?(e(t,2),w=nt.test(n)):(b="["+g.slice(0,t=t|0)+"]+",n=n.replace(/\.$/,"").replace(/^\./,"0."),(w=new RegExp("^"+b+"(?:\\."+b+")?$",t<37?"i":"").test(n))?(a&&(n.replace(/^0\.0*|\./,"").length>15&&e(v,0),a=!a),n=it(n,10,t,i.s)):n!="Infinity"&&n!="NaN"&&(e(v,1,t),n="NaN")):w=nt.test(n),!w){i.c=i.e=null;n!="Infinity"&&(n!="NaN"&&e(v,3),i.s=null);f=0;return}}for((h=n.indexOf("."))>-1&&(n=n.replace(".","")),(l=n.search(/e/i))>0?(h<0&&(h=l),h+=+n.slice(l+1),n=n.substring(0,l)):h<0&&(h=n.length),l=0;n.charAt(l)=="0";l++);if(t=n.length,a&&t>15&&n.slice(l).length>15&&e(v,0),f=0,(h-=l+1)>c)i.c=i.e=null;else if(l==t||h<y)i.c=[i.e=0];else{for(;n.charAt(--t)=="0";);for(i.e=h,i.c=[],h=0;l<=t;i.c[h++]=+n.charAt(l++));}}function e(n,t,i,r,u,e){if(p){var c,o=["new BigNumber","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFr"][f?f<0?-f:f:1/f<0?1:0]+"()",h=s?" out of range":" not a"+(u?" non-zero":"n")+" integer";h=([o+" number type has more than 15 significant digits",o+" not a base "+i+" number",o+" base"+h,o+" not a number"][t]||i+"() "+t+(e?" not a boolean or binary digit":h+(r?" or not ["+(s?" negative, positive":" integer, integer")+" ]":"")))+": "+n;s=f=0;c=new Error(h);c.name="BigNumber Error";throw c;}}function it(n,t,i,u){function h(n,r){var u,e=0,s=n.length,o,f=[0];for(r=r||i;e<s;e++){for(o=f.length,u=0;u<o;f[u]*=r,u++);for(f[0]+=g.indexOf(n.charAt(e)),u=0;u<f.length;u++)f[u]>t-1&&(f[u+1]==null&&(f[u+1]=0),f[u+1]+=f[u]/t^0,f[u]%=t)}return f.reverse()}function o(n){for(var t=0,r=n.length,i="";t<r;i+=g.charAt(n[t++]));return i}var e,c,l,f,s,a;if(i<37&&(n=n.toLowerCase()),(e=n.indexOf("."))>-1)if(e=n.length-e-1,c=h(new r(i).pow(e).toF(),10),f=n.split("."),l=h(f[1]),f=h(f[0]),a=rt(l,c,l.length-c.length,u,t,f[f.length-1]&1),s=a.c,e=a.e){for(;++e;s.unshift(0));n=o(f)+"."+o(s)}else s[0]?f[e=f.length-1]<t-1?(++f[e],n=o(f)):n=new r(o(f),t).plus(w).toS(t):n=o(f);else n=o(h(n));return n}function rt(n,t,i,u,f,e){var v,d,b,p,a,rt=t.slice(),g=v=t.length,ut=n.length,s=n.slice(0,v),h=s.length,l=new r(w),nt=l.c=[],tt=0,it=o+(l.e=i)+1;for(l.s=u,u=it<0?0:it;h++<v;s.push(0));rt.unshift(0);do{for(b=0;b<f;b++){if(v!=(h=s.length))p=v>h?1:-1;else for(a=-1,p=0;++a<v;)if(t[a]!=s[a]){p=t[a]>s[a]?1:-1;break}if(p<0){for(d=h==v?t:rt;h;){if(s[--h]<d[h]){for(a=h;a&&!s[--a];s[a]=f-1);--s[a];s[h]+=f}s[h]-=d[h]}for(;!s[0];s.shift());}else break}nt[tt++]=p?b:++b;s[0]&&p?s[h]=n[g]||0:s=[n[g]]}while((g++<ut||s[0]!=null)&&u--);return nt[0]||tt==1||(--l.e,nt.shift()),tt>it&&k(l,o,f,e,s[0]!=null),l.e>c?l.c=l.e=null:l.e<y&&(l.c=[l.e=0]),l}function b(n,t,i){var u=t-(n=new r(n)).e,f=n.c;if(!f)return n.toS();for(f.length>++t&&k(n,u,10),u=f[0]==0?u+1:i?t:n.e+u+1;f.length<u;f.push(0));return u=n.e,i==1||i==2&&(--t<u||u<=l)?(n.s<0&&f[0]?"-":"")+(f.length>1?(f.splice(1,0,"."),f.join("")):f[0])+(u<0?"e":"e+")+u:n.toS()}function k(n,t,i,r,f){var e=n.c,s=n.s<0,c=i/2,o=n.e+t+1,h=e[o],l=f||o<0||e[o+1]!=null;if(f=u<4?(h!=null||l)&&(u==0||u==2&&!s||u==3&&s):h>c||h==c&&(u==4||l||u==6&&(e[o-1]&1||!t&&r)||u==7&&!s||u==8&&s),o<1||!e[0])return e.length=0,e.push(0),f?(e[0]=1,n.e=-t):n.e=0,n;if(e.length=o--,f)for(--i;++e[o]>i;)e[o]=0,o--||(++n.e,e.unshift(1));for(o=e.length;!e[--o];e.pop());return n}function d(n,t,i){var f=u;return u=i,n=new r(n),n.c&&k(n,t,10),u=f,n}var h=1e9,tt=1e6,o=20,u=4,l=-7,v=21,y=-h,c=h,p=!0,a=parseInt,i=r.prototype,g="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",s,f=0,nt=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ut=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},w=r(1);r.ROUND_UP=0;r.ROUND_DOWN=1;r.ROUND_CEIL=2;r.ROUND_FLOOR=3;r.ROUND_HALF_UP=4;r.ROUND_HALF_DOWN=5;r.ROUND_HALF_EVEN=6;r.ROUND_HALF_CEIL=7;r.ROUND_HALF_FLOOR=8;r.fromBuffer=function(n,t){var s,i,e,f,o,u;if(t||(t={}),s={1:"big","-1":"little"}[t.endian]||t.endian||"big",i=t.size==="auto"?Math.ceil(n.length):t.size||1,n.length%i!=0)throw new RangeError("Buffer length ("+n.length+") must be a multiple of size ("+i+")");for(e=[],f=0;f<n.length;f+=i){for(o=[],u=0;u<i;u++)o.push(n[f+(s==="big"?u:i-u-1)]);e.push(o.map(function(n){return(n<16?"0":"")+n.toString(16)}).join(""))}return r(e.join(""),16)};r.config=function(){var n,t,g=0,r={},d=arguments,k=d[0],w="config",i=function(n,t,i){return!((s=n<t||n>i)||a(n)!=n&&n!==0)},b=k&&typeof k=="object"?function(){if(k.hasOwnProperty(t))return(n=k[t])!=null}:function(){if(d.length>g)return(n=d[g++])!=null};return b(t="DECIMAL_PLACES")&&(i(n,0,h)?o=n|0:e(n,t,w)),r[t]=o,b(t="ROUNDING_MODE")&&(i(n,0,8)?u=n|0:e(n,t,w)),r[t]=u,b(t="EXPONENTIAL_AT")&&(i(n,-h,h)?l=-(v=~~(n<0?-n:+n)):!s&&n&&i(n[0],-h,0)&&i(n[1],0,h)?(l=~~n[0],v=~~n[1]):e(n,t,w,1)),r[t]=[l,v],b(t="RANGE")&&(i(n,-h,h)&&~~n?y=-(c=~~(n<0?-n:+n)):!s&&n&&i(n[0],-h,-1)&&i(n[1],1,h)?(y=~~n[0],c=~~n[1]):e(n,t,w,1,1)),r[t]=[y,c],b(t="ERRORS")&&(n===!!n||n===1||n===0?a=(s=f=0,p=!!n)?parseInt:parseFloat:e(n,t,w,0,0,1)),r[t]=p,r};i.abs=i.absoluteValue=function(){var n=new r(this);return n.s<0&&(n.s=1),n};i.bitLength=function(){return this.toString(2).length};i.ceil=function(){return d(this,0,2)};i.comparedTo=i.cmp=function(n,t){var u,l=this,e=l.c,o=(f=-f,n=new r(n,t)).c,i=l.s,c=n.s,s=l.e,h=n.e;if(!i||!c)return null;if(u=e&&!e[0],t=o&&!o[0],u||t)return u?t?0:-c:i;if(i!=c)return i;if(u=i<0,t=s==h,!e||!o)return t?0:!e^u?1:-1;if(!t)return s>h^u?1:-1;for(i=-1,c=(s=e.length)<(h=o.length)?s:h;++i<c;)if(e[i]!=o[i])return e[i]>o[i]^u?1:-1;return s==h?0:s>h^u?1:-1};i.dividedBy=i.div=function(n,t){var i=this.c,o=this.e,s=this.s,u=(f=2,n=new r(n,t)).c,h=n.e,c=n.s,e=s==c?1:-1;return!o&&(!i||!i[0])||!h&&(!u||!u[0])?new r(!s||!c||(i?u&&i[0]==u[0]:!u)?NaN:i&&i[0]==0||!u?e*0:e/0):rt(i,u,o-h,e,10)};i.equals=i.eq=function(n,t){return f=3,this.cmp(n,t)===0};i.floor=function(){return d(this,0,3)};i.greaterThan=i.gt=function(n,t){return f=4,this.cmp(n,t)>0};i.greaterThanOrEqualTo=i.gte=i.gt=function(n,t){return f=5,(t=this.cmp(n,t))==1||t===0};i.isFinite=i.isF=function(){return!!this.c};i.isNaN=function(){return!this.s};i.isNegative=i.isNeg=function(){return this.s<0};i.isZero=i.isZ=function(){return!!this.c&&this.c[0]==0};i.lessThan=i.lt=function(n,t){return f=6,this.cmp(n,t)<0};i.lessThanOrEqualTo=i.lte=i.le=function(n,t){return f=7,(t=this.cmp(n,t))==-1||t===0};i.minus=i.sub=function(n,t){var h,l,a,v,c=this,o=c.s;if(t=(f=8,n=new r(n,t)).s,!o||!t)return new r(NaN);if(o!=t)return n.s=-t,c.plus(n);var i=c.c,p=c.e,e=n.c,s=n.e;if(!p||!s){if(!i||!e)return i?(n.s=-t,n):new r(e?c:NaN);if(!i[0]||!e[0])return e[0]?(n.s=-t,n):new r(i[0]?c:u==3?-0:0)}if(i=i.slice(),o=p-s){for(h=(v=o<0)?(o=-o,i):(s=p,e),h.reverse(),t=o;t--;h.push(0));h.reverse()}else for(a=((v=i.length<e.length)?i:e).length,o=t=0;t<a;t++)if(i[t]!=e[t]){v=i[t]<e[t];break}if(v&&(h=i,i=e,e=h,n.s=-n.s),(t=-((a=i.length)-e.length))>0)for(;t--;i[a++]=0);for(t=e.length;t>o;){if(i[--t]<e[t]){for(l=t;l&&!i[--l];i[l]=9);--i[l];i[t]+=10}i[t]-=e[t]}for(;i[--a]==0;i.pop());for(;i[0]==0;i.shift(),--s);return(s<y||!i[0])&&(i[0]||(n.s=u==3?-1:1),i=[s=0]),n.c=i,n.e=s,n};i.modulo=i.mod=function(n,t){var i=this,h=i.c,c=(f=9,n=new r(n,t)).c,e=i.s,s=n.s;return(t=!e||!s||c&&!c[0],t||h&&!h[0])?new r(t?NaN:i):(i.s=n.s=1,t=n.cmp(i)==1,i.s=e,n.s=s,t?new r(i):(e=o,s=u,o=0,u=1,i=i.div(n),o=e,u=s,this.minus(i.times(n))))};i.negated=i.neg=function(){var n=new r(this);return n.s=-n.s||null,n};i.plus=i.add=function(n,t){var o,h=this,u=h.s;if(t=(f=10,n=new r(n,t)).s,!u||!t)return new r(NaN);if(u!=t)return n.s=-t,h.minus(n);var l=h.e,i=h.c,s=n.e,e=n.c;if(!l||!s){if(!i||!e)return new r(u/0);if(!i[0]||!e[0])return e[0]?n:new r(i[0]?h:u*0)}if(i=i.slice(),u=l-s){for(o=u>0?(s=l,e):(u=-u,i),o.reverse();u--;o.push(0));o.reverse()}for(i.length-e.length<0&&(o=e,e=i,i=o),u=e.length,t=0;u;t=(i[--u]=i[u]+e[u]+t)/10^0,i[u]%=10);for(t&&(i.unshift(t),++s>c&&(i=s=null)),u=i.length;i[--u]==0;i.pop());return n.c=i,n.e=s,n};i.toPower=i.pow=function(n){var t=n*0==0?n|0:n,i=new r(this),u=new r(w);if(((s=n<-tt||n>tt)&&(t=n/0)||a(n)!=n&&n!==0&&!(t=NaN))&&!e(n,"exponent","pow")||!t)return new r(Math.pow(i.toS(),t));for(t=t<0?-t:t;;){if(t&1&&(u=u.times(i)),t>>=1,!t)break;i=i.times(i)}return n<0?w.div(u):u};i.powm=function(n,t){return this.pow(n).mod(t)};i.round=function(n,t){return n=n==null||((s=n<0||n>h)||a(n)!=n)&&!e(n,"decimal places","round")?0:n|0,t=t==null||((s=t<0||t>8)||a(t)!=t&&t!==0)&&!e(t,"mode","round")?u:t|0,d(this,n,t)};i.squareRoot=i.sqrt=function(){var e,i,c,s,h=this,n=h.c,t=h.s,f=h.e,l=o,a=u,v=new r("0.5");if(t!==1||!n||!n[0])return new r(!t||t<0&&(!n||n[0])?NaN:n?h:1/0);for(t=Math.sqrt(h.toS()),u=1,t==0||t==1/0?(e=n.join(""),e.length+f&1||(e+="0"),i=new r(Math.sqrt(e)+""),i.c||(i.c=[1]),i.e=((f+1)/2|0)-(f<0||f&1)):i=new r(e=t.toString()),c=i.e,t=c+(o+=4),t<3&&(t=0),f=t;;)if(s=i,i=v.times(s.plus(h.div(s))),s.c.slice(0,t).join("")===i.c.slice(0,t).join(""))if(n=i.c,t=t-(e&&i.e<c),n[t]==9&&n[t-1]==9&&n[t-2]==9&&(n[t-3]==9||e&&n[t-3]==4)){if(e&&n[t-3]==9&&(s=i.round(l,0),s.times(s).eq(h)))return u=a,o=l,s;o+=4;t+=4;e=""}else{if(!n[f]&&!n[f-1]&&!n[f-2]&&(!n[f-3]||n[f-3]==5)&&(n.length>f-2&&(n.length=f-2),!i.times(i).eq(h))){while(n.length<f-3)n.push(0);n[f-3]++}return u=a,k(i,o=l,10),i}};i.times=i.mul=function(n,t){var u,l=this,e=l.c,o=(f=11,n=new r(n,t)).c,s=l.e,i=n.e,h=l.s;if(n.s=h==(t=n.s)?1:-1,!s&&(!e||!e[0])||!i&&(!o||!o[0]))return new r(!h||!t||e&&!e[0]&&!o||o&&!o[0]&&!e?NaN:!e||!o?n.s/0:n.s*0);for(n.e=s+i,(h=e.length)<(t=o.length)&&(u=e,e=o,o=u,i=h,h=t,t=i),i=h+t,u=[];i--;u.push(0));for(s=t-1;s>-1;s--){for(t=0,i=h+s;i>s;t=u[i]+o[s]*e[i-s-1]+t,u[i--]=t%10|0,t=t/10|0);t&&(u[i]=(u[i]+t)%10)}for(t&&++n.e,u[0]||u.shift(),i=u.length;!u[--i];u.pop());return n.c=n.e>c?n.e=null:n.e<y?[n.e=0]:u,n};i.toBuffer=function(t){var i,s,o,h,f,c;if(typeof t=="string"){if(t!=="mpint")return"Unsupported Buffer representation";var l=this.abs(),r=l.toBuffer({size:1,endian:"big"}),u=r.length===1&&r[0]===0?0:r.length;if(r[0]&128&&u++,i=new n(4+u),u>0&&r.copy(i,4+(r[0]&128?1:0)),r[0]&128&&(i[4]=0),i[0]=u&-16777216,i[1]=u&16711680,i[2]=u&65280,i[3]=u&255,s=this.lt(0),s)for(o=4;o<i.length;o++)i[o]=255-i[o];return i[4]=i[4]&127|(s?128:0),s&&i[i.length-1]++,i}if(t||(t={}),h={1:"big","-1":"little"}[t.endian]||t.endian||"big",f=this.toString(16),f.charAt(0)==="-")throw new Error("converting negative numbers to Buffers not supported yet");for(var e=t.size==="auto"?Math.ceil(f.length/2):t.size||1,u=Math.ceil(f.length/(2*e))*e,r=new n(u);f.length<2*u;)f="0"+f;return c=f.split(new RegExp("(.{"+2*e+"})")).filter(function(n){return n.length>0}),c.forEach(function(n,t){for(var u,i=0;i<e;i++)u=t*e+(h==="big"?i:e-i-1),r[u]=parseInt(n.slice(i*2,i*2+2),16)}),r};i.toExponential=i.toE=function(n){return b(this,(n==null||((s=n<0||n>h)||a(n)!=n&&n!==0)&&!e(n,"decimal places","toE"))&&this.c?this.c.length-1:n|0,1)};i.toFixed=i.toF=function(n){var u,t,r,i=this;return n==null||((s=n<0||n>h)||a(n)!=n&&n!==0)&&!e(n,"decimal places","toF")||(r=i.e+(n|0)),u=l,n=v,l=-(v=1/0),r==t?t=i.toS():(t=b(i,r),i.s<0&&i.c&&(i.c[0]?t.indexOf("-")<0&&(t="-"+t):t=t.replace(/^-/,""))),l=u,v=n,t};i.toFraction=i.toFr=function(n){var k,nt,h,l,t,i,d,a=l=new r(w),v=h=new r("0"),y=this,g=y.c,tt=c,it=o,rt=u,b=new r(w);if(!g)return y.toS();for(d=b.e=g.length-y.e-1,(n==null||(!(f=12,i=new r(n)).s||(s=i.cmp(a)<0||!i.c)||p&&i.e<i.c.length-1)&&!e(n,"max denominator","toFr")||(n=i).cmp(b)>0)&&(n=d>0?b:a),c=1/0,i=new r(g.join("")),o=0,u=1;;){if(k=i.div(b),t=l.plus(k.times(v)),t.cmp(n)==1)break;l=v;v=t;a=h.plus(k.times(t=a));h=t;b=i.minus(k.times(t=b));i=t}return t=n.minus(l).div(v),h=h.plus(t.times(a)),l=l.plus(t.times(v)),h.s=a.s=y.s,o=d*2,u=rt,nt=a.div(v).minus(y).abs().cmp(h.div(l).minus(y).abs())<1?[a.toS(),v.toS()]:[h.toS(),l.toS()],c=tt,o=it,nt};i.toPrecision=i.toP=function(n){return n==null||((s=n<1||n>h)||a(n)!=n)&&!e(n,"precision","toP")?this.toS():b(this,--n|0,2)};i.toString=i.toS=function(n){var u,t,f,r=this,i=r.e;if(i===null)t=r.s?"Infinity":"NaN";else{if(n===u&&(i<=l||i>=v))return b(r,r.c.length-1,1);if(t=r.c.join(""),i<0){for(;++i;t="0"+t);t="0."+t}else if(f=t.length,i>0)if(++i>f)for(i-=f;i--;t+="0");else i<f&&(t=t.slice(0,i)+"."+t.slice(i));else if(u=t.charAt(0),f>1)t=u+"."+t.slice(1);else if(u=="0")return u;if(n!=null)if((s=!(n>=2&&n<65))||n!=(n|0)&&p)e(n,"base","toS");else if(t=it(t,n|0,10,r.s),t=="0")return t}return r.s<0?"-"+t:t};i.valueOf=function(){return this.toS()};t.exports=r}).call(this)}).call(this,n("buffer").Buffer)},{buffer:4}],4:[function(n,t,i){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
function ct(){try{var n=new Uint8Array(1);return n.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},n.foo()===42}catch(t){return!1}}function e(n){if(n>c)throw new RangeError('The value "'+n+'" is invalid for option "size"');var t=new Uint8Array(n);return t.__proto__=r.prototype,t}function r(n,t,i){if(typeof n=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(n)}return d(n,t,i)}function d(n,t,i){var u,f;if(typeof n=="string")return at(n,t);if(ArrayBuffer.isView(n))return y(n);if(n==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(h(n,ArrayBuffer)||n&&h(n.buffer,ArrayBuffer))return vt(n,t,i);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(u=n.valueOf&&n.valueOf(),u!=null&&u!==n)return r.from(u,t,i);if(f=yt(n),f)return f;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return r.from(n[Symbol.toPrimitive]("string"),t,i);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);}function g(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');else if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"');}function lt(n,t,i){return(g(n),n<=0)?e(n):t!==undefined?typeof i=="string"?e(n).fill(t,i):e(n).fill(t):e(n)}function v(n){return g(n),e(n<0?0:p(n)|0)}function at(n,t){if((typeof t!="string"||t==="")&&(t="utf8"),!r.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var u=nt(n,t)|0,i=e(u),f=i.write(n,t);return f!==u&&(i=i.slice(0,f)),i}function y(n){for(var i=n.length<0?0:p(n.length)|0,r=e(i),t=0;t<i;t+=1)r[t]=n[t]&255;return r}function vt(n,t,i){if(t<0||n.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');var u;return u=t===undefined&&i===undefined?new Uint8Array(n):i===undefined?new Uint8Array(n,t):new Uint8Array(n,t,i),u.__proto__=r.prototype,u}function yt(n){if(r.isBuffer(n)){var i=p(n.length)|0,t=e(i);return t.length===0?t:(n.copy(t,0,0,i),t)}return n.length!==undefined?typeof n.length!="number"||k(n.length)?e(0):y(n):n.type==="Buffer"&&Array.isArray(n.data)?y(n.data):void 0}function p(n){if(n>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return n|0}function pt(n){return+n!=n&&(n=0),r.alloc(+n)}function nt(n,t){var i,u,f;if(r.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||h(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);if(i=n.length,u=arguments.length>2&&arguments[2]===!0,!u&&i===0)return 0;for(f=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return b(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return i*2;case"hex":return i>>>1;case"base64":return ht(n).length;default:if(f)return u?-1:b(n).length;t=(""+t).toLowerCase();f=!0}}function wt(n,t,i){var r=!1;if(((t===undefined||t<0)&&(t=0),t>this.length)||((i===undefined||i>this.length)&&(i=this.length),i<=0)||(i>>>=0,t>>>=0,i<=t))return"";for(n||(n="utf8");;)switch(n){case"hex":return fi(this,t,i);case"utf8":case"utf-8":return ut(this,t,i);case"ascii":return ri(this,t,i);case"latin1":case"binary":return ui(this,t,i);case"base64":return ti(this,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ei(this,t,i);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase();r=!0}}function s(n,t,i){var r=n[t];n[t]=n[i];n[i]=r}function tt(n,t,i,u,f){if(n.length===0)return-1;if(typeof i=="string"?(u=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,k(i)&&(i=f?0:n.length-1),i<0&&(i=n.length+i),i>=n.length){if(f)return-1;i=n.length-1}else if(i<0)if(f)i=0;else return-1;if(typeof t=="string"&&(t=r.from(t,u)),r.isBuffer(t))return t.length===0?-1:it(n,t,i,u,f);if(typeof t=="number")return(t=t&255,typeof Uint8Array.prototype.indexOf=="function")?f?Uint8Array.prototype.indexOf.call(n,t,i):Uint8Array.prototype.lastIndexOf.call(n,t,i):it(n,[t],i,u,f);throw new TypeError("val must be string, number or Buffer");}function it(n,t,i,r,u){function l(n,t){return h===1?n[t]:n.readUInt16BE(t*h)}var h=1,c=n.length,o=t.length,f,e,a,s;if(r!==undefined&&(r=String(r).toLowerCase(),r==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||t.length<2)return-1;h=2;c/=2;o/=2;i/=2}if(u)for(e=-1,f=i;f<c;f++)if(l(n,f)===l(t,e===-1?0:f-e)){if(e===-1&&(e=f),f-e+1===o)return e*h}else e!==-1&&(f-=f-e),e=-1;else for(i+o>c&&(i=c-o),f=i;f>=0;f--){for(a=!0,s=0;s<o;s++)if(l(n,f+s)!==l(t,s)){a=!1;break}if(a)return f}return-1}function bt(n,t,i,r){var f,e,u,o;for(i=Number(i)||0,f=n.length-i,r?(r=Number(r),r>f&&(r=f)):r=f,e=t.length,r>e/2&&(r=e/2),u=0;u<r;++u){if(o=parseInt(t.substr(u*2,2),16),k(o))return u;n[i+u]=o}return u}function kt(n,t,i,r){return a(b(t,n.length-i),n,i,r)}function rt(n,t,i,r){return a(hi(t),n,i,r)}function dt(n,t,i,r){return rt(n,t,i,r)}function gt(n,t,i,r){return a(ht(t),n,i,r)}function ni(n,t,i,r){return a(ci(t,n.length-i),n,i,r)}function ti(n,t,i){return t===0&&i===n.length?l.fromByteArray(n):l.fromByteArray(n.slice(t,i))}function ut(n,t,i){var h,f,e,s,l,u;for(i=Math.min(n.length,i),h=[],f=t;f<i;){var o=n[f],r=null,c=o>239?4:o>223?3:o>191?2:1;if(f+c<=i)switch(c){case 1:o<128&&(r=o);break;case 2:e=n[f+1];(e&192)==128&&(u=(o&31)<<6|e&63,u>127&&(r=u));break;case 3:e=n[f+1];s=n[f+2];(e&192)==128&&(s&192)==128&&(u=(o&15)<<12|(e&63)<<6|s&63,u>2047&&(u<55296||u>57343)&&(r=u));break;case 4:e=n[f+1];s=n[f+2];l=n[f+3];(e&192)==128&&(s&192)==128&&(l&192)==128&&(u=(o&15)<<18|(e&63)<<12|(s&63)<<6|l&63,u>65535&&u<1114112&&(r=u))}r===null?(r=65533,c=1):r>65535&&(r-=65536,h.push(r>>>10&1023|55296),r=56320|r&1023);h.push(r);f+=c}return ii(h)}function ii(n){var r=n.length,i,t;if(r<=w)return String.fromCharCode.apply(String,n);for(i="",t=0;t<r;)i+=String.fromCharCode.apply(String,n.slice(t,t+=w));return i}function ri(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]&127);return u}function ui(n,t,i){var u="",r;for(i=Math.min(n.length,i),r=t;r<i;++r)u+=String.fromCharCode(n[r]);return u}function fi(n,t,i){var f=n.length,u,r;for((!t||t<0)&&(t=0),(!i||i<0||i>f)&&(i=f),u="",r=t;r<i;++r)u+=si(n[r]);return u}function ei(n,t,i){for(var u=n.slice(t,i),f="",r=0;r<u.length;r+=2)f+=String.fromCharCode(u[r]+u[r+1]*256);return f}function u(n,t,i){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+t>i)throw new RangeError("Trying to access beyond buffer length");}function f(n,t,i,u,f,e){if(!r.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<e)throw new RangeError('"value" argument is out of bounds');if(i+u>n.length)throw new RangeError("Index out of range");}function ft(n,t,i,r){if(i+r>n.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range");}function et(n,t,i,r,u){return t=+t,i=i>>>0,u||ft(n,t,i,4,34028234663852886e22,-34028234663852886e22),o.write(n,t,i,r,23,4),i+4}function ot(n,t,i,r,u){return t=+t,i=i>>>0,u||ft(n,t,i,8,17976931348623157e292,-17976931348623157e292),o.write(n,t,i,r,52,8),i+8}function oi(n){if(n=n.split("=")[0],n=n.trim().replace(st,""),n.length<2)return"";while(n.length%4!=0)n=n+"=";return n}function si(n){return n<16?"0"+n.toString(16):n.toString(16)}function b(n,t){var f;t=t||Infinity;var i,e=n.length,u=null,r=[];for(f=0;f<e;++f){if(i=n.charCodeAt(f),i>55295&&i<57344){if(!u){if(i>56319){(t-=3)>-1&&r.push(239,191,189);continue}else if(f+1===e){(t-=3)>-1&&r.push(239,191,189);continue}u=i;continue}if(i<56320){(t-=3)>-1&&r.push(239,191,189);u=i;continue}i=(u-55296<<10|i-56320)+65536}else u&&(t-=3)>-1&&r.push(239,191,189);if(u=null,i<128){if((t-=1)<0)break;r.push(i)}else if(i<2048){if((t-=2)<0)break;r.push(i>>6|192,i&63|128)}else if(i<65536){if((t-=3)<0)break;r.push(i>>12|224,i>>6&63|128,i&63|128)}else if(i<1114112){if((t-=4)<0)break;r.push(i>>18|240,i>>12&63|128,i>>6&63|128,i&63|128)}else throw new Error("Invalid code point");}return r}function hi(n){for(var i=[],t=0;t<n.length;++t)i.push(n.charCodeAt(t)&255);return i}function ci(n,t){for(var i,f,e,r=[],u=0;u<n.length;++u){if((t-=2)<0)break;i=n.charCodeAt(u);f=i>>8;e=i%256;r.push(e);r.push(f)}return r}function ht(n){return l.toByteArray(oi(n))}function a(n,t,i,r){for(var u=0;u<r;++u){if(u+i>=t.length||u>=n.length)break;t[u+i]=n[u]}return u}function h(n,t){return n instanceof t||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===t.name}function k(n){return n!==n}var l,o,c,w,st;l=n("base64-js");o=n("ieee754");i.Buffer=r;i.SlowBuffer=pt;i.INSPECT_MAX_BYTES=50;c=2147483647;i.kMaxLength=c;r.TYPED_ARRAY_SUPPORT=ct();r.TYPED_ARRAY_SUPPORT||typeof console=="undefined"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");Object.defineProperty(r.prototype,"parent",{enumerable:!0,get:function(){return r.isBuffer(this)?this.buffer:undefined}});Object.defineProperty(r.prototype,"offset",{enumerable:!0,get:function(){return r.isBuffer(this)?this.byteOffset:undefined}});typeof Symbol!="undefined"&&Symbol.species!=null&&r[Symbol.species]===r&&Object.defineProperty(r,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1});r.poolSize=8192;r.from=function(n,t,i){return d(n,t,i)};r.prototype.__proto__=Uint8Array.prototype;r.__proto__=Uint8Array;r.alloc=function(n,t,i){return lt(n,t,i)};r.allocUnsafe=function(n){return v(n)};r.allocUnsafeSlow=function(n){return v(n)};r.isBuffer=function(n){return n!=null&&n._isBuffer===!0&&n!==r.prototype};r.compare=function(n,t){var u,f,i,e;if(h(n,Uint8Array)&&(n=r.from(n,n.offset,n.byteLength)),h(t,Uint8Array)&&(t=r.from(t,t.offset,t.byteLength)),!r.isBuffer(n)||!r.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(n===t)return 0;for(u=n.length,f=t.length,i=0,e=Math.min(u,f);i<e;++i)if(n[i]!==t[i]){u=n[i];f=t[i];break}return u<f?-1:f<u?1:0};r.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};r.concat=function(n,t){var i,f,e,u;if(!Array.isArray(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return r.alloc(0);if(t===undefined)for(t=0,i=0;i<n.length;++i)t+=n[i].length;for(f=r.allocUnsafe(t),e=0,i=0;i<n.length;++i){if(u=n[i],h(u,Uint8Array)&&(u=r.from(u)),!r.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(f,e);e+=u.length}return f};r.byteLength=nt;r.prototype._isBuffer=!0;r.prototype.swap16=function(){var t=this.length,n;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(n=0;n<t;n+=2)s(this,n,n+1);return this};r.prototype.swap32=function(){var t=this.length,n;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(n=0;n<t;n+=4)s(this,n,n+3),s(this,n+1,n+2);return this};r.prototype.swap64=function(){var t=this.length,n;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(n=0;n<t;n+=8)s(this,n,n+7),s(this,n+1,n+6),s(this,n+2,n+5),s(this,n+3,n+4);return this};r.prototype.toString=function(){var n=this.length;return n===0?"":arguments.length===0?ut(this,0,n):wt.apply(this,arguments)};r.prototype.toLocaleString=r.prototype.toString;r.prototype.equals=function(n){if(!r.isBuffer(n))throw new TypeError("Argument must be a Buffer");return this===n?!0:r.compare(this,n)===0};r.prototype.inspect=function(){var n="",t=i.INSPECT_MAX_BYTES;return n=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(n+=" ... "),"<Buffer "+n+">"};r.prototype.compare=function(n,t,i,u,f){var e;if(h(n,Uint8Array)&&(n=r.from(n,n.offset,n.byteLength)),!r.isBuffer(n))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof n);if(t===undefined&&(t=0),i===undefined&&(i=n?n.length:0),u===undefined&&(u=0),f===undefined&&(f=this.length),t<0||i>n.length||u<0||f>this.length)throw new RangeError("out of range index");if(u>=f&&t>=i)return 0;if(u>=f)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,u>>>=0,f>>>=0,this===n)return 0;var o=f-u,s=i-t,a=Math.min(o,s),c=this.slice(u,f),l=n.slice(t,i);for(e=0;e<a;++e)if(c[e]!==l[e]){o=c[e];s=l[e];break}return o<s?-1:s<o?1:0};r.prototype.includes=function(n,t,i){return this.indexOf(n,t,i)!==-1};r.prototype.indexOf=function(n,t,i){return tt(this,n,t,i,!0)};r.prototype.lastIndexOf=function(n,t,i){return tt(this,n,t,i,!1)};r.prototype.write=function(n,t,i,r){var u,f;if(t===undefined)r="utf8",i=this.length,t=0;else if(i===undefined&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,r===undefined&&(r="utf8")):(r=i,i=undefined);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");if(u=this.length-t,(i===undefined||i>u)&&(i=u),n.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");for(r||(r="utf8"),f=!1;;)switch(r){case"hex":return bt(this,n,t,i);case"utf8":case"utf-8":return kt(this,n,t,i);case"ascii":return rt(this,n,t,i);case"latin1":case"binary":return dt(this,n,t,i);case"base64":return gt(this,n,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ni(this,n,t,i);default:if(f)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();f=!0}};r.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};w=4096;r.prototype.slice=function(n,t){var i=this.length,u;return n=~~n,t=t===undefined?i:~~t,n<0?(n+=i,n<0&&(n=0)):n>i&&(n=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<n&&(t=n),u=this.subarray(n,t),u.__proto__=r.prototype,u};r.prototype.readUIntLE=function(n,t,i){n=n>>>0;t=t>>>0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return r};r.prototype.readUIntBE=function(n,t,i){n=n>>>0;t=t>>>0;i||u(n,t,this.length);for(var r=this[n+--t],f=1;t>0&&(f*=256);)r+=this[n+--t]*f;return r};r.prototype.readUInt8=function(n,t){return n=n>>>0,t||u(n,1,this.length),this[n]};r.prototype.readUInt16LE=function(n,t){return n=n>>>0,t||u(n,2,this.length),this[n]|this[n+1]<<8};r.prototype.readUInt16BE=function(n,t){return n=n>>>0,t||u(n,2,this.length),this[n]<<8|this[n+1]};r.prototype.readUInt32LE=function(n,t){return n=n>>>0,t||u(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+this[n+3]*16777216};r.prototype.readUInt32BE=function(n,t){return n=n>>>0,t||u(n,4,this.length),this[n]*16777216+(this[n+1]<<16|this[n+2]<<8|this[n+3])};r.prototype.readIntLE=function(n,t,i){n=n>>>0;t=t>>>0;i||u(n,t,this.length);for(var r=this[n],f=1,e=0;++e<t&&(f*=256);)r+=this[n+e]*f;return f*=128,r>=f&&(r-=Math.pow(2,8*t)),r};r.prototype.readIntBE=function(n,t,i){n=n>>>0;t=t>>>0;i||u(n,t,this.length);for(var e=t,r=1,f=this[n+--e];e>0&&(r*=256);)f+=this[n+--e]*r;return r*=128,f>=r&&(f-=Math.pow(2,8*t)),f};r.prototype.readInt8=function(n,t){return(n=n>>>0,t||u(n,1,this.length),!(this[n]&128))?this[n]:(256-this[n])*-1};r.prototype.readInt16LE=function(n,t){n=n>>>0;t||u(n,2,this.length);var i=this[n]|this[n+1]<<8;return i&32768?i|4294901760:i};r.prototype.readInt16BE=function(n,t){n=n>>>0;t||u(n,2,this.length);var i=this[n+1]|this[n]<<8;return i&32768?i|4294901760:i};r.prototype.readInt32LE=function(n,t){return n=n>>>0,t||u(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24};r.prototype.readInt32BE=function(n,t){return n=n>>>0,t||u(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]};r.prototype.readFloatLE=function(n,t){return n=n>>>0,t||u(n,4,this.length),o.read(this,n,!0,23,4)};r.prototype.readFloatBE=function(n,t){return n=n>>>0,t||u(n,4,this.length),o.read(this,n,!1,23,4)};r.prototype.readDoubleLE=function(n,t){return n=n>>>0,t||u(n,8,this.length),o.read(this,n,!0,52,8)};r.prototype.readDoubleBE=function(n,t){return n=n>>>0,t||u(n,8,this.length),o.read(this,n,!1,52,8)};r.prototype.writeUIntLE=function(n,t,i,r){var o,u,e;for(n=+n,t=t>>>0,i=i>>>0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=1,e=0,this[t]=n&255;++e<i&&(u*=256);)this[t+e]=n/u&255;return t+i};r.prototype.writeUIntBE=function(n,t,i,r){var o,u,e;for(n=+n,t=t>>>0,i=i>>>0,r||(o=Math.pow(2,8*i)-1,f(this,n,t,i,o,0)),u=i-1,e=1,this[t+u]=n&255;--u>=0&&(e*=256);)this[t+u]=n/e&255;return t+i};r.prototype.writeUInt8=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,1,255,0),this[t]=n&255,t+1};r.prototype.writeUInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,2,65535,0),this[t]=n&255,this[t+1]=n>>>8,t+2};r.prototype.writeUInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,2,65535,0),this[t]=n>>>8,this[t+1]=n&255,t+2};r.prototype.writeUInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,4,4294967295,0),this[t+3]=n>>>24,this[t+2]=n>>>16,this[t+1]=n>>>8,this[t]=n&255,t+4};r.prototype.writeUInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,4,4294967295,0),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4};r.prototype.writeIntLE=function(n,t,i,r){var u;n=+n;t=t>>>0;r||(u=Math.pow(2,8*i-1),f(this,n,t,i,u-1,-u));var e=0,s=1,o=0;for(this[t]=n&255;++e<i&&(s*=256);)n<0&&o===0&&this[t+e-1]!==0&&(o=1),this[t+e]=(n/s>>0)-o&255;return t+i};r.prototype.writeIntBE=function(n,t,i,r){var e;n=+n;t=t>>>0;r||(e=Math.pow(2,8*i-1),f(this,n,t,i,e-1,-e));var u=i-1,s=1,o=0;for(this[t+u]=n&255;--u>=0&&(s*=256);)n<0&&o===0&&this[t+u+1]!==0&&(o=1),this[t+u]=(n/s>>0)-o&255;return t+i};r.prototype.writeInt8=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,1,127,-128),n<0&&(n=255+n+1),this[t]=n&255,t+1};r.prototype.writeInt16LE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,2,32767,-32768),this[t]=n&255,this[t+1]=n>>>8,t+2};r.prototype.writeInt16BE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,2,32767,-32768),this[t]=n>>>8,this[t+1]=n&255,t+2};r.prototype.writeInt32LE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,4,2147483647,-2147483648),this[t]=n&255,this[t+1]=n>>>8,this[t+2]=n>>>16,this[t+3]=n>>>24,t+4};r.prototype.writeInt32BE=function(n,t,i){return n=+n,t=t>>>0,i||f(this,n,t,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),this[t]=n>>>24,this[t+1]=n>>>16,this[t+2]=n>>>8,this[t+3]=n&255,t+4};r.prototype.writeFloatLE=function(n,t,i){return et(this,n,t,!0,i)};r.prototype.writeFloatBE=function(n,t,i){return et(this,n,t,!1,i)};r.prototype.writeDoubleLE=function(n,t,i){return ot(this,n,t,!0,i)};r.prototype.writeDoubleBE=function(n,t,i){return ot(this,n,t,!1,i)};r.prototype.copy=function(n,t,i,u){var e,f;if(!r.isBuffer(n))throw new TypeError("argument should be a Buffer");if((i||(i=0),u||u===0||(u=this.length),t>=n.length&&(t=n.length),t||(t=0),u>0&&u<i&&(u=i),u===i)||n.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("sourceEnd out of bounds");if(u>this.length&&(u=this.length),n.length-t<u-i&&(u=n.length-t+i),e=u-i,this===n&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(t,i,u);else if(this===n&&i<t&&t<u)for(f=e-1;f>=0;--f)n[f+t]=this[f+i];else Uint8Array.prototype.set.call(n,this.subarray(i,u),t);return e};r.prototype.fill=function(n,t,i,u){var e,f,o,s;if(typeof n=="string"){if(typeof t=="string"?(u=t,t=0,i=this.length):typeof i=="string"&&(u=i,i=this.length),u!==undefined&&typeof u!="string")throw new TypeError("encoding must be a string");if(typeof u=="string"&&!r.isEncoding(u))throw new TypeError("Unknown encoding: "+u);n.length===1&&(e=n.charCodeAt(0),(u==="utf8"&&e<128||u==="latin1")&&(n=e))}else typeof n=="number"&&(n=n&255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;if(t=t>>>0,i=i===undefined?this.length:i>>>0,n||(n=0),typeof n=="number")for(f=t;f<i;++f)this[f]=n;else{if(o=r.isBuffer(n)?n:r.from(n,u),s=o.length,s===0)throw new TypeError('The value "'+n+'" is invalid for argument "value"');for(f=0;f<i-t;++f)this[f+t]=o[f%s]}return this};st=/[^+/0-9A-Za-z-_]/g},{"base64-js":2,ieee754:31}],5:[function(t,i){(function(t,r){"use strict";function s(n){function o(n){for(var r=f.byteLength,o=t+n,u,e,i;r<o;)r*=2;if(r!==f.byteLength)for(u=c,f=new ArrayBuffer(r),c=new DataView(f),e=t+3>>2,i=0;i<e;++i)c.setUint32(i*4,u.getUint32(i*4));return y=n,c}function s(){t+=y}function b(n){s(o(8).setFloat64(t,n))}function i(n){s(o(1).setUint8(t,n))}function p(n){for(var r=o(n.length),i=0;i<n.length;++i)r.setUint8(t+i,n[i]);s()}function k(n){s(o(2).setUint16(t,n))}function d(n){s(o(4).setUint32(t,n))}function g(n){var i=n%u,f=(n-i)/u,r=o(8);r.setUint32(t,f);r.setUint32(t+4,i);s()}function h(n,t){t<24?i(n<<5|t):t<256?(i(n<<5|24),i(t)):t<65536?(i(n<<5|25),k(t)):t<4294967296?(i(n<<5|26),d(t)):(i(n<<5|27),g(t))}function a(n){var u,f,t,o,s,c;if(n===!1)return i(244);if(n===!0)return i(245);if(n===null)return i(246);if(n===r)return i(247);switch(typeof n){case"number":if(Math.floor(n)===n){if(0<=n&&n<=e)return h(0,n);if(-e<=n&&n<0)return h(1,-(n+1))}return i(251),b(n);case"string":for(f=[],u=0;u<n.length;++u)t=n.charCodeAt(u),t<128?f.push(t):t<2048?(f.push(192|t>>6),f.push(128|t&63)):t<55296?(f.push(224|t>>12),f.push(128|t>>6&63),f.push(128|t&63)):(t=(t&1023)<<10,t|=n.charCodeAt(++u)&1023,t+=65536,f.push(240|t>>18),f.push(128|t>>12&63),f.push(128|t>>6&63),f.push(128|t&63));return h(3,f.length),p(f);default:if(Array.isArray(n))for(o=n.length,h(4,o),u=0;u<o;++u)a(n[u]);else if(n instanceof Uint8Array)h(2,n.length),p(n);else for(s=Object.keys(n),o=s.length,h(5,o),u=0;u<o;++u)c=s[u],a(c),a(n[c])}}var f=new ArrayBuffer(256),c=new DataView(f),y,t=0,v,w,l;if(a(n),"slice"in f)return f.slice(0,t);for(v=new ArrayBuffer(t),w=new DataView(v),l=0;l<t;++l)w.setUint8(l,c.getUint8(l));return v}function h(n,t,i){function h(n,t){return f+=t,n}function a(t){return h(new Uint8Array(n,f,t),t)}function d(){var u=new ArrayBuffer(4),r=new DataView(u),t=v(),f=t&32768,n=t&31744,i=t&1023;if(n===31744)n=261120;else if(n!==0)n+=114688;else if(i!==0)return i*o;return r.setUint32(0,f<<16|n<<13|i<<13),r.getFloat32(0)}function g(){return h(s.getFloat32(f),4)}function nt(){return h(s.getFloat64(f),8)}function e(){return h(s.getUint8(f),1)}function v(){return h(s.getUint16(f),2)}function l(){return h(s.getUint32(f),4)}function tt(){return l()*u+l()}function y(){return s.getUint8(f)!==255?!1:(f+=1,!0)}function p(n){if(n<24)return n;if(n===24)return e();if(n===25)return v();if(n===26)return l();if(n===27)return tt();if(n===31)return-1;throw"Invalid length encoding";}function w(n){var t=e(),i;if(t===255)return-1;if(i=p(t&31),i<0||t>>5!==n)throw"Invalid indefinite length element";return i}function b(n,t){for(var i,r=0;r<t;++r)i=e(),i&128&&(i<224?(i=(i&31)<<6|e()&63,t-=1):i<240?(i=(i&15)<<12|(e()&63)<<6|e()&63,t-=2):(i=(i&15)<<18|(e()&63)<<12|(e()&63)<<6|e()&63,t-=3)),i<65536?n.push(i):(i-=65536,n.push(55296|i>>10),n.push(56320|i&1023))}function c(){var it=e(),f=it>>5,rt=it&31,u,n,o,l,v,k,h,s,tt,ut;if(f===7)switch(rt){case 25:return d();case 26:return g();case 27:return nt()}if(n=p(rt),n<0&&(f<2||6<f))throw"Invalid length";switch(f){case 0:return n;case 1:return-1-n;case 2:if(n<0){for(o=[],l=0;(n=w(f))>=0;)l+=n,o.push(a(n));for(v=new Uint8Array(l),k=0,u=0;u<o.length;++u)v.set(o[u],k),k+=o[u].length;return v}return a(n);case 3:if(h=[],n<0)while((n=w(f))>=0)b(h,n);else b(h,n);return String.fromCharCode.apply(null,h);case 4:if(n<0)for(s=[];!y();)s.push(c());else for(s=new Array(n),u=0;u<n;++u)s[u]=c();return s;case 5:for(tt={},u=0;u<n||n<0&&!y();++u)ut=c(),tt[ut]=c();return tt;case 6:return t(c(),n);case 7:switch(n){case 20:return!1;case 21:return!0;case 22:return null;case 23:return r;default:return i(n)}}}var s=new DataView(n),f=0,k;if(typeof t!="function"&&(t=function(n){return n}),typeof i!="function"&&(i=function(){return r}),k=c(),f!==n.byteLength)throw"Remaining bytes";return k}var o=Math.pow(2,-24),u=Math.pow(2,32),e=Math.pow(2,53),f={encode:s,decode:h};typeof n=="function"&&n.amd?n("cbor/cbor",f):typeof i!="undefined"&&i.exports?i.exports=f:t.CBOR||(t.CBOR=f)})(this)},{}],6:[function(n,t){"use strict";t.exports=n("./es6/crc1").default},{"./es6/crc1":17}],7:[function(n,t){"use strict";t.exports=n("./es6/crc16").default},{"./es6/crc16":18}],8:[function(n,t){"use strict";t.exports=n("./es6/crc16ccitt").default},{"./es6/crc16ccitt":19}],9:[function(n,t){"use strict";t.exports=n("./es6/crc16kermit").default},{"./es6/crc16kermit":20}],10:[function(n,t){"use strict";t.exports=n("./es6/crc16modbus").default},{"./es6/crc16modbus":21}],11:[function(n,t){"use strict";t.exports=n("./es6/crc16xmodem").default},{"./es6/crc16xmodem":22}],12:[function(n,t){"use strict";t.exports=n("./es6/crc24").default},{"./es6/crc24":23}],13:[function(n,t){"use strict";t.exports=n("./es6/crc32").default},{"./es6/crc32":24}],14:[function(n,t){"use strict";t.exports=n("./es6/crc8").default},{"./es6/crc8":25}],15:[function(n,t){"use strict";t.exports=n("./es6/crc81wire").default},{"./es6/crc81wire":26}],16:[function(n,t){"use strict";t.exports=n("./es6/crcjam").default},{"./es6/crcjam":27}],17:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var f=n("buffer"),e=n("./create_buffer"),o=r(e),s=n("./define_crc"),h=r(s);u=h.default("crc1",function(n,t){var r,u,i,e;for(f.Buffer.isBuffer(n)||(n=o.default(n)),r=~~t,u=0,i=0;i<n.length;i++)e=n[i],u+=e;return r+=u%256,r%256});i.default=u},{"./create_buffer":28,"./define_crc":29,buffer:4}],18:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("crc-16",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=~~t,u=0;u<n.length;u++)f=n[u],i=(r[(i^f)&255]^i>>8)&65535;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],19:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("ccitt",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=typeof t!="undefined"?~~t:65535,u=0;u<n.length;u++)f=n[u],i=(r[(i>>8^f)&255]^i<<8)&65535;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],20:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("kermit",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=typeof t!="undefined"?~~t:0,u=0;u<n.length;u++)f=n[u],i=(r[(i^f)&255]^i>>8)&65535;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],21:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("crc-16-modbus",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=typeof t!="undefined"?~~t:65535,u=0;u<n.length;u++)f=n[u],i=(r[(i^f)&255]^i>>8)&65535;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],22:[function(n,t,i){"use strict";function r(n){return n&&n.__esModule?n:{"default":n}}var u;Object.defineProperty(i,"__esModule",{value:!0});var f=n("buffer"),e=n("./create_buffer"),o=r(e),s=n("./define_crc"),h=r(s);u=h.default("xmodem",function(n,t){var r,u,e,i;for(f.Buffer.isBuffer(n)||(n=o.default(n)),r=typeof t!="undefined"?~~t:0,u=0;u<n.length;u++)e=n[u],i=r>>>8&255,i^=e&255,i^=i>>>4,r=r<<8&65535,r^=i,i=i<<5&65535,r^=i,i=i<<7&65535,r^=i;return r});i.default=u},{"./create_buffer":28,"./define_crc":29,buffer:4}],23:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("crc-24",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=typeof t!="undefined"?~~t:11994318,u=0;u<n.length;u++)f=n[u],i=(r[(i>>16^f)&255]^i<<8)&16777215;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],24:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("crc-32",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=t===0?0:~~t^-1,u=0;u<n.length;u++)f=n[u],i=r[(i^f)&255]^i>>>8;return i^-1});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],25:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("crc-8",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=~~t,u=0;u<n.length;u++)f=n[u],i=r[(i^f)&255]&255;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],26:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("dallas-1-wire",function(n,t){var i,u,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),i=~~t,u=0;u<n.length;u++)f=n[u],i=r[(i^f)&255]&255;return i});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],27:[function(n,t,i){"use strict";function u(n){return n&&n.__esModule?n:{"default":n}}var r,f;Object.defineProperty(i,"__esModule",{value:!0});var e=n("buffer"),o=n("./create_buffer"),s=u(o),h=n("./define_crc"),c=u(h);r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(r=new Int32Array(r));f=c.default("jam",function(n){var u=arguments.length>1&&arguments[1]!==undefined?arguments[1]:-1,t,i,f;for(e.Buffer.isBuffer(n)||(n=s.default(n)),t=u===0?0:~~u,i=0;i<n.length;i++)f=n[i],t=r[(t^f)&255]^t>>>8;return t});i.default=f},{"./create_buffer":28,"./define_crc":29,buffer:4}],28:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var r=n("buffer"),u=r.Buffer.from&&r.Buffer.alloc&&r.Buffer.allocUnsafe&&r.Buffer.allocUnsafeSlow?r.Buffer.from:function(n){return new r.Buffer(n)};i.default=u},{buffer:4}],29:[function(n,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.default=function(n,t){var i=function(n,i){return t(n,i)>>>0};return i.signed=t,i.unsigned=i,i.model=n,i}},{}],30:[function(n,t){"use strict";t.exports={crc1:n("./crc1"),crc8:n("./crc8"),crc81wire:n("./crc8_1wire"),crc16:n("./crc16"),crc16ccitt:n("./crc16_ccitt"),crc16modbus:n("./crc16_modbus"),crc16xmodem:n("./crc16_xmodem"),crc16kermit:n("./crc16_kermit"),crc24:n("./crc24"),crc32:n("./crc32"),crcjam:n("./crcjam")}},{"./crc1":6,"./crc16":7,"./crc16_ccitt":8,"./crc16_kermit":9,"./crc16_modbus":10,"./crc16_xmodem":11,"./crc24":12,"./crc32":13,"./crc8":14,"./crc8_1wire":15,"./crcjam":16}],31:[function(n,t,i){i.read=function(n,t,i,r,u){var f,o,l=u*8-r-1,a=(1<<l)-1,v=a>>1,e=-7,s=i?u-1:0,c=i?-1:1,h=n[t+s];for(s+=c,f=h&(1<<-e)-1,h>>=-e,e+=l;e>0;f=f*256+n[t+s],s+=c,e-=8);for(o=f&(1<<-e)-1,f>>=-e,e+=r;e>0;o=o*256+n[t+s],s+=c,e-=8);if(f===0)f=1-v;else{if(f===a)return o?NaN:(h?-1:1)*Infinity;o=o+Math.pow(2,r);f=f-v}return(h?-1:1)*o*Math.pow(2,f-r)};i.write=function(n,t,i,r,u,f){var e,o,s,l=f*8-u-1,a=(1<<l)-1,h=a>>1,y=u===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=r?0:f-1,v=r?1:-1,p=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===Infinity?(o=isNaN(t)?1:0,e=a):(e=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-e))<1&&(e--,s*=2),t+=e+h>=1?y/s:y*Math.pow(2,1-h),t*s>=2&&(e++,s/=2),e+h>=a?(o=0,e=a):e+h>=1?(o=(t*s-1)*Math.pow(2,u),e=e+h):(o=t*Math.pow(2,h-1)*Math.pow(2,u),e=0));u>=8;n[i+c]=o&255,c+=v,o/=256,u-=8);for(e=e<<u|o,l+=u;l>0;n[i+c]=e&255,c+=v,e/=256,l-=8);n[i+c-v]|=p*128}},{}],32:[function(t,i){(function(t,r){(function(){
/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */
(function(){"use strict";function e(n,t){t?(f[0]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=f[16]=f[17]=f[18]=f[19]=f[20]=f[21]=f[22]=f[23]=f[24]=f[25]=f[26]=f[27]=f[28]=f[29]=f[30]=f[31]=f[32]=0,this.blocks=f):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];n==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):n==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):n==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209);this.bits=n;this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1}function a(n,t,i){var a,y=typeof n,p,s,h,f,c;if(y!=="string"){if(y==="object"){if(n===null)throw new Error(l);else if(v&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!v||!ArrayBuffer.isView(n)))throw new Error(l);}else throw new Error(l);a=!0}if(p=n.length,!a){var u=[],p=n.length,o=0,r;for(f=0;f<p;++f)r=n.charCodeAt(f),r<128?u[o++]=r:r<2048?(u[o++]=192|r>>6,u[o++]=128|r&63):r<55296||r>=57344?(u[o++]=224|r>>12,u[o++]=128|r>>6&63,u[o++]=128|r&63):(r=65536+((r&1023)<<10|n.charCodeAt(++f)&1023),u[o++]=240|r>>18,u[o++]=128|r>>12&63,u[o++]=128|r>>6&63,u[o++]=128|r&63);n=u}for(n.length>128&&(n=new e(t,!0).update(n).array()),s=[],h=[],f=0;f<128;++f)c=n[f]||0,s[f]=92^c,h[f]=54^c;e.call(this,t,i);this.update(h);this.oKeyPad=s;this.inner=!0;this.sharedMemory=i}var l="input is invalid type",tt="finalize already called",b=typeof window=="object",s=b?window:{},k,d,o;s.JS_SHA512_NO_WINDOW&&(b=!1);k=!b&&typeof self=="object";d=!s.JS_SHA512_NO_NODE_JS&&typeof t=="object"&&t.versions&&t.versions.node;d?s=r:k&&(s=self);var it=!s.JS_SHA512_NO_COMMON_JS&&typeof i=="object"&&i.exports,rt=typeof n=="function"&&n.amd,v=!s.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",u="0123456789abcdef".split(""),ut=[-2147483648,8388608,32768,128],h=[24,16,8,0],c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=["hex","array","digest","arrayBuffer"],f=[];(s.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"});v&&(s.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var g=function(n,t){return function(i){return new e(t,!0).update(i)[n]()}},p=function(n){var t=g("hex",n),i,r;for(t.create=function(){return new e(n)},t.update=function(n){return t.create().update(n)},i=0;i<y.length;++i)r=y[i],t[r]=g(r,n);return t},nt=function(n,t){return function(i,r){return new a(i,t,!0).update(r)[n]()}},w=function(n){var t=nt("hex",n),i,r;for(t.create=function(t){return new a(t,n)},t.update=function(n,i){return t.create(n).update(i)},i=0;i<y.length;++i)r=y[i],t[r]=nt(r,n);return t};e.prototype.update=function(n){var o,f;if(this.finalized)throw new Error(tt);if(f=typeof n,f!=="string"){if(f==="object"){if(n===null)throw new Error(l);else if(v&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!v||!ArrayBuffer.isView(n)))throw new Error(l);}else throw new Error(l);o=!0}for(var r,u=0,i,e=n.length,t=this.blocks;u<e;){if(this.hashed&&(this.hashed=!1,t[0]=this.block,t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=t[16]=t[17]=t[18]=t[19]=t[20]=t[21]=t[22]=t[23]=t[24]=t[25]=t[26]=t[27]=t[28]=t[29]=t[30]=t[31]=t[32]=0),o)for(i=this.start;u<e&&i<128;++u)t[i>>2]|=n[u]<<h[i++&3];else for(i=this.start;u<e&&i<128;++u)r=n.charCodeAt(u),r<128?t[i>>2]|=r<<h[i++&3]:r<2048?(t[i>>2]|=(192|r>>6)<<h[i++&3],t[i>>2]|=(128|r&63)<<h[i++&3]):r<55296||r>=57344?(t[i>>2]|=(224|r>>12)<<h[i++&3],t[i>>2]|=(128|r>>6&63)<<h[i++&3],t[i>>2]|=(128|r&63)<<h[i++&3]):(r=65536+((r&1023)<<10|n.charCodeAt(++u)&1023),t[i>>2]|=(240|r>>18)<<h[i++&3],t[i>>2]|=(128|r>>12&63)<<h[i++&3],t[i>>2]|=(128|r>>6&63)<<h[i++&3],t[i>>2]|=(128|r&63)<<h[i++&3]);this.lastByteIndex=i;this.bytes+=i-this.start;i>=128?(this.block=t[32],this.start=i-128,this.hash(),this.hashed=!0):this.start=i}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this};e.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var n=this.blocks,t=this.lastByteIndex;n[32]=this.block;n[t>>2]|=ut[t&3];this.block=n[32];t>=112&&(this.hashed||this.hash(),n[0]=this.block,n[1]=n[2]=n[3]=n[4]=n[5]=n[6]=n[7]=n[8]=n[9]=n[10]=n[11]=n[12]=n[13]=n[14]=n[15]=n[16]=n[17]=n[18]=n[19]=n[20]=n[21]=n[22]=n[23]=n[24]=n[25]=n[26]=n[27]=n[28]=n[29]=n[30]=n[31]=n[32]=0);n[30]=this.hBytes<<3|this.bytes>>>29;n[31]=this.bytes<<3;this.hash()}};e.prototype.hash=function(){for(var wt=this.h0h,bt=this.h0l,kt=this.h1h,dt=this.h1l,gt=this.h2h,ni=this.h2l,ti=this.h3h,ii=this.h3l,ri=this.h4h,ui=this.h4l,fi=this.h5h,ei=this.h5l,oi=this.h6h,si=this.h6l,hi=this.h7h,ci=this.h7l,h=this.blocks,p,w,b,k,n,t,i,r,li,ai,vi,yi,pi,wi,yt,pt,ct,lt,u,f,o,s,at,vt,e=32;e<160;e+=2)u=h[e-30],f=h[e-29],p=(u>>>1|f<<31)^(u>>>8|f<<24)^u>>>7,w=(f>>>1|u<<31)^(f>>>8|u<<24)^(f>>>7|u<<25),u=h[e-4],f=h[e-3],b=(u>>>19|f<<13)^(f>>>29|u<<3)^u>>>6,k=(f>>>19|u<<13)^(u>>>29|f<<3)^(f>>>6|u<<26),u=h[e-32],f=h[e-31],o=h[e-14],s=h[e-13],n=(s&65535)+(f&65535)+(w&65535)+(k&65535),t=(s>>>16)+(f>>>16)+(w>>>16)+(k>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(p&65535)+(b&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(p>>>16)+(b>>>16)+(i>>>16),h[e]=r<<16|i&65535,h[e+1]=t<<16|n&65535;var d=wt,g=bt,l=kt,a=dt,v=gt,y=ni,nt=ti,tt=ii,it=ri,rt=ui,ut=fi,ft=ei,et=oi,ot=si,st=hi,ht=ci;for(yt=l&v,pt=a&y,e=0;e<160;e+=8)p=(d>>>28|g<<4)^(g>>>2|d<<30)^(g>>>7|d<<25),w=(g>>>28|d<<4)^(d>>>2|g<<30)^(d>>>7|g<<25),b=(it>>>14|rt<<18)^(it>>>18|rt<<14)^(rt>>>9|it<<23),k=(rt>>>14|it<<18)^(rt>>>18|it<<14)^(it>>>9|rt<<23),li=d&l,ai=g&a,ct=li^d&v^yt,lt=ai^g&y^pt,at=it&ut^~it&et,vt=rt&ft^~rt&ot,u=h[e],f=h[e+1],o=c[e],s=c[e+1],n=(s&65535)+(f&65535)+(vt&65535)+(k&65535)+(ht&65535),t=(s>>>16)+(f>>>16)+(vt>>>16)+(k>>>16)+(ht>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(at&65535)+(b&65535)+(st&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(at>>>16)+(b>>>16)+(st>>>16)+(i>>>16),u=r<<16|i&65535,f=t<<16|n&65535,n=(lt&65535)+(w&65535),t=(lt>>>16)+(w>>>16)+(n>>>16),i=(ct&65535)+(p&65535)+(t>>>16),r=(ct>>>16)+(p>>>16)+(i>>>16),o=r<<16|i&65535,s=t<<16|n&65535,n=(tt&65535)+(f&65535),t=(tt>>>16)+(f>>>16)+(n>>>16),i=(nt&65535)+(u&65535)+(t>>>16),r=(nt>>>16)+(u>>>16)+(i>>>16),st=r<<16|i&65535,ht=t<<16|n&65535,n=(s&65535)+(f&65535),t=(s>>>16)+(f>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(i>>>16),nt=r<<16|i&65535,tt=t<<16|n&65535,p=(nt>>>28|tt<<4)^(tt>>>2|nt<<30)^(tt>>>7|nt<<25),w=(tt>>>28|nt<<4)^(nt>>>2|tt<<30)^(nt>>>7|tt<<25),b=(st>>>14|ht<<18)^(st>>>18|ht<<14)^(ht>>>9|st<<23),k=(ht>>>14|st<<18)^(ht>>>18|st<<14)^(st>>>9|ht<<23),vi=nt&d,yi=tt&g,ct=vi^nt&l^li,lt=yi^tt&a^ai,at=st&it^~st&ut,vt=ht&rt^~ht&ft,u=h[e+2],f=h[e+3],o=c[e+2],s=c[e+3],n=(s&65535)+(f&65535)+(vt&65535)+(k&65535)+(ot&65535),t=(s>>>16)+(f>>>16)+(vt>>>16)+(k>>>16)+(ot>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(at&65535)+(b&65535)+(et&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(at>>>16)+(b>>>16)+(et>>>16)+(i>>>16),u=r<<16|i&65535,f=t<<16|n&65535,n=(lt&65535)+(w&65535),t=(lt>>>16)+(w>>>16)+(n>>>16),i=(ct&65535)+(p&65535)+(t>>>16),r=(ct>>>16)+(p>>>16)+(i>>>16),o=r<<16|i&65535,s=t<<16|n&65535,n=(y&65535)+(f&65535),t=(y>>>16)+(f>>>16)+(n>>>16),i=(v&65535)+(u&65535)+(t>>>16),r=(v>>>16)+(u>>>16)+(i>>>16),et=r<<16|i&65535,ot=t<<16|n&65535,n=(s&65535)+(f&65535),t=(s>>>16)+(f>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(i>>>16),v=r<<16|i&65535,y=t<<16|n&65535,p=(v>>>28|y<<4)^(y>>>2|v<<30)^(y>>>7|v<<25),w=(y>>>28|v<<4)^(v>>>2|y<<30)^(v>>>7|y<<25),b=(et>>>14|ot<<18)^(et>>>18|ot<<14)^(ot>>>9|et<<23),k=(ot>>>14|et<<18)^(ot>>>18|et<<14)^(et>>>9|ot<<23),pi=v&nt,wi=y&tt,ct=pi^v&d^vi,lt=wi^y&g^yi,at=et&st^~et&it,vt=ot&ht^~ot&rt,u=h[e+4],f=h[e+5],o=c[e+4],s=c[e+5],n=(s&65535)+(f&65535)+(vt&65535)+(k&65535)+(ft&65535),t=(s>>>16)+(f>>>16)+(vt>>>16)+(k>>>16)+(ft>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(at&65535)+(b&65535)+(ut&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(at>>>16)+(b>>>16)+(ut>>>16)+(i>>>16),u=r<<16|i&65535,f=t<<16|n&65535,n=(lt&65535)+(w&65535),t=(lt>>>16)+(w>>>16)+(n>>>16),i=(ct&65535)+(p&65535)+(t>>>16),r=(ct>>>16)+(p>>>16)+(i>>>16),o=r<<16|i&65535,s=t<<16|n&65535,n=(a&65535)+(f&65535),t=(a>>>16)+(f>>>16)+(n>>>16),i=(l&65535)+(u&65535)+(t>>>16),r=(l>>>16)+(u>>>16)+(i>>>16),ut=r<<16|i&65535,ft=t<<16|n&65535,n=(s&65535)+(f&65535),t=(s>>>16)+(f>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(i>>>16),l=r<<16|i&65535,a=t<<16|n&65535,p=(l>>>28|a<<4)^(a>>>2|l<<30)^(a>>>7|l<<25),w=(a>>>28|l<<4)^(l>>>2|a<<30)^(l>>>7|a<<25),b=(ut>>>14|ft<<18)^(ut>>>18|ft<<14)^(ft>>>9|ut<<23),k=(ft>>>14|ut<<18)^(ft>>>18|ut<<14)^(ut>>>9|ft<<23),yt=l&v,pt=a&y,ct=yt^l&nt^pi,lt=pt^a&tt^wi,at=ut&et^~ut&st,vt=ft&ot^~ft&ht,u=h[e+6],f=h[e+7],o=c[e+6],s=c[e+7],n=(s&65535)+(f&65535)+(vt&65535)+(k&65535)+(rt&65535),t=(s>>>16)+(f>>>16)+(vt>>>16)+(k>>>16)+(rt>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(at&65535)+(b&65535)+(it&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(at>>>16)+(b>>>16)+(it>>>16)+(i>>>16),u=r<<16|i&65535,f=t<<16|n&65535,n=(lt&65535)+(w&65535),t=(lt>>>16)+(w>>>16)+(n>>>16),i=(ct&65535)+(p&65535)+(t>>>16),r=(ct>>>16)+(p>>>16)+(i>>>16),o=r<<16|i&65535,s=t<<16|n&65535,n=(g&65535)+(f&65535),t=(g>>>16)+(f>>>16)+(n>>>16),i=(d&65535)+(u&65535)+(t>>>16),r=(d>>>16)+(u>>>16)+(i>>>16),it=r<<16|i&65535,rt=t<<16|n&65535,n=(s&65535)+(f&65535),t=(s>>>16)+(f>>>16)+(n>>>16),i=(o&65535)+(u&65535)+(t>>>16),r=(o>>>16)+(u>>>16)+(i>>>16),d=r<<16|i&65535,g=t<<16|n&65535;n=(bt&65535)+(g&65535);t=(bt>>>16)+(g>>>16)+(n>>>16);i=(wt&65535)+(d&65535)+(t>>>16);r=(wt>>>16)+(d>>>16)+(i>>>16);this.h0h=r<<16|i&65535;this.h0l=t<<16|n&65535;n=(dt&65535)+(a&65535);t=(dt>>>16)+(a>>>16)+(n>>>16);i=(kt&65535)+(l&65535)+(t>>>16);r=(kt>>>16)+(l>>>16)+(i>>>16);this.h1h=r<<16|i&65535;this.h1l=t<<16|n&65535;n=(ni&65535)+(y&65535);t=(ni>>>16)+(y>>>16)+(n>>>16);i=(gt&65535)+(v&65535)+(t>>>16);r=(gt>>>16)+(v>>>16)+(i>>>16);this.h2h=r<<16|i&65535;this.h2l=t<<16|n&65535;n=(ii&65535)+(tt&65535);t=(ii>>>16)+(tt>>>16)+(n>>>16);i=(ti&65535)+(nt&65535)+(t>>>16);r=(ti>>>16)+(nt>>>16)+(i>>>16);this.h3h=r<<16|i&65535;this.h3l=t<<16|n&65535;n=(ui&65535)+(rt&65535);t=(ui>>>16)+(rt>>>16)+(n>>>16);i=(ri&65535)+(it&65535)+(t>>>16);r=(ri>>>16)+(it>>>16)+(i>>>16);this.h4h=r<<16|i&65535;this.h4l=t<<16|n&65535;n=(ei&65535)+(ft&65535);t=(ei>>>16)+(ft>>>16)+(n>>>16);i=(fi&65535)+(ut&65535)+(t>>>16);r=(fi>>>16)+(ut>>>16)+(i>>>16);this.h5h=r<<16|i&65535;this.h5l=t<<16|n&65535;n=(si&65535)+(ot&65535);t=(si>>>16)+(ot>>>16)+(n>>>16);i=(oi&65535)+(et&65535)+(t>>>16);r=(oi>>>16)+(et>>>16)+(i>>>16);this.h6h=r<<16|i&65535;this.h6l=t<<16|n&65535;n=(ci&65535)+(ht&65535);t=(ci>>>16)+(ht>>>16)+(n>>>16);i=(hi&65535)+(st&65535)+(t>>>16);r=(hi>>>16)+(st>>>16)+(i>>>16);this.h7h=r<<16|i&65535;this.h7l=t<<16|n&65535};e.prototype.hex=function(){this.finalize();var n=this.h0h,t=this.h0l,i=this.h1h,r=this.h1l,f=this.h2h,e=this.h2l,o=this.h3h,s=this.h3l,h=this.h4h,c=this.h4l,l=this.h5h,a=this.h5l,v=this.h6h,y=this.h6l,p=this.h7h,w=this.h7l,k=this.bits,b=u[n>>28&15]+u[n>>24&15]+u[n>>20&15]+u[n>>16&15]+u[n>>12&15]+u[n>>8&15]+u[n>>4&15]+u[n&15]+u[t>>28&15]+u[t>>24&15]+u[t>>20&15]+u[t>>16&15]+u[t>>12&15]+u[t>>8&15]+u[t>>4&15]+u[t&15]+u[i>>28&15]+u[i>>24&15]+u[i>>20&15]+u[i>>16&15]+u[i>>12&15]+u[i>>8&15]+u[i>>4&15]+u[i&15]+u[r>>28&15]+u[r>>24&15]+u[r>>20&15]+u[r>>16&15]+u[r>>12&15]+u[r>>8&15]+u[r>>4&15]+u[r&15]+u[f>>28&15]+u[f>>24&15]+u[f>>20&15]+u[f>>16&15]+u[f>>12&15]+u[f>>8&15]+u[f>>4&15]+u[f&15]+u[e>>28&15]+u[e>>24&15]+u[e>>20&15]+u[e>>16&15]+u[e>>12&15]+u[e>>8&15]+u[e>>4&15]+u[e&15]+u[o>>28&15]+u[o>>24&15]+u[o>>20&15]+u[o>>16&15]+u[o>>12&15]+u[o>>8&15]+u[o>>4&15]+u[o&15];return k>=256&&(b+=u[s>>28&15]+u[s>>24&15]+u[s>>20&15]+u[s>>16&15]+u[s>>12&15]+u[s>>8&15]+u[s>>4&15]+u[s&15]),k>=384&&(b+=u[h>>28&15]+u[h>>24&15]+u[h>>20&15]+u[h>>16&15]+u[h>>12&15]+u[h>>8&15]+u[h>>4&15]+u[h&15]+u[c>>28&15]+u[c>>24&15]+u[c>>20&15]+u[c>>16&15]+u[c>>12&15]+u[c>>8&15]+u[c>>4&15]+u[c&15]+u[l>>28&15]+u[l>>24&15]+u[l>>20&15]+u[l>>16&15]+u[l>>12&15]+u[l>>8&15]+u[l>>4&15]+u[l&15]+u[a>>28&15]+u[a>>24&15]+u[a>>20&15]+u[a>>16&15]+u[a>>12&15]+u[a>>8&15]+u[a>>4&15]+u[a&15]),k==512&&(b+=u[v>>28&15]+u[v>>24&15]+u[v>>20&15]+u[v>>16&15]+u[v>>12&15]+u[v>>8&15]+u[v>>4&15]+u[v&15]+u[y>>28&15]+u[y>>24&15]+u[y>>20&15]+u[y>>16&15]+u[y>>12&15]+u[y>>8&15]+u[y>>4&15]+u[y&15]+u[p>>28&15]+u[p>>24&15]+u[p>>20&15]+u[p>>16&15]+u[p>>12&15]+u[p>>8&15]+u[p>>4&15]+u[p&15]+u[w>>28&15]+u[w>>24&15]+u[w>>20&15]+u[w>>16&15]+u[w>>12&15]+u[w>>8&15]+u[w>>4&15]+u[w&15]),b};e.prototype.toString=e.prototype.hex;e.prototype.digest=function(){this.finalize();var n=this.h0h,t=this.h0l,i=this.h1h,r=this.h1l,u=this.h2h,f=this.h2l,e=this.h3h,o=this.h3l,s=this.h4h,h=this.h4l,c=this.h5h,l=this.h5l,a=this.h6h,v=this.h6l,y=this.h7h,p=this.h7l,b=this.bits,w=[n>>24&255,n>>16&255,n>>8&255,n&255,t>>24&255,t>>16&255,t>>8&255,t&255,i>>24&255,i>>16&255,i>>8&255,i&255,r>>24&255,r>>16&255,r>>8&255,r&255,u>>24&255,u>>16&255,u>>8&255,u&255,f>>24&255,f>>16&255,f>>8&255,f&255,e>>24&255,e>>16&255,e>>8&255,e&255];return b>=256&&w.push(o>>24&255,o>>16&255,o>>8&255,o&255),b>=384&&w.push(s>>24&255,s>>16&255,s>>8&255,s&255,h>>24&255,h>>16&255,h>>8&255,h&255,c>>24&255,c>>16&255,c>>8&255,c&255,l>>24&255,l>>16&255,l>>8&255,l&255),b==512&&w.push(a>>24&255,a>>16&255,a>>8&255,a&255,v>>24&255,v>>16&255,v>>8&255,v&255,y>>24&255,y>>16&255,y>>8&255,y&255,p>>24&255,p>>16&255,p>>8&255,p&255),w};e.prototype.array=e.prototype.digest;e.prototype.arrayBuffer=function(){this.finalize();var t=this.bits,i=new ArrayBuffer(t/8),n=new DataView(i);return n.setUint32(0,this.h0h),n.setUint32(4,this.h0l),n.setUint32(8,this.h1h),n.setUint32(12,this.h1l),n.setUint32(16,this.h2h),n.setUint32(20,this.h2l),n.setUint32(24,this.h3h),t>=256&&n.setUint32(28,this.h3l),t>=384&&(n.setUint32(32,this.h4h),n.setUint32(36,this.h4l),n.setUint32(40,this.h5h),n.setUint32(44,this.h5l)),t==512&&(n.setUint32(48,this.h6h),n.setUint32(52,this.h6l),n.setUint32(56,this.h7h),n.setUint32(60,this.h7l)),i};e.prototype.clone=function(){var n=new e(this.bits,!1);return this.copyTo(n),n};e.prototype.copyTo=function(n){for(var t=0,i=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"],t=0;t<i.length;++t)n[i[t]]=this[i[t]];for(t=0;t<this.blocks.length;++t)n.blocks[t]=this.blocks[t]};a.prototype=new e;a.prototype.finalize=function(){if(e.prototype.finalize.call(this),this.inner){this.inner=!1;var n=this.array();e.call(this,this.bits,this.sharedMemory);this.update(this.oKeyPad);this.update(n);e.prototype.finalize.call(this)}};a.prototype.clone=function(){var t=new a([],this.bits,!1),n;for(this.copyTo(t),t.inner=this.inner,n=0;n<this.oKeyPad.length;++n)t.oKeyPad[n]=this.oKeyPad[n];return t};o=p(512);o.sha512=o;o.sha384=p(384);o.sha512_256=p(256);o.sha512_224=p(224);o.sha512.hmac=w(512);o.sha384.hmac=w(384);o.sha512_256.hmac=w(256);o.sha512_224.hmac=w(224);it?i.exports=o:(s.sha512=o.sha512,s.sha384=o.sha384,s.sha512_256=o.sha512_256,s.sha512_224=o.sha512_224,rt&&n(function(){return o}))})()}).call(this)}).call(this,t("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:35}],33:[function(t,i,r){"use strict";(function(t){function v(n,t,i){var v=0,p=[],it=0,rt,o,st,r,u,s,e,h,ut=!1,ht=[],ct=[],c,lt=!1,l=!1,f=-1,ot;if(i=i||{},rt=i.encoding||"UTF8",c=i.numRounds||1,c!==parseInt(c,10)||1>c)throw Error("numRounds must a integer >= 1");if("SHA-1"===n)u=512,s=ft,e=ui,r=160,h=function(n){return n.slice()};else if(0===n.lastIndexOf("SHA-",0))if(s=function(t,i){return et(t,i,n)},e=function(t,i,r,u){var f,e;if("SHA-224"===n||"SHA-256"===n)f=(i+65>>>9<<4)+15,e=16;else if("SHA-384"===n||"SHA-512"===n)f=(i+129>>>10<<5)+31,e=32;else throw Error("Unexpected error in SHA-2 implementation");for(;t.length<=f;)t.push(0);for(t[i>>>5]|=128<<24-i%32,i=i+r,t[f]=i&4294967295,t[f-1]=i/4294967296|0,r=t.length,i=0;i<r;i+=e)u=et(t.slice(i,i+e),u,n);if("SHA-224"===n)t=[u[0],u[1],u[2],u[3],u[4],u[5],u[6]];else if("SHA-256"===n)t=u;else if("SHA-384"===n)t=[u[0].a,u[0].b,u[1].a,u[1].b,u[2].a,u[2].b,u[3].a,u[3].b,u[4].a,u[4].b,u[5].a,u[5].b];else if("SHA-512"===n)t=[u[0].a,u[0].b,u[1].a,u[1].b,u[2].a,u[2].b,u[3].a,u[3].b,u[4].a,u[4].b,u[5].a,u[5].b,u[6].a,u[6].b,u[7].a,u[7].b];else throw Error("Unexpected error in SHA-2 implementation");return t},h=function(n){return n.slice()},"SHA-224"===n)u=512,r=224;else if("SHA-256"===n)u=512,r=256;else if("SHA-384"===n)u=1024,r=384;else if("SHA-512"===n)u=1024,r=512;else throw Error("Chosen SHA variant is not supported");else if(0===n.lastIndexOf("SHA3-",0)||0===n.lastIndexOf("SHAKE",0)){if(ot=6,s=y,h=function(n){for(var i=[],t=0;5>t;t+=1)i[t]=n[t].slice();return i},f=1,"SHA3-224"===n)u=1152,r=224;else if("SHA3-256"===n)u=1088,r=256;else if("SHA3-384"===n)u=832,r=384;else if("SHA3-512"===n)u=576,r=512;else if("SHAKE128"===n)u=1344,r=-1,ot=31,l=!0;else if("SHAKE256"===n)u=1088,r=-1,ot=31,l=!0;else throw Error("Chosen SHA variant is not supported");e=function(n,t,i,r,f){i=u;for(var c=ot,o=[],h=i>>>5,s=0,l=t>>>5,e=0;e<l&&t>=i;e+=h)r=y(n.slice(e,e+h),r),t-=i;for(n=n.slice(e),t%=i;n.length<h;)n.push(0);for(e=t>>>3,n[e>>2]^=c<<e%4*8,n[h-1]^=2147483648,r=y(n,r);32*o.length<f;){if(n=r[s%5][s/5|0],o.push(n.b),32*o.length>=f)break;o.push(n.a);s+=1;0==64*s%i&&(y(null,r),s=0)}return o}}else throw Error("Chosen SHA variant is not supported");st=tt(t,rt,f);o=a(n);this.setHMACKey=function(t,i,h){var c;if(!0===ut)throw Error("HMAC key already set");if(!0===lt)throw Error("Cannot set HMAC key after calling update");if(!0===l)throw Error("SHAKE is not supported for HMAC");for(rt=(h||{}).encoding||"UTF8",i=tt(i,rt,f)(t),t=i.binLen,i=i.value,c=u>>>3,h=c/4-1,c<t/8&&(i=e(i,t,0,a(n),r));i.length<=h;)i.push(0);for(t=0;t<=h;t+=1)ht[t]=i[t]^909522486,ct[t]=i[t]^1549556828;o=s(ht,o);v=u;ut=!0};this.update=function(n){var t,f,i,r=0,e=u>>>5;for(t=st(n,p,it),n=t.binLen,f=t.value,t=n>>>5,i=0;i<t;i+=e)r+u<=n&&(o=s(f.slice(i,i+e),o),r+=u);v+=r;p=f.slice(r>>>5);it=n%u;lt=!0};this.getHash=function(t,i){var u,y,tt,s;if(!0===ut)throw Error("Cannot call getHash after setting HMAC key");if(tt=nt(i),!0===l){if(-1===tt.shakeLen)throw Error("shakeLen must be specified in options");r=tt.shakeLen}switch(t){case"HEX":u=function(n){return w(n,r,f,tt)};break;case"B64":u=function(n){return b(n,r,f,tt)};break;case"BYTES":u=function(n){return k(n,r,f)};break;case"ARRAYBUFFER":try{y=new ArrayBuffer(0)}catch(rt){throw Error("ARRAYBUFFER not supported by this environment");}u=function(n){return d(n,r,f)};break;case"UINT8ARRAY":try{y=new Uint8Array(0)}catch(rt){throw Error("UINT8ARRAY not supported by this environment");}u=function(n){return g(n,r,f)};break;default:throw Error("format must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY");}for(s=e(p.slice(),it,v,h(o),r),y=1;y<c;y+=1)!0===l&&0!=r%32&&(s[s.length-1]&=16777215>>>24-r%32),s=e(s,r,0,a(n),r);return u(s)};this.getHMAC=function(t,i){var c,tt,y,l;if(!1===ut)throw Error("Cannot call getHMAC without first setting HMAC key");y=nt(i);switch(t){case"HEX":c=function(n){return w(n,r,f,y)};break;case"B64":c=function(n){return b(n,r,f,y)};break;case"BYTES":c=function(n){return k(n,r,f)};break;case"ARRAYBUFFER":try{c=new ArrayBuffer(0)}catch(rt){throw Error("ARRAYBUFFER not supported by this environment");}c=function(n){return d(n,r,f)};break;case"UINT8ARRAY":try{c=new Uint8Array(0)}catch(rt){throw Error("UINT8ARRAY not supported by this environment");}c=function(n){return g(n,r,f)};break;default:throw Error("outputFormat must be HEX, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY");}return tt=e(p.slice(),it,v,h(o),r),l=s(ct,a(n)),l=e(tt,r,u,l,r),c(l)}}function u(n,t){this.a=n;this.b=t}function p(n,t,i,r){var u,o,f,e,s;for(t=t||[0],i=i||0,o=i>>>3,s=-1===r?3:0,u=0;u<n.length;u+=1)e=u+o,f=e>>>2,t.length<=f&&t.push(0),t[f]|=n[u]<<8*(s+e%4*r);return{value:t,binLen:8*n.length+i}}function w(n,t,i,r){var f="",u,e,o;for(t/=8,o=-1===i?3:0,u=0;u<t;u+=1)e=n[u>>>2]>>>8*(o+u%4*i),f+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(e&15);return r.outputUpper?f.toUpperCase():f}function b(n,t,i,r){for(var h="",s=t/8,f,e,o=-1===i?3:0,u=0;u<s;u+=3)for(f=u+1<s?n[u+1>>>2]:0,e=u+2<s?n[u+2>>>2]:0,e=(n[u>>>2]>>>8*(o+u%4*i)&255)<<16|(f>>>8*(o+(u+1)%4*i)&255)<<8|e>>>8*(o+(u+2)%4*i)&255,f=0;4>f;f+=1)h+=8*u+6*f<=t?"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e>>>6*(3-f)&63):r.b64Pad;return h}function k(n,t,i){var u="",r,f,e;for(t/=8,e=-1===i?3:0,r=0;r<t;r+=1)f=n[r>>>2]>>>8*(e+r%4*i)&255,u+=String.fromCharCode(f);return u}function d(n,t,i){t/=8;var r,u=new ArrayBuffer(t),f,e;for(e=new Uint8Array(u),f=-1===i?3:0,r=0;r<t;r+=1)e[r]=n[r>>>2]>>>8*(f+r%4*i)&255;return u}function g(n,t,i){t/=8;for(var u=new Uint8Array(t),f=-1===i?3:0,r=0;r<t;r+=1)u[r]=n[r>>>2]>>>8*(f+r%4*i)&255;return u}function nt(n){var t={outputUpper:!1,b64Pad:"=",shakeLen:-1};if(n=n||{},t.outputUpper=n.outputUpper||!1,!0===n.hasOwnProperty("b64Pad")&&(t.b64Pad=n.b64Pad),!0===n.hasOwnProperty("shakeLen")){if(0!=n.shakeLen%8)throw Error("shakeLen must be a multiple of 8");t.shakeLen=n.shakeLen}if("boolean"!=typeof t.outputUpper)throw Error("Invalid outputUpper formatting option");if("string"!=typeof t.b64Pad)throw Error("Invalid b64Pad formatting option");return t}function tt(n,t,i){switch(t){case"UTF8":case"UTF16BE":case"UTF16LE":break;default:throw Error("encoding must be UTF8, UTF16BE, or UTF16LE");}switch(n){case"HEX":n=function(n,t,r){var f=n.length,u,e,o,s,h,c;if(0!=f%2)throw Error("String of HEX type must be in byte increments");for(t=t||[0],r=r||0,h=r>>>3,c=-1===i?3:0,u=0;u<f;u+=2){if(e=parseInt(n.substr(u,2),16),isNaN(e))throw Error("String of HEX type contains invalid characters");for(s=(u>>>1)+h,o=s>>>2;t.length<=o;)t.push(0);t[o]|=e<<8*(c+s%4*i)}return{value:t,binLen:4*f+r}};break;case"TEXT":n=function(n,r,u){var f,e,l=0,o,s,v,h,c,a;if(r=r||[0],u=u||0,v=u>>>3,"UTF8"===t)for(a=-1===i?3:0,o=0;o<n.length;o+=1)for(f=n.charCodeAt(o),e=[],128>f?e.push(f):2048>f?(e.push(192|f>>>6),e.push(128|f&63)):55296>f||57344<=f?e.push(224|f>>>12,128|f>>>6&63,128|f&63):(o+=1,f=65536+((f&1023)<<10|n.charCodeAt(o)&1023),e.push(240|f>>>18,128|f>>>12&63,128|f>>>6&63,128|f&63)),s=0;s<e.length;s+=1){for(c=l+v,h=c>>>2;r.length<=h;)r.push(0);r[h]|=e[s]<<8*(a+c%4*i);l+=1}else if("UTF16BE"===t||"UTF16LE"===t)for(a=-1===i?2:0,e="UTF16LE"===t&&1!==i||"UTF16LE"!==t&&1===i,o=0;o<n.length;o+=1){for(f=n.charCodeAt(o),!0===e&&(s=f&255,f=s<<8|f>>>8),c=l+v,h=c>>>2;r.length<=h;)r.push(0);r[h]|=f<<8*(a+c%4*i);l+=2}return{value:r,binLen:8*l+u}};break;case"B64":n=function(n,t,r){var s=0,e,f,u,h,o,l,c,a;if(-1===n.search(/^[a-zA-Z0-9=+\/]+$/))throw Error("Invalid character in base-64 string");if(f=n.indexOf("="),n=n.replace(/\=/g,""),-1!==f&&f<n.length)throw Error("Invalid '=' found in base-64 string");for(t=t||[0],r=r||0,l=r>>>3,a=-1===i?3:0,f=0;f<n.length;f+=4){for(o=n.substr(f,4),u=h=0;u<o.length;u+=1)e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(o.charAt(u)),h|=e<<18-6*u;for(u=0;u<o.length-1;u+=1){for(c=s+l,e=c>>>2;t.length<=e;)t.push(0);t[e]|=(h>>>16-8*u&255)<<8*(a+c%4*i);s+=1}}return{value:t,binLen:8*s+r}};break;case"BYTES":n=function(n,t,r){var o,u,s,f,e,h;for(t=t||[0],r=r||0,s=r>>>3,h=-1===i?3:0,u=0;u<n.length;u+=1)o=n.charCodeAt(u),e=u+s,f=e>>>2,t.length<=f&&t.push(0),t[f]|=o<<8*(h+e%4*i);return{value:t,binLen:8*n.length+r}};break;case"ARRAYBUFFER":try{n=new ArrayBuffer(0)}catch(r){throw Error("ARRAYBUFFER not supported by this environment");}n=function(n,t,r){return p(new Uint8Array(n),t,r,i)};break;case"UINT8ARRAY":try{n=new Uint8Array(0)}catch(r){throw Error("UINT8ARRAY not supported by this environment");}n=function(n,t,r){return p(n,t,r,i)};break;default:throw Error("format must be HEX, TEXT, B64, BYTES, ARRAYBUFFER, or UINT8ARRAY");}return n}function s(n,t){return n<<t|n>>>32-t}function it(n,t){return 32<t?(t-=32,new u(n.b<<t|n.a>>>32-t,n.a<<t|n.b>>>32-t)):0!==t?new u(n.a<<t|n.b>>>32-t,n.b<<t|n.a>>>32-t):n}function e(n,t){return n>>>t|n<<32-t}function o(n,t){var i=null,i=new u(n.a,n.b);return 32>=t?new u(i.a>>>t|i.b<<32-t&4294967295,i.b>>>t|i.a<<32-t&4294967295):new u(i.b>>>t-32|i.a<<64-t&4294967295,i.a>>>t-32|i.b<<64-t&4294967295)}function rt(n,t){return 32>=t?new u(n.a>>>t,n.b>>>t|n.a<<32-t&4294967295):new u(0,n.a>>>t-32)}function ct(n,t,i){return n&t^~n&i}function lt(n,t,i){return new u(n.a&t.a^~n.a&i.a,n.b&t.b^~n.b&i.b)}function ut(n,t,i){return n&t^n&i^t&i}function at(n,t,i){return new u(n.a&t.a^n.a&i.a^t.a&i.a,n.b&t.b^n.b&i.b^t.b&i.b)}function vt(n){return e(n,2)^e(n,13)^e(n,22)}function yt(n){var t=o(n,28),i=o(n,34);return n=o(n,39),new u(t.a^i.a^n.a,t.b^i.b^n.b)}function pt(n){return e(n,6)^e(n,11)^e(n,25)}function wt(n){var t=o(n,14),i=o(n,18);return n=o(n,41),new u(t.a^i.a^n.a,t.b^i.b^n.b)}function bt(n){return e(n,7)^e(n,18)^n>>>3}function kt(n){var t=o(n,1),i=o(n,8);return n=rt(n,7),new u(t.a^i.a^n.a,t.b^i.b^n.b)}function dt(n){return e(n,17)^e(n,19)^n>>>10}function gt(n){var t=o(n,19),i=o(n,61);return n=rt(n,6),new u(t.a^i.a^n.a,t.b^i.b^n.b)}function h(n,t){var i=(n&65535)+(t&65535);return((n>>>16)+(t>>>16)+(i>>>16)&65535)<<16|i&65535}function ni(n,t,i,r){var u=(n&65535)+(t&65535)+(i&65535)+(r&65535);return((n>>>16)+(t>>>16)+(i>>>16)+(r>>>16)+(u>>>16)&65535)<<16|u&65535}function c(n,t,i,r,u){var f=(n&65535)+(t&65535)+(i&65535)+(r&65535)+(u&65535);return((n>>>16)+(t>>>16)+(i>>>16)+(r>>>16)+(u>>>16)+(f>>>16)&65535)<<16|f&65535}function ti(n,t){var i,r,f;return i=(n.b&65535)+(t.b&65535),r=(n.b>>>16)+(t.b>>>16)+(i>>>16),f=(r&65535)<<16|i&65535,i=(n.a&65535)+(t.a&65535)+(r>>>16),r=(n.a>>>16)+(t.a>>>16)+(i>>>16),new u((r&65535)<<16|i&65535,f)}function ii(n,t,i,r){var f,e,o;return f=(n.b&65535)+(t.b&65535)+(i.b&65535)+(r.b&65535),e=(n.b>>>16)+(t.b>>>16)+(i.b>>>16)+(r.b>>>16)+(f>>>16),o=(e&65535)<<16|f&65535,f=(n.a&65535)+(t.a&65535)+(i.a&65535)+(r.a&65535)+(e>>>16),e=(n.a>>>16)+(t.a>>>16)+(i.a>>>16)+(r.a>>>16)+(f>>>16),new u((e&65535)<<16|f&65535,o)}function ri(n,t,i,r,f){var e,o,s;return e=(n.b&65535)+(t.b&65535)+(i.b&65535)+(r.b&65535)+(f.b&65535),o=(n.b>>>16)+(t.b>>>16)+(i.b>>>16)+(r.b>>>16)+(f.b>>>16)+(e>>>16),s=(o&65535)<<16|e&65535,e=(n.a&65535)+(t.a&65535)+(i.a&65535)+(r.a&65535)+(f.a&65535)+(o>>>16),o=(n.a>>>16)+(t.a>>>16)+(i.a>>>16)+(r.a>>>16)+(f.a>>>16)+(e>>>16),new u((o&65535)<<16|e&65535,s)}function l(n,t){return new u(n.a^t.a,n.b^t.b)}function a(n){var t=[],i;if("SHA-1"===n)t=[1732584193,4023233417,2562383102,271733878,3285377520];else if(0===n.lastIndexOf("SHA-",0))switch(t=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],n){case"SHA-224":break;case"SHA-256":t=i;break;case"SHA-384":t=[new u(3418070365,t[0]),new u(1654270250,t[1]),new u(2438529370,t[2]),new u(355462360,t[3]),new u(1731405415,t[4]),new u(41048885895,t[5]),new u(3675008525,t[6]),new u(1203062813,t[7])];break;case"SHA-512":t=[new u(i[0],4089235720),new u(i[1],2227873595),new u(i[2],4271175723),new u(i[3],1595750129),new u(i[4],2917565137),new u(i[5],725511199),new u(i[6],4215389547),new u(i[7],327033209)];break;default:throw Error("Unknown SHA variant");}else if(0===n.lastIndexOf("SHA3-",0)||0===n.lastIndexOf("SHAKE",0))for(n=0;5>n;n+=1)t[n]=[new u(0,0),new u(0,0),new u(0,0),new u(0,0),new u(0,0)];else throw Error("No SHA variants supported");return t}function ft(n,t){var r=[],f,u,e,o,l,a,i;for(f=t[0],u=t[1],e=t[2],o=t[3],l=t[4],i=0;80>i;i+=1)r[i]=16>i?n[i]:s(r[i-3]^r[i-8]^r[i-14]^r[i-16],1),a=20>i?c(s(f,5),u&e^~u&o,l,1518500249,r[i]):40>i?c(s(f,5),u^e^o,l,1859775393,r[i]):60>i?c(s(f,5),ut(u,e,o),l,2400959708,r[i]):c(s(f,5),u^e^o,l,3395469782,r[i]),l=o,o=e,e=s(u,30),u=f,f=a;return t[0]=h(f,t[0]),t[1]=h(u,t[1]),t[2]=h(e,t[2]),t[3]=h(o,t[3]),t[4]=h(l,t[4]),t}function ui(n,t,i,r){for(var u=(t+65>>>9<<4)+15;n.length<=u;)n.push(0);for(n[t>>>5]|=128<<24-t%32,t+=i,n[u]=t&4294967295,n[u-1]=t/4294967296|0,t=n.length,u=0;u<t;u+=16)r=ft(n.slice(u,u+16),r);return r}function et(n,t,i){var a,v,b,l,y,p,k,w,o,d,r,g,e,nt,tt,it,rt,ft,et,st,ht,ui,s=[],fi;if("SHA-224"===i||"SHA-256"===i)d=64,g=1,ui=Number,e=h,nt=ni,tt=c,it=bt,rt=dt,ft=vt,et=pt,ht=ut,st=ct,fi=f;else if("SHA-384"===i||"SHA-512"===i)d=80,g=2,ui=u,e=ti,nt=ii,tt=ri,it=kt,rt=gt,ft=yt,et=wt,ht=at,st=lt,fi=ot;else throw Error("Unexpected error in SHA-2 implementation");for(i=t[0],a=t[1],v=t[2],b=t[3],l=t[4],y=t[5],p=t[6],k=t[7],r=0;r<d;r+=1)16>r?(o=r*g,w=n.length<=o?0:n[o],o=n.length<=o+1?0:n[o+1],s[r]=new ui(w,o)):s[r]=nt(rt(s[r-2]),s[r-7],it(s[r-15]),s[r-16]),w=tt(k,et(l),st(l,y,p),fi[r],s[r]),o=e(ft(i),ht(i,a,v)),k=p,p=y,y=l,l=e(b,w),b=v,v=a,a=i,i=e(w,o);return t[0]=e(i,t[0]),t[1]=e(a,t[1]),t[2]=e(v,t[2]),t[3]=e(b,t[3]),t[4]=e(l,t[4]),t[5]=e(y,t[5]),t[6]=e(p,t[6]),t[7]=e(k,t[7]),t}function y(n,t){var e,i,r,f,o=[],s=[];if(null!==n)for(i=0;i<n.length;i+=2)t[(i>>>1)%5][(i>>>1)/5|0]=l(t[(i>>>1)%5][(i>>>1)/5|0],new u(n[i+1],n[i]));for(e=0;24>e;e+=1){for(f=a("SHA3-"),i=0;5>i;i+=1){r=t[i][0];var h=t[i][1],c=t[i][2],v=t[i][3],y=t[i][4];o[i]=new u(r.a^h.a^c.a^v.a^y.a,r.b^h.b^c.b^v.b^y.b)}for(i=0;5>i;i+=1)s[i]=l(o[(i+4)%5],it(o[(i+1)%5],1));for(i=0;5>i;i+=1)for(r=0;5>r;r+=1)t[i][r]=l(t[i][r],s[i]);for(i=0;5>i;i+=1)for(r=0;5>r;r+=1)f[r][(2*i+3*r)%5]=it(t[i][r],st[i][r]);for(i=0;5>i;i+=1)for(r=0;5>r;r+=1)t[i][r]=l(f[i][r],new u(~f[(i+1)%5][r].a&f[(i+2)%5][r].a,~f[(i+1)%5][r].b&f[(i+2)%5][r].b));t[0][0]=l(t[0][0],ht[e])}return t}var f,ot,st,ht;f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];ot=[new u(f[0],3609767458),new u(f[1],602891725),new u(f[2],3964484399),new u(f[3],2173295548),new u(f[4],4081628472),new u(f[5],3053834265),new u(f[6],2937671579),new u(f[7],3664609560),new u(f[8],2734883394),new u(f[9],1164996542),new u(f[10],1323610764),new u(f[11],3590304994),new u(f[12],4068182383),new u(f[13],991336113),new u(f[14],633803317),new u(f[15],3479774868),new u(f[16],2666613458),new u(f[17],944711139),new u(f[18],2341262773),new u(f[19],2007800933),new u(f[20],1495990901),new u(f[21],1856431235),new u(f[22],3175218132),new u(f[23],2198950837),new u(f[24],3999719339),new u(f[25],766784016),new u(f[26],2566594879),new u(f[27],3203337956),new u(f[28],1034457026),new u(f[29],2466948901),new u(f[30],3758326383),new u(f[31],168717936),new u(f[32],1188179964),new u(f[33],1546045734),new u(f[34],1522805485),new u(f[35],2643833823),new u(f[36],2343527390),new u(f[37],1014477480),new u(f[38],1206759142),new u(f[39],344077627),new u(f[40],1290863460),new u(f[41],3158454273),new u(f[42],3505952657),new u(f[43],106217008),new u(f[44],3606008344),new u(f[45],1432725776),new u(f[46],1467031594),new u(f[47],851169720),new u(f[48],3100823752),new u(f[49],1363258195),new u(f[50],3750685593),new u(f[51],3785050280),new u(f[52],3318307427),new u(f[53],3812723403),new u(f[54],2003034995),new u(f[55],3602036899),new u(f[56],1575990012),new u(f[57],1125592928),new u(f[58],2716904306),new u(f[59],442776044),new u(f[60],593698344),new u(f[61],3733110249),new u(f[62],2999351573),new u(f[63],3815920427),new u(3391569614,3928383900),new u(3515267271,566280711),new u(3940187606,3454069534),new u(4118630271,4000239992),new u(116418474,1914138554),new u(174292421,2731055270),new u(289380356,3203993006),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,2618297676),new u(1288033470,3409855158),new u(1501505948,4234509866),new u(1607167915,987167468),new u(1816402316,1246189591)];ht=[new u(0,1),new u(0,32898),new u(2147483648,32906),new u(2147483648,2147516416),new u(0,32907),new u(0,2147483649),new u(2147483648,2147516545),new u(2147483648,32777),new u(0,138),new u(0,136),new u(0,2147516425),new u(0,2147483658),new u(0,2147516555),new u(2147483648,139),new u(2147483648,32905),new u(2147483648,32771),new u(2147483648,32770),new u(2147483648,128),new u(0,32778),new u(2147483648,2147483658),new u(2147483648,2147516545),new u(2147483648,32896),new u(0,2147483649),new u(2147483648,2147516424)];st=[[0,36,3,41,18],[1,44,10,45,2],[62,6,43,15,61],[28,55,25,21,56],[27,20,39,8,14]];"function"==typeof n&&n.amd?n(function(){return v}):"undefined"!=typeof r?("undefined"!=typeof i&&i.exports&&(i.exports=v),r=v):t.jsSHA=v})(this)},{}],34:[function(n,t,i){(function(n){(function(){function ru(n,t){for(var i=-1,f=n==null?0:n.length,e=0,u=[],r;++i<f;)r=n[i],t(r,i,n)&&(u[e++]=r);return u}function uu(n,t){for(var i=-1,r=t.length,u=n.length;++i<r;)n[u+i]=t[i];return n}function fu(n,t){for(var i=-1,r=n==null?0:n.length;++i<r;)if(t(n[i],i,n))return!0;return!1}function eu(n,t){for(var i=-1,r=Array(n);++i<n;)r[i]=t(i);return r}function ou(n){return function(t){return n(t)}}function su(n,t){return n.has(t)}function hu(n,t){return n==null?undefined:n[t]}function cu(n){var i=-1,t=Array(n.size);return n.forEach(function(n,r){t[++i]=[r,n]}),t}function lu(n,t){return function(i){return n(t(i))}}function au(n){var i=-1,t=Array(n.size);return n.forEach(function(n){t[++i]=n}),t}function c(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function uf(){this.__data__=w?w(null):{};this.size=0}function ff(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function ef(n){var t=this.__data__,i;return w?(i=t[n],i===ct?undefined:i):u.call(t,n)?t[n]:undefined}function sf(n){var t=this.__data__;return w?t[n]!==undefined:u.call(t,n)}function hf(n,t){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=w&&t===undefined?ct:t,this}function e(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function cf(){this.__data__=[];this.size=0}function lf(n){var t=this.__data__,i=ot(t,n),r;return i<0?!1:(r=t.length-1,i==r?t.pop():wu.call(t,i,1),--this.size,!0)}function af(n){var t=this.__data__,i=ot(t,n);return i<0?undefined:t[i][1]}function vf(n){return ot(this.__data__,n)>-1}function yf(n,t){var i=this.__data__,r=ot(i,n);return r<0?(++this.size,i.push([n,t])):i[r][1]=t,this}function l(n){var i=-1,r=n==null?0:n.length,t;for(this.clear();++i<r;)t=n[i],this.set(t[0],t[1])}function pf(){this.size=0;this.__data__={hash:new c,map:new(p||e),string:new c}}function wf(n){var t=st(this,n)["delete"](n);return this.size-=t?1:0,t}function bf(n){return st(this,n).get(n)}function kf(n){return st(this,n).has(n)}function df(n,t){var i=st(this,n),r=i.size;return i.set(n,t),this.size+=i.size==r?0:1,this}function et(n){var t=-1,i=n==null?0:n.length;for(this.__data__=new l;++t<i;)this.add(n[t])}function gf(n){return this.__data__.set(n,ct),this}function ne(n){return this.__data__.has(n)}function s(n){var t=this.__data__=new e(n);this.size=t.size}function te(){this.__data__=new e;this.size=0}function ie(n){var t=this.__data__,i=t["delete"](n);return this.size=t.size,i}function re(n){return this.__data__.get(n)}function ue(n){return this.__data__.has(n)}function fe(n,t){var i=this.__data__,r;if(i instanceof e){if(r=i.__data__,!p||r.length<yr-1)return r.push([n,t]),this.size=++i.size,this;i=this.__data__=new l(r)}return i.set(n,t),this.size=i.size,this}function ee(n,t){var r=k(n),f=!r&&cr(n),e=!r&&!f&&ht(n),s=!r&&!f&&!e&&gt(n),h=r||f||e||s,o=h?eu(n.length,String):[],c=o.length;for(var i in n)!(t||u.call(n,i))||h&&(i=="length"||e&&(i=="offset"||i=="parent")||s&&(i=="buffer"||i=="byteLength"||i=="byteOffset")||pe(i,c))||o.push(i);return o}function ot(n,t){for(var i=n.length;i--;)if(hr(n[i][0],t))return i;return-1}function oe(n,t,i){var r=t(n);return k(n)?r:uu(r,i(n))}function b(n){return n==null?n===undefined?gr:br:h&&h in Object(n)?ye(n):de(n)}function ur(n){return d(n)&&b(n)==nt}function fr(n,t,i,r,u){return n===t?!0:n==null||t==null||!d(n)&&!d(t)?n!==n&&t!==t:se(n,t,i,r,fr,u)}function se(n,t,i,r,f,e){var l=k(n),tt=k(t),h=l?lt:o(n),c=tt?lt:o(t),p,w,b,d;h=h==nt?v:h;c=c==nt?v:c;var a=h==v,it=c==v,y=h==c;if(y&&ht(n)){if(!ht(t))return!1;l=!0;a=!1}return y&&!a?(e||(e=new s),l||gt(n)?er(n,t,i,r,f,e):ae(n,t,h,i,r,f,e)):!(i&g)&&(p=a&&u.call(n,"__wrapped__"),w=it&&u.call(t,"__wrapped__"),p||w)?(b=p?n.value():n,d=w?t.value():t,e||(e=new s),f(b,d,i,r,e)):y?(e||(e=new s),ve(n,t,i,r,f,e)):!1}function he(n){if(!vr(n)||be(n))return!1;var t=lr(n)?pu:nu;return t.test(a(n))}function ce(n){return d(n)&&ar(n.length)&&!!r[b(n)]}function le(n){var i,t;if(!ke(n))return ku(n);i=[];for(t in Object(n))u.call(n,t)&&t!="constructor"&&i.push(t);return i}function er(n,t,i,r,u,f){var y=i&g,c=n.length,p=t.length,l,e,s,v;if(c!=p&&!(y&&p>c))return!1;if(l=f.get(n),l&&f.get(t))return l==t;var o=-1,h=!0,a=i&ni?new et:undefined;for(f.set(n,t),f.set(t,n);++o<c;){if(e=n[o],s=t[o],r&&(v=y?r(s,e,o,t,n,f):r(e,s,o,n,t,f)),v!==undefined){if(v)continue;h=!1;break}if(a){if(!fu(t,function(n,t){if(!su(a,t)&&(e===n||u(e,n,i,r,f)))return a.push(t)})){h=!1;break}}else if(!(e===s||u(e,s,i,r,f))){h=!1;break}}return f["delete"](n),f["delete"](t),h}function ae(n,t,i,r,u,f,e){var o,h,s,c;switch(i){case rt:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;n=n.buffer;t=t.buffer;case ci:return n.byteLength!=t.byteLength||!f(new nr(n),new nr(t))?!1:!0;case ii:case ri:case ei:return hr(+n,+t);case ui:return n.name==t.name&&n.message==t.message;case si:case hi:return n==t+"";case tt:o=cu;case it:return(h=r&g,o||(o=au),n.size!=t.size&&!h)?!1:(s=e.get(n),s)?s==t:(r|=ni,e.set(n,t),c=er(o(n),o(t),r,u,f,e),e["delete"](n),c);case dr:if(dt)return dt.call(n)==dt.call(t)}return!1}function ve(n,t,i,r,f,e){var y=i&g,w=or(n),b=w.length,nt=or(t),tt=nt.length,s,o,k,h,p,c,l,d,a,v;if(b!=tt&&!y)return!1;for(s=b;s--;)if(o=w[s],!(y?o in t:u.call(t,o)))return!1;if(k=e.get(n),k&&e.get(t))return k==t;for(h=!0,e.set(n,t),e.set(t,n),p=y;++s<b;){if(o=w[s],c=n[o],l=t[o],r&&(d=y?r(l,c,o,t,n,e):r(c,l,o,n,t,e)),!(d===undefined?c===l||f(c,l,i,r,e):d)){h=!1;break}p||(p=o=="constructor")}return h&&!p&&(a=n.constructor,v=t.constructor,a!=v&&"constructor"in n&&"constructor"in t&&!(typeof a=="function"&&a instanceof a&&typeof v=="function"&&v instanceof v)&&(h=!1)),e["delete"](n),e["delete"](t),h}function or(n){return oe(n,to,sr)}function st(n,t){var i=n.__data__;return we(t)?i[typeof t=="string"?"string":"hash"]:i.map}function y(n,t){var i=hu(n,t);return he(i)?i:undefined}function ye(n){var r=u.call(n,h),f=n[h],t,i;try{n[h]=undefined;t=!0}catch(e){}return i=di.call(n),t&&(r?n[h]=f:delete n[h]),i}function pe(n,t){return t=t==null?ti:t,!!t&&(typeof n=="number"||tu.test(n))&&n>-1&&n%1==0&&n<t}function we(n){var t=typeof n;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?n!=="__proto__":n===null}function be(n){return!!ki&&ki in n}function ke(n){var t=n&&n.constructor,i=typeof t=="function"&&t.prototype||ut;return n===i}function de(n){return di.call(n)}function a(n){if(n!=null){try{return bi.call(n)}catch(t){}try{return n+""}catch(t){}}return""}function hr(n,t){return n===t||n!==n&&t!==t}function ge(n){return n!=null&&ar(n.length)&&!lr(n)}function no(n,t){return fr(n,t)}function lr(n){if(!vr(n))return!1;var t=b(n);return t==fi||t==wr||t==pr||t==kr}function ar(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=ti}function vr(n){var t=typeof n;return n!=null&&(t=="object"||t=="function")}function d(n){return n!=null&&typeof n=="object"}function to(n){return ge(n)?ee(n):le(n)}function io(){return[]}function ro(){return!1}var yr=200,ct="__lodash_hash_undefined__",g=1,ni=2,ti=9007199254740991,nt="[object Arguments]",lt="[object Array]",pr="[object AsyncFunction]",ii="[object Boolean]",ri="[object Date]",ui="[object Error]",fi="[object Function]",wr="[object GeneratorFunction]",tt="[object Map]",ei="[object Number]",br="[object Null]",v="[object Object]",oi="[object Promise]",kr="[object Proxy]",si="[object RegExp]",it="[object Set]",hi="[object String]",dr="[object Symbol]",gr="[object Undefined]",at="[object WeakMap]",ci="[object ArrayBuffer]",rt="[object DataView]",nu=/^\[object .+?Constructor\]$/,tu=/^(?:0|[1-9]\d*)$/,r={},sr,o,cr,k,ht,gt;r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0;r[nt]=r[lt]=r[ci]=r[ii]=r[rt]=r[ri]=r[ui]=r[fi]=r[tt]=r[ei]=r[v]=r[si]=r[it]=r[hi]=r[at]=!1;var li=typeof n=="object"&&n&&n.Object===Object&&n,iu=typeof self=="object"&&self&&self.Object===Object&&self,f=li||iu||Function("return this")(),ai=typeof i=="object"&&i&&!i.nodeType&&i,vi=ai&&typeof t=="object"&&t&&!t.nodeType&&t,yi=vi&&vi.exports===ai,vt=yi&&li.process,pi=function(){try{return vt&&vt.binding&&vt.binding("util")}catch(n){}}(),wi=pi&&pi.isTypedArray;var vu=Array.prototype,yu=Function.prototype,ut=Object.prototype,yt=f["__core-js_shared__"],bi=yu.toString,u=ut.hasOwnProperty,ki=function(){var n=/[^.]+$/.exec(yt&&yt.keys&&yt.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),di=ut.toString,pu=RegExp("^"+bi.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),gi=yi?f.Buffer:undefined,ft=f.Symbol,nr=f.Uint8Array,tr=ut.propertyIsEnumerable,wu=vu.splice,h=ft?ft.toStringTag:undefined,ir=Object.getOwnPropertySymbols,bu=gi?gi.isBuffer:undefined,ku=lu(Object.keys,Object),pt=y(f,"DataView"),p=y(f,"Map"),wt=y(f,"Promise"),bt=y(f,"Set"),kt=y(f,"WeakMap"),w=y(Object,"create"),du=a(pt),gu=a(p),nf=a(wt),tf=a(bt),rf=a(kt),rr=ft?ft.prototype:undefined,dt=rr?rr.valueOf:undefined;c.prototype.clear=uf;c.prototype["delete"]=ff;c.prototype.get=ef;c.prototype.has=sf;c.prototype.set=hf;e.prototype.clear=cf;e.prototype["delete"]=lf;e.prototype.get=af;e.prototype.has=vf;e.prototype.set=yf;l.prototype.clear=pf;l.prototype["delete"]=wf;l.prototype.get=bf;l.prototype.has=kf;l.prototype.set=df;et.prototype.add=et.prototype.push=gf;et.prototype.has=ne;s.prototype.clear=te;s.prototype["delete"]=ie;s.prototype.get=re;s.prototype.has=ue;s.prototype.set=fe;sr=ir?function(n){return n==null?[]:(n=Object(n),ru(ir(n),function(t){return tr.call(n,t)}))}:io;o=b;(pt&&o(new pt(new ArrayBuffer(1)))!=rt||p&&o(new p)!=tt||wt&&o(wt.resolve())!=oi||bt&&o(new bt)!=it||kt&&o(new kt)!=at)&&(o=function(n){var t=b(n),i=t==v?n.constructor:undefined,r=i?a(i):"";if(r)switch(r){case du:return rt;case gu:return tt;case nf:return oi;case tf:return it;case rf:return at}return t});cr=ur(function(){return arguments}())?ur:function(n){return d(n)&&u.call(n,"callee")&&!tr.call(n,"callee")};k=Array.isArray;ht=bu||ro;gt=wi?ou(wi):ce;t.exports=no}).call(this)}).call(this,typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],35:[function(n,t){function c(){throw new Error("setTimeout has not been defined");}function l(){throw new Error("clearTimeout has not been defined");}function a(n){if(r===setTimeout)return setTimeout(n,0);if((r===c||!r)&&setTimeout)return r=setTimeout,setTimeout(n,0);try{return r(n,0)}catch(t){try{return r.call(null,n,0)}catch(t){return r.call(this,n,0)}}}function p(n){if(u===clearTimeout)return clearTimeout(n);if((u===l||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(n);try{return u(n)}catch(t){try{return u.call(null,n)}catch(t){return u.call(this,n)}}}function w(){s&&o&&(s=!1,o.length?f=o.concat(f):h=-1,f.length&&v())}function v(){var t,n;if(!s){for(t=a(w),s=!0,n=f.length;n;){for(o=f,f=[];++h<n;)o&&o[h].run();h=-1;n=f.length}o=null;s=!1;p(t)}}function y(n,t){this.fun=n;this.array=t}function e(){}var i=t.exports={},r,u;(function(){try{r=typeof setTimeout=="function"?setTimeout:c}catch(n){r=c}try{u=typeof clearTimeout=="function"?clearTimeout:l}catch(n){u=l}})();var f=[],s=!1,o,h=-1;i.nextTick=function(n){var i=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)i[t-1]=arguments[t];f.push(new y(n,i));f.length!==1||s||a(v)};y.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=!0;i.env={};i.argv=[];i.version="";i.versions={};i.on=e;i.addListener=e;i.once=e;i.off=e;i.removeListener=e;i.removeAllListeners=e;i.emit=e;i.prependListener=e;i.prependOnceListener=e;i.listeners=function(){return[]};i.binding=function(){throw new Error("process.binding is not supported");};i.cwd=function(){return"/"};i.chdir=function(){throw new Error("process.chdir is not supported");};i.umask=function(){return 0}},{}],36:[function(n,t,i){function e(n,t){for(var i in n)t[i]=n[i]}function u(n,t,i){return r(n,t,i)}var f=n("buffer"),r=f.Buffer;r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=f:(e(f,i),i.Buffer=u);e(r,u);u.from=function(n,t,i){if(typeof n=="number")throw new TypeError("Argument must not be a number");return r(n,t,i)};u.alloc=function(n,t,i){if(typeof n!="number")throw new TypeError("Argument must be a number");var u=r(n);return t!==undefined?typeof i=="string"?u.fill(t,i):u.fill(t):u.fill(0),u};u.allocUnsafe=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return r(n)};u.allocUnsafeSlow=function(n){if(typeof n!="number")throw new TypeError("Argument must be a number");return f.SlowBuffer(n)}},{buffer:4}],37:[function(n,t){function e(n){try{var t=u.decode(n);return i.decode(new Uint8Array(t).buffer)}catch(r){return null}}function o(n){var t=e(n),u,i,f;return!t||!Array.isArray(t)&&t.length!=2?!1:(u=t[0],i=t[1],typeof i!="number")?!1:(f=r.crc32(u),f==i)}function s(n,t,i){return f.isValidAddress(n,t,i)}var i=n("cbor-js"),r=n("crc"),u=n("./crypto/base58"),f=n("./bip173_validator");t.exports={isValidAddress:function(n,t,i={}){return o(n)||s(n,t,i)}}},{"./bip173_validator":40,"./crypto/base58":43,"cbor-js":5,crc:30}],38:[function(n,t){const i=n("./crypto/utils"),r=4,u=58;t.exports={isValidAddress:function(n,t,i={}){const r=i?i.networkType:"prod";return this.verifyChecksum(n)},verifyChecksum:function(n){if(n.length!==u)return!1;else{const t=i.base32.b32decode(n),u=t.slice(0,t.length-r),f=i.byteArray2hexStr(t.slice(-4)).toString("HEX"),e=i.sha512_256(i.byteArray2hexStr(u)).substr(-r*2);return e===f}}}},{"./crypto/utils":51}],39:[function(n,t){function f(n,t,u){var h=u?u.networkType:"",o="bitcoincash",c=new RegExp(t.regexp),f,e=n.split(":"),s;if(e.length===1)f=n;else{if(e[0]!=="bitcoincash")return!1;f=e[1]}if(!c.test(f)||f.toLowerCase()!=f&&f.toUpperCase()!=f)return!1;s=r.base32.b32decode(f);h==="testnet"&&(o="bchtest");try{if(i.verifyChecksum(o,s,i.encodings.BECH32))return!1}catch(l){return!1}return!0}var r=n("./crypto/utils"),i=n("./crypto/bech32"),u=n("./bitcoin_validator");t.exports={isValidAddress:function(n,t,i){return f(n,t,i)||u.isValidAddress(n,t,i)}}},{"./bitcoin_validator":41,"./crypto/bech32":44,"./crypto/utils":51}],40:[function(n,t){var i=n("./crypto/bech32");t.exports={isValidAddress:function(n,t,r={}){const u=r?r.networkType:"prod",e=i.decode(n,i.encodings.BECH32);if(!e)return!1;const o=e.hrp;let f;if(u==="prod"||u==="testnet")f=t.bech32Hrp[u];else if(t.bech32Hrp)f=t.bech32Hrp.prod.concat(t.bech32Hrp.testnet);else return!1;return f.indexOf(o)===-1?!1:!0}}},{"./crypto/bech32":44}],41:[function(n,t){(function(i){(function(){function o(n){try{return u.decode(n)}catch(t){return null}}function s(n,t){switch(n){case"blake256keccak256":var u=r.blake2b256(t);return r.keccak256Checksum(i.from(u,"hex"));case"blake256":return r.blake256Checksum(t);case"keccak256":return r.keccak256Checksum(t);case"sha256":default:return r.sha256Checksum(t)}}function h(n,t){var u;t=t||{};var f=t.expectedLength||25,e=t.hashFunction||"sha256",i=o(n);if(i){if(u=i.length,u!==f)return null;if(t.regex&&!t.regex.test(n))return!1;var h=r.toHex(i.slice(u-4,u)),c=r.toHex(i.slice(0,u-4)),l=s(e,c);return h===l?r.toHex(i.slice(0,f-24)):null}return null}function c(n,t,i){const r=i?i.networkType:e;var u,f=h(n,t);if(f){if(r==="prod"||r==="testnet")u=t.addressTypes[r];else if(t.addressTypes)u=t.addressTypes.prod.concat(t.addressTypes.testnet);else return!1;return u.indexOf(f)>=0}return!1}var u=n("./crypto/base58"),f=n("./crypto/segwit_addr"),r=n("./crypto/utils"),e="prod";t.exports={isValidAddress:function(n,t,i={}){return c(n,t,i)||f.isValidAddress(n,t,i)}}}).call(this)}).call(this,n("buffer").Buffer)},{"./crypto/base58":43,"./crypto/segwit_addr":49,"./crypto/utils":51,buffer:4}],42:[function(n,t){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",r=function(n){var r=[],e=Math.floor(n.length/5),f=n.length%5,u,t;if(f!=0){for(t=0;t<5-f;t++)n+="\x00";e+=1}for(t=0;t<e;t++)r.push(i.charAt(n.charCodeAt(t*5)>>3)),r.push(i.charAt((n.charCodeAt(t*5)&7)<<2|n.charCodeAt(t*5+1)>>6)),r.push(i.charAt((n.charCodeAt(t*5+1)&63)>>1)),r.push(i.charAt((n.charCodeAt(t*5+1)&1)<<4|n.charCodeAt(t*5+2)>>4)),r.push(i.charAt((n.charCodeAt(t*5+2)&15)<<1|n.charCodeAt(t*5+3)>>7)),r.push(i.charAt((n.charCodeAt(t*5+3)&127)>>2)),r.push(i.charAt((n.charCodeAt(t*5+3)&3)<<3|n.charCodeAt(t*5+4)>>5)),r.push(i.charAt(n.charCodeAt(t*5+4)&31));for(u=0,f==1?u=6:f==2?u=4:f==3?u=3:f==4&&(u=1),t=0;t<u;t++)r.pop();for(t=0;t<u;t++)r.push("=");return r.join("")},u=function(n){for(var r,t,e=new ArrayBuffer(n.length*5/8),f=new Uint8Array(e),u=0;u<n.length/8;u++){for(r=[0,0,0,0,0,0,0,0],t=0;t<8;++t)r[t]=i.indexOf(n[u*8+t]);t=0;f[u*5+0]=r[t+0]<<3|r[t+1]>>2;f[u*5+1]=(r[t+1]&3)<<6|r[t+2]<<1|r[t+3]>>4;f[u*5+2]=(r[t+3]&15)<<4|r[t+4]>>1;f[u*5+3]=(r[t+4]&1)<<7|r[t+5]<<2|r[t+6]>>3;f[u*5+4]=(r[t+6]&7)<<5|r[t+7]}return f};t.exports={b32decode:u,b32encode:r}},{}],43:[function(n,t){for(var f,r="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u={},i=0;i<r.length;++i)u[r.charAt(i)]=i;f=r.length;t.exports={decode:function(n){var r,i,t,o,e;if(n.length===0)return[];for(t=[0],r=0;r<n.length;++r){if(o=n[r],!(o in u))throw new Error("Non-base58 character");for(i=0;i<t.length;++i)t[i]*=f;for(t[0]+=u[o],e=0,i=0;i<t.length;++i)t[i]+=e,e=t[i]>>8,t[i]&=255;while(e)t.push(e&255),e>>=8}for(r=0;n[r]==="1"&&r<n.length-1;++r)t.push(0);return t.reverse()}}},{}],44:[function(n,t){function u(n){return n==i.BECH32?1:n==i.BECH32M?734539939:null}function f(n){for(var u,i,t=1,r=0;r<n.length;++r)for(u=t>>25,t=(t&33554431)<<5^n[r],i=0;i<5;++i)u>>i&1&&(t^=s[i]);return t}function e(n){for(var i=[],t=0;t<n.length;++t)i.push(n.charCodeAt(t)>>5);for(i.push(0),t=0;t<n.length;++t)i.push(n.charCodeAt(t)&31);return i}function o(n,t,i){return f(e(n).concat(t))===u(i)}function h(n,t,i){for(var s=e(n).concat(t).concat([0,0,0,0,0,0]),h=f(s)^u(i),o=[],r=0;r<6;++r)o.push(h>>5*(5-r)&31);return o}function c(n,t,i){for(var f=t.concat(h(n,t,i)),e=n+"1",u=0;u<f.length;++u)e+=r.charAt(f[u]);return e}function l(n,t){for(var h=!1,c=!1,u,e,f,s,i=0;i<n.length;++i){if(n.charCodeAt(i)<33||n.charCodeAt(i)>126)return null;n.charCodeAt(i)>=97&&n.charCodeAt(i)<=122&&(h=!0);n.charCodeAt(i)>=65&&n.charCodeAt(i)<=90&&(c=!0)}if(h&&c||(n=n.toLowerCase(),u=n.lastIndexOf("1"),u<1||u+7>n.length||n.length>110))return null;for(e=n.substring(0,u),f=[],i=u+1;i<n.length;++i){if(s=r.indexOf(n.charAt(i)),s===-1)return null;f.push(s)}return o(e,f,t)?{hrp:e,data:f.slice(0,f.length-6)}:null}var r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",s=[996825010,642813549,513874426,1027748829,705979059];const i={BECH32:"bech32",BECH32M:"bech32m"};t.exports={decode:l,encode:c,encodings:i,verifyChecksum:o}},{}],45:[function(n,t,i){(function(n){"use strict";function t(n,r,f){if(f!==i)return n instanceof t?n:typeof n=="undefined"?u:t.parse(n);for(n=n||[];n.length&&!n[n.length-1];)--n.length;this._d=n;this._s=n.length?r||1:0}var i={},r,e,u,f,o,s;t._construct=function(n,r){return new t(n,r,i)};r=1e7;e=7;t.base=r;t.base_log10=e;u=new t([],0,i);t.ZERO=u;f=new t([1],1,i);t.ONE=f;o=new t(f._d,-1,i);t.M_ONE=o;t._0=u;t._1=f;t.small=[u,f,new t([2],1,i),new t([3],1,i),new t([4],1,i),new t([5],1,i),new t([6],1,i),new t([7],1,i),new t([8],1,i),new t([9],1,i),new t([10],1,i),new t([11],1,i),new t([12],1,i),new t([13],1,i),new t([14],1,i),new t([15],1,i),new t([16],1,i),new t([17],1,i),new t([18],1,i),new t([19],1,i),new t([20],1,i),new t([21],1,i),new t([22],1,i),new t([23],1,i),new t([24],1,i),new t([25],1,i),new t([26],1,i),new t([27],1,i),new t([28],1,i),new t([29],1,i),new t([30],1,i),new t([31],1,i),new t([32],1,i),new t([33],1,i),new t([34],1,i),new t([35],1,i),new t([36],1,i)];t.digits="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");t.prototype.toString=function(n){var r,u,i,s,o;if(n=+n||10,n<2||n>36)throw new Error("illegal radix "+n+".");if(this._s===0)return"0";if(n===10){for(r=this._s<0?"-":"",r+=this._d[this._d.length-1].toString(),u=this._d.length-2;u>=0;u--){for(i=this._d[u].toString();i.length<e;)i="0"+i;r+=i}return r}s=t.digits;n=t.small[n];for(var l=this._s,f=this.abs(),h=[],c;f._s!==0;)o=f.divRem(n),f=o[0],c=o[1],h.push(s[c.valueOf()]);return(l<0?"-":"")+h.reverse().join("")};t.radixRegex=[/^$/,/^$/,/^[01]*$/,/^[012]*$/,/^[0-3]*$/,/^[0-4]*$/,/^[0-5]*$/,/^[0-6]*$/,/^[0-7]*$/,/^[0-8]*$/,/^[0-9]*$/,/^[0-9aA]*$/,/^[0-9abAB]*$/,/^[0-9abcABC]*$/,/^[0-9a-dA-D]*$/,/^[0-9a-eA-E]*$/,/^[0-9a-fA-F]*$/,/^[0-9a-gA-G]*$/,/^[0-9a-hA-H]*$/,/^[0-9a-iA-I]*$/,/^[0-9a-jA-J]*$/,/^[0-9a-kA-K]*$/,/^[0-9a-lA-L]*$/,/^[0-9a-mA-M]*$/,/^[0-9a-nA-N]*$/,/^[0-9a-oA-O]*$/,/^[0-9a-pA-P]*$/,/^[0-9a-qA-Q]*$/,/^[0-9a-rA-R]*$/,/^[0-9a-sA-S]*$/,/^[0-9a-tA-T]*$/,/^[0-9a-uA-U]*$/,/^[0-9a-vA-V]*$/,/^[0-9a-wA-W]*$/,/^[0-9a-xA-X]*$/,/^[0-9a-yA-Y]*$/,/^[0-9a-zA-Z]*$/];t.parse=function(n,r){function y(n){return n=n.replace(/\s*[*xX]\s*10\s*(\^|\*\*)\s*/,"e"),n.replace(/^([+\-])?(\d+)\.?(\d*)[eE]([+\-]?\d+)$/,function(n,t,i,r,u){var e,o,s,f;return u=+u,e=u<0,o=i.length+u,n=(e?i:r).length,u=(u=Math.abs(u))>=n?u-n+e:0,s=new Array(u+1).join("0"),f=i+r,(t||"")+(e?f=s+f:f+=s).substr(0,o+=e?s.length:0)+(o<f.length?"."+f.substr(o):"")})}var a,h,o,v,l;if(n=n.toString(),(typeof r=="undefined"||+r==10)&&(n=y(n)),a=typeof r=="undefined"?"0[xcb]":r==16?"0x":r==8?"0c":r==2?"0b":"",h=new RegExp("^([+\\-]?)("+a+")?([0-9a-z]*)(?:\\.\\d*)?$","i").exec(n),h){var c=h[1]||"+",s=h[2]||"",f=h[3]||"";if(typeof r=="undefined")r=s==="0x"||s==="0X"?16:s==="0c"||s==="0C"?8:s==="0b"||s==="0B"?2:10;else if(r<2||r>36)throw new Error("Illegal radix "+r+".");if(r=+r,!t.radixRegex[r].test(f))throw new Error("Bad digit for radix "+r);if(f=f.replace(/^0+/,"").split(""),f.length===0)return u;if(c=c==="-"?-1:1,r==10){for(o=[];f.length>=e;)o.push(parseInt(f.splice(f.length-t.base_log10,t.base_log10).join(""),10));return o.push(parseInt(f.join(""),10)),new t(o,c,i)}for(o=u,r=t.small[r],v=t.small,l=0;l<f.length;l++)o=o.multiply(r).add(v[parseInt(f[l],36)]);return new t(o._d,c,i)}throw new Error("Invalid BigInteger format: "+n);};t.prototype.add=function(n){var u;if(this._s===0)return t(n);if(n=t(n),n._s===0)return this;if(this._s!==n._s)return n=n.negate(),this.subtract(n);var s=this._d,l=n._d,e=s.length,c=l.length,h=new Array(Math.max(e,c)+1),a=Math.min(e,c),f=0,o;for(u=0;u<a;u++)o=s[u]+l[u]+f,h[u]=o%r,f=o/r|0;for(c>e&&(s=l,e=c),u=a;f&&u<e;u++)o=s[u]+f,h[u]=o%r,f=o/r|0;for(f&&(h[u]=f);u<e;u++)h[u]=s[u];return new t(h,this._s,i)};t.prototype.negate=function(){return new t(this._d,-this._s|0,i)};t.prototype.abs=function(){return this._s<0?this.negate():this};t.prototype.subtract=function(n){var o,h,v;if(this._s===0)return t(n).negate();if(n=t(n),n._s===0)return this;if(this._s!==n._s)return n=n.negate(),this.add(n);if(o=this,this._s<0&&(o=new t(n._d,1,i),n=new t(this._d,1,i)),h=o.compareAbs(n),h===0)return u;h<0&&(v=n,n=o,o=v);for(var c=o._d,y=n._d,a=c.length,p=y.length,s=new Array(a),l=0,e,f=0;f<p;f++)e=c[f]-l-y[f],e<0?(e+=r,l=1):l=0,s[f]=e;for(f=p;f<a;f++){if(e=c[f]-l,e<0)e+=r;else{s[f++]=e;break}s[f]=e}for(;f<a;f++)s[f]=c[f];return new t(s,h,i)},function(){function n(n,u){for(var o=n._d,s=o.slice(),f=0,e;;){if(e=(o[f]||0)+1,s[f]=e%r,e<=r-1)break;++f}return new t(s,u,i)}function u(n,u){for(var s=n._d,o=s.slice(),f=0,e;;){if(e=(s[f]||0)-1,e<0)o[f]=e+r;else{o[f]=e;break}++f}return new t(o,u,i)}t.prototype.next=function(){switch(this._s){case 0:return f;case-1:return u(this,-1);default:return n(this,1)}};t.prototype.prev=function(){switch(this._s){case 0:return o;case-1:return n(this,-1);default:return u(this,1)}}}();t.prototype.compareAbs=function(n){var r,u,f,e,i;if(this===n)return 0;if(!(n instanceof t)){if(!isFinite(n))return isNaN(n)?n:-1;n=t(n)}if(this._s===0)return n._s!==0?-1:0;if(n._s===0)return 1;if(r=this._d.length,u=n._d.length,r<u)return-1;if(r>u)return 1;for(f=this._d,e=n._d,i=r-1;i>=0;i--)if(f[i]!==e[i])return f[i]<e[i]?-1:1;return 0};t.prototype.compare=function(n){if(this===n)return 0;if(n=t(n),this._s===0)return-n._s;if(this._s===n._s){var i=this.compareAbs(n);return i*this._s}return this._s};t.prototype.isUnit=function(){return this===f||this===o||this._d.length===1&&this._d[0]===1};t.prototype.multiply=function(n){var e;if(this._s===0||(n=t(n),n._s===0))return u;if(this.isUnit())return this._s<0?n.negate():n;if(n.isUnit())return n._s<0?this.negate():this;if(this===n)return this.square();for(var c=this._d.length>=n._d.length,l=(c?this:n)._d,a=(c?n:this)._d,v=l.length,y=a.length,p=v+y,o=new Array(p),f=0;f<p;f++)o[f]=0;for(f=0;f<y;f++){var h=0,w=a[f],b=v+f,s;for(e=f;e<b;e++)s=o[e]+w*l[e-f]+h,h=s/r|0,o[e]=s%r|0;h&&(s=o[e]+h,h=s/r|0,o[e]=s%r)}return new t(o,this._s*n._s,i)};t.prototype.multiplySingleDigit=function(n){var f,h,o,e;if(n===0||this._s===0)return u;if(n===1)return this;if(this._d.length===1)return(f=this._d[0]*n,f>=r)?new t([f%r|0,f/r|0],1,i):new t([f],1,i);if(n===2)return this.add(this);if(this.isUnit())return new t([n],1,i);var c=this._d,l=c.length,a=l+1,s=new Array(a);for(h=0;h<a;h++)s[h]=0;for(o=0,e=0;e<l;e++)f=n*c[e]+o,o=f/r|0,s[e]=f%r|0;return o&&(s[e]=o),new t(s,1,i)};t.prototype.square=function(){var a,v;if(this._s===0)return u;if(this.isUnit())return f;for(var l=this._d,h=l.length,o=new Array(h+h+1),c,s,e,n=0;n<h;n++)e=n*2,c=l[n]*l[n],s=c/r|0,o[e]=c%r,o[e+1]=s;for(n=0;n<h;n++){for(s=0,e=n*2+1,a=n+1;a<h;a++,e++)c=l[a]*l[n]*2+o[e]+s,s=c/r|0,o[e]=c%r;e=h+n;v=s+o[e];s=v/r|0;o[e]=v%r;o[e+1]+=s}return new t(o,1,i)};t.prototype.quotient=function(n){return this.divRem(n)[0]};t.prototype.divide=t.prototype.quotient;t.prototype.remainder=function(n){return this.divRem(n)[1]};t.prototype.divRem=function(n){var a,b;if(n=t(n),n._s===0)throw new Error("Divide by zero");if(this._s===0)return[u,u];if(n._d.length===1)return this.divRemSmall(n._s*n._d[0]);switch(this.compareAbs(n)){case 0:return[this._s===n._s?f:o,u];case-1:return[u,this]}for(var k=this._s*n._s,h=n.abs(),v=this._d,y=v.length,g=n._d.length,c=[],s,e=new t([],0,i);y;){if(e._d.unshift(v[--y]),e=new t(e._d,1,i),e.compareAbs(n)<0){c.push(0);continue}if(e._s===0)s=0;else{var p=e._d.length,w=h._d.length,l=e._d[p-1]*r+e._d[p-2],d=h._d[w-1]*r+h._d[w-2];e._d.length>h._d.length&&(l=(l+1)*r);s=Math.ceil(l/d)}do{if(a=h.multiplySingleDigit(s),a.compareAbs(e)<=0)break;s--}while(s);(c.push(s),s)&&(b=e.subtract(a),e._d=b._d.slice())}return[new t(c.reverse(),k,i),new t(e._d,this._s,i)]};t.prototype.divRemSmall=function(n){var f,v,s,c,p;if(n=+n,n===0)throw new Error("Divide by zero");if(v=n<0?-1:1,s=this._s*v,n=Math.abs(n),n<1||n>=r)throw new Error("Argument out of range");if(this._s===0)return[u,u];if(n===1||n===-1)return[s===1?this.abs():new t(this._d,s,i),u];if(this._d.length===1)return c=new t([this._d[0]/n|0],1,i),f=new t([this._d[0]%n|0],1,i),s<0&&(c=c.negate()),this._s<0&&(f=f.negate()),[c,f];for(var o=this._d.slice(),a=new Array(o.length),e=0,h=0,y=0,l;o.length;){if(e=e*r+o[o.length-1],e<n){a[y++]=0;o.pop();h=r*h+e;continue}if(l=e===0?0:e/n|0,p=n*l,h=e-p,a[y++]=l,!l){o.pop();continue}o.pop();e=h}return f=new t([h],1,i),this._s<0&&(f=f.negate()),[new t(a.reverse(),s,i),f]};t.prototype.isEven=function(){var n=this._d;return this._s===0||n.length===0||n[0]%2==0};t.prototype.isOdd=function(){return!this.isEven()};t.prototype.sign=function(){return this._s};t.prototype.isPositive=function(){return this._s>0};t.prototype.isNegative=function(){return this._s<0};t.prototype.isZero=function(){return this._s===0};t.prototype.exp10=function(n){var r;if(n=+n,n===0)return this;if(Math.abs(n)>Number(s))throw new Error("exponent too large in BigInteger.exp10");if(this._s===0)return u;if(n>0){for(r=new t(this._d.slice(),this._s,i);n>=e;n-=e)r._d.unshift(0);return n==0?r:(r._s=1,r=r.multiplySingleDigit(Math.pow(10,n)),this._s<0?r.negate():r)}if(-n>=this._d.length*e)return u;for(r=new t(this._d.slice(),this._s,i),n=-n;n>=e;n-=e)r._d.shift();return n==0?r:r.divRemSmall(Math.pow(10,n))[0]};t.prototype.pow=function(n){if(this.isUnit())return this._s>0?this:t(n).isOdd()?this:this.negate();if(n=t(n),n._s===0)return f;if(n._s<0)if(this._s===0)throw new Error("Divide by zero");else return u;if(this._s===0)return u;if(n.isUnit())return this;if(n.compareAbs(s)>0)throw new Error("exponent too large in BigInteger.pow");for(var r=this,i=f,e=t.small[2];n.isPositive();){if(n.isOdd()&&(i=i.multiply(r),n.isUnit()))return i;r=r.square();n=n.quotient(e)}return i};t.prototype.modPow=function(n,i){for(var r=f,u=this;n.isPositive();)n.isOdd()&&(r=r.multiply(u).remainder(i)),n=n.quotient(t.small[2]),n.isPositive()&&(u=u.square().remainder(i));return r};t.prototype.log=function(){var n,u,f;switch(this._s){case 0:return-Infinity;case-1:return NaN}return(n=this._d.length,n*e<30)?Math.log(this.valueOf()):(u=Math.ceil(30/e),f=this._d.slice(n-u),Math.log(new t(f,1,i).valueOf())+(n-u)*Math.log(r))};t.prototype.valueOf=function(){return parseInt(this.toString(),10)};t.prototype.toJSValue=function(){return parseInt(this.toString(),10)};t.prototype.lowVal=function(){return this._d[0]||0};s=t(2147483647);t.MAX_EXP=s,function(){function n(n){return function(i){return n.call(t(i))}}function i(n){return function(i,r){return n.call(t(i),t(r))}}function r(n){return function(i,r,u){return n.call(t(i),t(r),t(u))}}(function(){for(var f,e="toJSValue,isEven,isOdd,sign,isZero,isNegative,abs,isUnit,square,negate,isPositive,toString,next,prev,log".split(","),o="compare,remainder,divRem,subtract,add,quotient,divide,multiply,pow,compareAbs".split(","),s=["modPow"],u=0;u<e.length;u++)f=e[u],t[f]=n(t.prototype[f]);for(u=0;u<o.length;u++)f=o[u],t[f]=i(t.prototype[f]);for(u=0;u<s.length;u++)f=s[u],t[f]=r(t.prototype[f]);t.exp10=function(n,i){return t(n).exp10(i)}})()}();n.JSBigInt=t})(typeof i!="undefined"?i:this)},{}],46:[function(n,t){(function(n){(function(){"use strict";function u(n,t){return(n<<32-t|n>>>t)>>>0}function r(n,t,r,f,e,o,s,h){var c=i.sigma,l=i.u256;n[f]=n[f]+((t[c[r][h]]^l[c[r][h+1]])>>>0)+n[e]>>>0;n[s]=u(n[s]^n[f],16);n[o]=n[o]+n[s]>>>0;n[e]=u(n[e]^n[o],12);n[f]=n[f]+((t[c[r][h+1]]^l[c[r][h]])>>>0)+n[e]>>>0;n[s]=u(n[s]^n[f],8);n[o]=n[o]+n[s]>>>0;n[e]=u(n[e]^n[o],7)}function i(){this._h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];this._s=[0,0,0,0];this._block=n.allocUnsafe(64);this._blockOffset=0;this._length=[0,0];this._nullt=!1;this._zo=f;this._oo=e}i.sigma=[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],[11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4],[7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8],[9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13],[2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9],[12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11],[13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10],[6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5],[10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],[11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4],[7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8],[9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13],[2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]];i.u256=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479];i.padding=n.from([128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);i.prototype._length_carry=function(n){for(var t=0;t<n.length;++t){if(n[t]<4294967296)break;n[t]-=4294967296;n[t+1]+=1}};i.prototype.update=function(t,i){var r,u,f;for(t=n.from(t,i),r=this._block,u=0;this._blockOffset+t.length-u>=r.length;){for(f=this._blockOffset;f<r.length;)r[f++]=t[u++];this._length[0]+=r.length*8;this._length_carry(this._length);this._compress();this._blockOffset=0}while(u<t.length)r[this._blockOffset++]=t[u++];return this};var f=n.from([1]),e=n.from([129]);i.prototype._compress=function(){for(var f=i.u256,t=new Array(16),u=new Array(16),n=0;n<16;++n)u[n]=this._block.readUInt32BE(n*4);for(n=0;n<8;++n)t[n]=this._h[n]>>>0;for(n=8;n<12;++n)t[n]=(this._s[n-8]^f[n-8])>>>0;for(n=12;n<16;++n)t[n]=f[n-8];for(this._nullt||(t[12]=(t[12]^this._length[0])>>>0,t[13]=(t[13]^this._length[0])>>>0,t[14]=(t[14]^this._length[1])>>>0,t[15]=(t[15]^this._length[1])>>>0),n=0;n<14;++n)r(t,u,n,0,4,8,12,0),r(t,u,n,1,5,9,13,2),r(t,u,n,2,6,10,14,4),r(t,u,n,3,7,11,15,6),r(t,u,n,0,5,10,15,8),r(t,u,n,1,6,11,12,10),r(t,u,n,2,7,8,13,12),r(t,u,n,3,4,9,14,14);for(n=0;n<16;++n)this._h[n%8]=(this._h[n%8]^t[n])>>>0;for(n=0;n<8;++n)this._h[n]=(this._h[n]^this._s[n%4])>>>0};i.prototype._padding=function(){var r=this._length[0]+this._blockOffset*8,u=this._length[1],t;r>=4294967296&&(r-=4294967296,u+=1);t=n.allocUnsafe(8);t.writeUInt32BE(u,0);t.writeUInt32BE(r,4);this._blockOffset===55?(this._length[0]-=8,this.update(this._oo)):(this._blockOffset<55?(this._blockOffset===0&&(this._nullt=!0),this._length[0]-=(55-this._blockOffset)*8,this.update(i.padding.slice(0,55-this._blockOffset))):(this._length[0]-=(64-this._blockOffset)*8,this.update(i.padding.slice(0,64-this._blockOffset)),this._length[0]-=440,this.update(i.padding.slice(1,56)),this._nullt=!0),this.update(this._zo),this._length[0]-=8);this._length[0]-=64;this.update(t)};i.prototype.digest=function(t){var r,i;for(this._padding(),r=n.allocUnsafe(32),i=0;i<8;++i)r.writeUInt32BE(this._h[i],i*4);return r.toString(t)};t.exports=i}).call(this)}).call(this,n("buffer").Buffer)},{buffer:4}],47:[function(n,t){"use strict";function s(n,t,i){var r=n[t]+n[i],u=n[t+1]+n[i+1];r>=4294967296&&u++;n[t]=r;n[t+1]=u}function h(n,t,i,r){var u=n[t]+i,f;i<0&&(u+=4294967296);f=n[t+1]+r;u>=4294967296&&f++;n[t]=u;n[t+1]=f}function c(n,t){return n[t]^n[t+1]<<8^n[t+2]<<16^n[t+3]<<24}function u(n,t,r,u,f,o){var a=e[f],v=e[f+1],y=e[o],p=e[o+1],c,l;s(i,n,t);h(i,n,a,v);c=i[u]^i[n];l=i[u+1]^i[n+1];i[u]=l;i[u+1]=c;s(i,r,u);c=i[t]^i[r];l=i[t+1]^i[r+1];i[t]=c>>>24^l<<8;i[t+1]=l>>>24^c<<8;s(i,n,t);h(i,n,y,p);c=i[u]^i[n];l=i[u+1]^i[n+1];i[u]=c>>>16^l<<16;i[u+1]=l>>>16^c<<16;s(i,r,u);c=i[t]^i[r];l=i[t+1]^i[r+1];i[t]=l>>>31^c<<1;i[t+1]=c>>>31^l<<1}function a(n,t){for(var f=0,f=0;f<16;f++)i[f]=n.h[f],i[f+16]=l[f];for(i[24]=i[24]^n.t,i[25]=i[25]^n.t/4294967296,t&&(i[28]=~i[28],i[29]=~i[29]),f=0;f<32;f++)e[f]=c(n.b,4*f);for(f=0;f<12;f++)u(0,8,16,24,r[f*16+0],r[f*16+1]),u(2,10,18,26,r[f*16+2],r[f*16+3]),u(4,12,20,28,r[f*16+4],r[f*16+5]),u(6,14,22,30,r[f*16+6],r[f*16+7]),u(0,10,20,30,r[f*16+8],r[f*16+9]),u(2,12,22,24,r[f*16+10],r[f*16+11]),u(4,14,16,26,r[f*16+12],r[f*16+13]),u(6,8,18,28,r[f*16+14],r[f*16+15]);for(f=0;f<16;f++)n.h[f]=n.h[f]^i[f]^i[f+16]}function o(n,t,i,r){f.fill(0);this.b=new Uint8Array(128);this.h=new Uint32Array(16);this.t=0;this.c=0;this.outlen=n;f[0]=n;t&&(f[1]=t.length);f[2]=1;f[3]=1;i&&f.set(i,32);r&&f.set(r,48);for(var u=0;u<16;u++)this.h[u]=l[u]^c(f,u*4);t&&(v(this,t),this.c=128)}function v(n,t){for(var i=0;i<t.length;i++)n.c===128&&(n.t+=n.c,a(n,!1),n.c=0),n.b[n.c++]=t[i]}function y(n,t){for(n.t+=n.c;n.c<128;)n.b[n.c++]=0;a(n,!0);for(var i=0;i<n.outlen;i++)t[i]=n.h[i>>2]>>8*(i&3);return t}function p(n){for(var i="",t=0;t<n.length;t++)i+=w(n[t]);return i}function w(n){return n<16?"0"+n.toString(16):n.toString(16)}var l=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),r=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3].map(function(n){return n*2})),i=new Uint32Array(32),e=new Uint32Array(32),f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);o.prototype.update=function(n){return v(this,n),this};o.prototype.digest=function(n){var t=!n||n==="binary"||n==="hex"?new Uint8Array(this.outlen):n;return(y(this,t),n==="hex")?p(t):t};o.prototype.final=o.prototype.digest;t.exports=o},{}],48:[function(n,t){var i=n("./biginteger").JSBigInt,r=function(){function c(n){var i,t;if(n.length%2!=0)throw"Hex string has invalid length!";for(i=new Uint8Array(n.length/2),t=0;t<n.length/2;++t)i[t]=parseInt(n.slice(t*2,t*2+2),16);return i}function l(n){for(var i=[],t=0;t<n.length;++t)i.push(("0"+n[t].toString(16)).slice(-2));return i.join("")}function a(n){for(var i=new Uint8Array(n.length),t=0;t<n.length;t++)i[t]=n.charCodeAt(t);return i}function v(n){for(var i=[],t=0;t<n.length;t++)i.push(String.fromCharCode(n[t]));return i.join("")}function y(n){if(n.length<1||n.length>8)throw"Invalid input length";var t=i.ZERO,u=new i(2).pow(8),r=0;switch(9-n.length){case 1:t=t.add(n[r++]);case 2:t=t.multiply(u).add(n[r++]);case 3:t=t.multiply(u).add(n[r++]);case 4:t=t.multiply(u).add(n[r++]);case 5:t=t.multiply(u).add(n[r++]);case 6:t=t.multiply(u).add(n[r++]);case 7:t=t.multiply(u).add(n[r++]);case 8:t=t.multiply(u).add(n[r++]);break;default:throw"Impossible condition";}return t}function p(n,t){var f=new Uint8Array(t),u,r;if(t<1||t>8)throw"Invalid input length";for(u=new i(2).pow(8),r=t-1;r>=0;r--)f[r]=n.remainder(u).toJSValue(),n=n.divide(u);return f}for(var r={},o="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",u=[],e=0;e<o.length;e++)u.push(o.charCodeAt(e));var f=[0,2,3,5,6,7,9,10,11],s=u.length,t=8,n=11,h=new i(2).pow(64);return r.encode_block=function(t,i,r){var e,o,h,c;if(t.length<1||t.length>n)throw"Invalid block length: "+t.length;for(e=y(t),o=f[t.length]-1;e.compare(0)===1;)h=e.divRem(s),c=h[1],e=h[0],i[r+o]=u[c.toJSValue()],o--;return i},r.encode=function(i){var s=c(i);if(s.length===0)return"";for(var h=Math.floor(s.length/t),l=s.length%t,a=h*n+f[l],o=new Uint8Array(a),e=0;e<a;++e)o[e]=u[0];for(e=0;e<h;e++)o=r.encode_block(s.subarray(e*t,e*t+t),o,e*n);return l>0&&(o=r.encode_block(s.subarray(h*t,h*t+l),o,h*n)),v(o)},r.decode_block=function(r,e,o){var c,l,a,v,y,w;if(r.length<1||r.length>n)throw"Invalid block length: "+r.length;if(c=f.indexOf(r.length),c<=0)throw"Invalid block size";for(l=new i(0),a=new i(1),v=r.length-1;v>=0;v--){if(y=u.indexOf(r[v]),y<0)throw"Invalid symbol";if(w=a.multiply(y).add(l),w.compare(h)===1)throw"Overflow";l=w;a=a.multiply(s)}if(c<t&&new i(2).pow(8*c).compare(l)<=0)throw"Overflow 2";return e.set(p(l,c),o),e},r.decode=function(i){var c,u,e;if(i=a(i),i.length===0)return"";var o=Math.floor(i.length/n),s=i.length%n,h=f.indexOf(s);if(h<0)throw"Invalid encoded length";for(c=o*t+h,u=new Uint8Array(c),e=0;e<o;e++)u=r.decode_block(i.subarray(e*n,e*n+n),u,e*t);return s>0&&(u=r.decode_block(i.subarray(o*n,o*n+s),u,o*t)),l(u)},r}();t.exports=r},{"./biginteger":45}],49:[function(n,t){function u(n,t,i,r){for(var e,f=0,u=0,o=[],s=(1<<i)-1,h=0;h<n.length;++h){if(e=n[h],e<0||e>>t!=0)return null;for(f=f<<t|e,u+=t;u>=i;)u-=i,o.push(f>>u&s)}if(r)u>0&&o.push(f<<i-u&s);else if(u>=t||f<<i-u&s)return null;return o}function r(n,t){var e=!1,r=i.decode(t,i.encodings.BECH32),f;return(r===null&&(r=i.decode(t,i.encodings.BECH32M),e=!0),r===null||r.hrp!==n||r.data.length<1||r.data[0]>16)?null:(f=u(r.data.slice(1),5,8,!1),f===null||f.length<2||f.length>40)?null:r.data[0]===0&&f.length!==20&&f.length!==32?null:r.data[0]===0&&e?null:r.data[0]!==0&&!e?null:{version:r.data[0],program:f}}function f(n,t,f){var e=i.encodings.BECH32,o;return(t>0&&(e=i.encodings.BECH32M),o=i.encode(n,[t].concat(u(f,8,5,!0)),e),r(n,o,e)===null)?null:o}function o(n,t,i={}){var s,h,u;if(!t.bech32Hrp||t.bech32Hrp.length===0)return!1;const o=i?i.networkType:e;if(o==="prod"||o==="testnet")s=t.bech32Hrp[o];else if(t.bech32Hrp)s=t.bech32Hrp.prod.concat(t.bech32Hrp.testnet);else return!1;for(h of s)if(u=r(h,n),u)return f(h,u.version,u.program)===n.toLowerCase();return!1}var i=n("./bech32"),e="prod";t.exports={encode:f,decode:r,isValidAddress:o}},{"./bech32":44}],50:[function(n,t){(function(n,i){(function(){
/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.7.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2017
 * @license MIT
 */
function r(n,t,i){this.blocks=[];this.s=[];this.padding=t;this.outputBits=i;this.reset=!0;this.finalized=!1;this.block=0;this.start=0;this.blockCount=1600-(n<<1)>>5;this.byteCount=this.blockCount<<2;this.outputBlocks=i>>5;this.extraBytes=(i&31)>>3;for(var r=0;r<50;++r)this.s[r]=0}function g(n,t,i){r.call(this,n,t,i)}var nt,tt,p,s,v,c,w,d,l;"use strict";var h="input is invalid type",b=typeof window=="object",e=b?window:{};e.JS_SHA3_NO_WINDOW&&(b=!1);nt=!b&&typeof self=="object";tt=!e.JS_SHA3_NO_NODE_JS&&typeof n=="object"&&n.versions&&n.versions.node;tt?e=i:nt&&(e=self);var a=!e.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer!="undefined",u="0123456789abcdef".split(""),it=[4,1024,262144,67108864],f=[0,8,16,24],rt=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],ut=[224,256,384,512],k=[128,256],ft=["hex","buffer","arrayBuffer","array","digest"],et={"128":168,"256":136};(e.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(n){return Object.prototype.toString.call(n)==="[object Array]"});a&&(e.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(n){return typeof n=="object"&&n.buffer&&n.buffer.constructor===ArrayBuffer});var ot=function(n,t,i){return function(u){return new r(n,t,n).update(u)[i]()}},st=function(n,t,i){return function(u,f){return new r(n,t,f).update(u)[i]()}},ht=function(n,t,i){return function(t,r,u,f){return o["cshake"+n].update(t,r,u,f)[i]()}},ct=function(n,t,i){return function(t,r,u,f){return o["kmac"+n].update(t,r,u,f)[i]()}},y=function(n,t,i,r){for(var f,u=0;u<ft.length;++u)f=ft[u],n[f]=t(i,r,f);return n},lt=function(n,t){var i=ot(n,t,"hex");return i.create=function(){return new r(n,t,n)},i.update=function(n){return i.create().update(n)},y(i,ot,n,t)},yt=function(n,t){var i=st(n,t,"hex");return i.create=function(i){return new r(n,t,i)},i.update=function(n,t){return i.create(t).update(n)},y(i,st,n,t)},pt=function(n,t){var u=et[n],i=ht(n,t,"hex");return i.create=function(i,f,e){return f||e?new r(n,t,i).bytepad([f,e],u):o["shake"+n].create(i)},i.update=function(n,t,r,u){return i.create(t,r,u).update(n)},y(i,ht,n,t)},wt=function(n,t){var r=et[n],i=ct(n,t,"hex");return i.create=function(i,u,f){return new g(n,t,u).bytepad(["KMAC",f],r).bytepad([i],r)},i.update=function(n,t,r,u){return i.create(n,r,u).update(t)},y(i,ct,n,t)},at=[{name:"keccak",padding:[1,256,65536,16777216],bits:ut,createMethod:lt},{name:"sha3",padding:[6,1536,393216,100663296],bits:ut,createMethod:lt},{name:"shake",padding:[31,7936,2031616,520093696],bits:k,createMethod:yt},{name:"cshake",padding:it,bits:k,createMethod:pt},{name:"kmac",padding:it,bits:k,createMethod:wt}],o={},vt=[];for(p=0;p<at.length;++p)for(s=at[p],v=s.bits,c=0;c<v.length;++c)w=s.name+"_"+v[c],vt.push(w),o[w]=s.createMethod(v[c],s.padding),s.name!=="sha3"&&(d=s.name+v[c],vt.push(d),o[d]=o[w]);r.prototype.update=function(n){var v,o;if(!this.finalized){if(o=typeof n,o!=="string"){if(o==="object"){if(n===null)throw h;else if(a&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!a||!ArrayBuffer.isView(n)))throw h;}else throw h;v=!0}for(var r=this.blocks,e=this.byteCount,s=n.length,c=this.blockCount,u=0,y=this.s,t,i;u<s;){if(this.reset)for(this.reset=!1,r[0]=this.block,t=1;t<c+1;++t)r[t]=0;if(v)for(t=this.start;u<s&&t<e;++u)r[t>>2]|=n[u]<<f[t++&3];else for(t=this.start;u<s&&t<e;++u)i=n.charCodeAt(u),i<128?r[t>>2]|=i<<f[t++&3]:i<2048?(r[t>>2]|=(192|i>>6)<<f[t++&3],r[t>>2]|=(128|i&63)<<f[t++&3]):i<55296||i>=57344?(r[t>>2]|=(224|i>>12)<<f[t++&3],r[t>>2]|=(128|i>>6&63)<<f[t++&3],r[t>>2]|=(128|i&63)<<f[t++&3]):(i=65536+((i&1023)<<10|n.charCodeAt(++u)&1023),r[t>>2]|=(240|i>>18)<<f[t++&3],r[t>>2]|=(128|i>>12&63)<<f[t++&3],r[t>>2]|=(128|i>>6&63)<<f[t++&3],r[t>>2]|=(128|i&63)<<f[t++&3]);if(this.lastByteIndex=t,t>=e){for(this.start=t-e,this.block=r[c],t=0;t<c;++t)y[t]^=r[t];l(y);this.reset=!0}else this.start=t}return this}};r.prototype.encode=function(n,t){var i=n&255,u=1,r=[i];for(n=n>>8,i=n&255;i>0;)r.unshift(i),n=n>>8,i=n&255,++u;return t?r.push(u):r.unshift(u),this.update(r),r.length};r.prototype.encodeString=function(n){var u,f=typeof n,t,e,r,i;if(f!=="string"){if(f==="object"){if(n===null)throw h;else if(a&&n.constructor===ArrayBuffer)n=new Uint8Array(n);else if(!Array.isArray(n)&&(!a||!ArrayBuffer.isView(n)))throw h;}else throw h;u=!0}if(t=0,e=n.length,u)t=e;else for(r=0;r<n.length;++r)i=n.charCodeAt(r),i<128?t+=1:i<2048?t+=2:i<55296||i>=57344?t+=3:(i=65536+((i&1023)<<10|n.charCodeAt(++r)&1023),t+=4);return t+=this.encode(t*8),this.update(n),t};r.prototype.bytepad=function(n,t){for(var f,r,u=this.encode(t),i=0;i<n.length;++i)u+=this.encodeString(n[i]);return f=t-u%t,r=[],r.length=f,this.update(r),this};r.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,n=this.lastByteIndex,i=this.blockCount,r=this.s;if(t[n>>2]|=this.padding[n&3],this.lastByteIndex===this.byteCount)for(t[0]=t[i],n=1;n<i+1;++n)t[n]=0;for(t[i-1]|=2147483648,n=0;n<i;++n)r[n]^=t[n];l(r)}};r.prototype.toString=r.prototype.hex=function(){this.finalize();for(var o=this.blockCount,f=this.s,s=this.outputBlocks,e=this.extraBytes,t=0,r=0,i="",n;r<s;){for(t=0;t<o&&r<s;++t,++r)n=f[t],i+=u[n>>4&15]+u[n&15]+u[n>>12&15]+u[n>>8&15]+u[n>>20&15]+u[n>>16&15]+u[n>>28&15]+u[n>>24&15];r%o==0&&(l(f),t=0)}return e&&(n=f[t],i+=u[n>>4&15]+u[n&15],e>1&&(i+=u[n>>12&15]+u[n>>8&15]),e>2&&(i+=u[n>>20&15]+u[n>>16&15])),i};r.prototype.arrayBuffer=function(){var f;this.finalize();var e=this.blockCount,r=this.s,u=this.outputBlocks,o=this.extraBytes,n=0,t=0,s=this.outputBits>>3,i;for(i=o?new ArrayBuffer(u+1<<2):new ArrayBuffer(s),f=new Uint32Array(i);t<u;){for(n=0;n<e&&t<u;++n,++t)f[t]=r[n];t%e==0&&l(r)}return o&&(f[n]=r[n],i=i.slice(0,s)),i};r.prototype.buffer=r.prototype.arrayBuffer;r.prototype.digest=r.prototype.array=function(){this.finalize();for(var o=this.blockCount,f=this.s,s=this.outputBlocks,e=this.extraBytes,u=0,r=0,i=[],n,t;r<s;){for(u=0;u<o&&r<s;++u,++r)n=r<<2,t=f[u],i[n]=t&255,i[n+1]=t>>8&255,i[n+2]=t>>16&255,i[n+3]=t>>24&255;r%o==0&&l(f)}return e&&(n=r<<2,t=f[u],i[n]=t&255,e>1&&(i[n+1]=t>>8&255),e>2&&(i[n+2]=t>>16&255)),i};g.prototype=new r;g.prototype.finalize=function(){return this.encode(this.outputBits,!0),r.prototype.finalize.call(this)};l=function(n){for(var t,i,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,ut,ft,et,ot,st,ht,ct,lt,at,vt,yt,pt,wt,bt,kt,dt,gt,ni,ti,ii,ri,ui,fi,ei,oi,si,hi,ci,li,ai,vi,yi,pi,wi,bi,ki,di,gi,nr,tr,r=0;r<48;r+=2)u=n[0]^n[10]^n[20]^n[30]^n[40],f=n[1]^n[11]^n[21]^n[31]^n[41],e=n[2]^n[12]^n[22]^n[32]^n[42],o=n[3]^n[13]^n[23]^n[33]^n[43],s=n[4]^n[14]^n[24]^n[34]^n[44],h=n[5]^n[15]^n[25]^n[35]^n[45],c=n[6]^n[16]^n[26]^n[36]^n[46],l=n[7]^n[17]^n[27]^n[37]^n[47],a=n[8]^n[18]^n[28]^n[38]^n[48],v=n[9]^n[19]^n[29]^n[39]^n[49],t=a^(e<<1|o>>>31),i=v^(o<<1|e>>>31),n[0]^=t,n[1]^=i,n[10]^=t,n[11]^=i,n[20]^=t,n[21]^=i,n[30]^=t,n[31]^=i,n[40]^=t,n[41]^=i,t=u^(s<<1|h>>>31),i=f^(h<<1|s>>>31),n[2]^=t,n[3]^=i,n[12]^=t,n[13]^=i,n[22]^=t,n[23]^=i,n[32]^=t,n[33]^=i,n[42]^=t,n[43]^=i,t=e^(c<<1|l>>>31),i=o^(l<<1|c>>>31),n[4]^=t,n[5]^=i,n[14]^=t,n[15]^=i,n[24]^=t,n[25]^=i,n[34]^=t,n[35]^=i,n[44]^=t,n[45]^=i,t=s^(a<<1|v>>>31),i=h^(v<<1|a>>>31),n[6]^=t,n[7]^=i,n[16]^=t,n[17]^=i,n[26]^=t,n[27]^=i,n[36]^=t,n[37]^=i,n[46]^=t,n[47]^=i,t=c^(u<<1|f>>>31),i=l^(f<<1|u>>>31),n[8]^=t,n[9]^=i,n[18]^=t,n[19]^=i,n[28]^=t,n[29]^=i,n[38]^=t,n[39]^=i,n[48]^=t,n[49]^=i,y=n[0],p=n[1],fi=n[11]<<4|n[10]>>>28,ei=n[10]<<4|n[11]>>>28,st=n[20]<<3|n[21]>>>29,ht=n[21]<<3|n[20]>>>29,di=n[31]<<9|n[30]>>>23,gi=n[30]<<9|n[31]>>>23,ti=n[40]<<18|n[41]>>>14,ii=n[41]<<18|n[40]>>>14,yt=n[2]<<1|n[3]>>>31,pt=n[3]<<1|n[2]>>>31,w=n[13]<<12|n[12]>>>20,b=n[12]<<12|n[13]>>>20,oi=n[22]<<10|n[23]>>>22,si=n[23]<<10|n[22]>>>22,ct=n[33]<<13|n[32]>>>19,lt=n[32]<<13|n[33]>>>19,nr=n[42]<<2|n[43]>>>30,tr=n[43]<<2|n[42]>>>30,vi=n[5]<<30|n[4]>>>2,yi=n[4]<<30|n[5]>>>2,wt=n[14]<<6|n[15]>>>26,bt=n[15]<<6|n[14]>>>26,k=n[25]<<11|n[24]>>>21,d=n[24]<<11|n[25]>>>21,hi=n[34]<<15|n[35]>>>17,ci=n[35]<<15|n[34]>>>17,at=n[45]<<29|n[44]>>>3,vt=n[44]<<29|n[45]>>>3,ut=n[6]<<28|n[7]>>>4,ft=n[7]<<28|n[6]>>>4,pi=n[17]<<23|n[16]>>>9,wi=n[16]<<23|n[17]>>>9,kt=n[26]<<25|n[27]>>>7,dt=n[27]<<25|n[26]>>>7,g=n[36]<<21|n[37]>>>11,nt=n[37]<<21|n[36]>>>11,li=n[47]<<24|n[46]>>>8,ai=n[46]<<24|n[47]>>>8,ri=n[8]<<27|n[9]>>>5,ui=n[9]<<27|n[8]>>>5,et=n[18]<<20|n[19]>>>12,ot=n[19]<<20|n[18]>>>12,bi=n[29]<<7|n[28]>>>25,ki=n[28]<<7|n[29]>>>25,gt=n[38]<<8|n[39]>>>24,ni=n[39]<<8|n[38]>>>24,tt=n[48]<<14|n[49]>>>18,it=n[49]<<14|n[48]>>>18,n[0]=y^~w&k,n[1]=p^~b&d,n[10]=ut^~et&st,n[11]=ft^~ot&ht,n[20]=yt^~wt&kt,n[21]=pt^~bt&dt,n[30]=ri^~fi&oi,n[31]=ui^~ei&si,n[40]=vi^~pi&bi,n[41]=yi^~wi&ki,n[2]=w^~k&g,n[3]=b^~d&nt,n[12]=et^~st&ct,n[13]=ot^~ht&lt,n[22]=wt^~kt&gt,n[23]=bt^~dt&ni,n[32]=fi^~oi&hi,n[33]=ei^~si&ci,n[42]=pi^~bi&di,n[43]=wi^~ki&gi,n[4]=k^~g&tt,n[5]=d^~nt&it,n[14]=st^~ct&at,n[15]=ht^~lt&vt,n[24]=kt^~gt&ti,n[25]=dt^~ni&ii,n[34]=oi^~hi&li,n[35]=si^~ci&ai,n[44]=bi^~di&nr,n[45]=ki^~gi&tr,n[6]=g^~tt&y,n[7]=nt^~it&p,n[16]=ct^~at&ut,n[17]=lt^~vt&ft,n[26]=gt^~ti&yt,n[27]=ni^~ii&pt,n[36]=hi^~li&ri,n[37]=ci^~ai&ui,n[46]=di^~nr&vi,n[47]=gi^~tr&yi,n[8]=tt^~y&w,n[9]=it^~p&b,n[18]=at^~ut&et,n[19]=vt^~ft&ot,n[28]=ti^~yt&wt,n[29]=ii^~pt&bt,n[38]=li^~ri&fi,n[39]=ai^~ui&ei,n[48]=nr^~vi&pi,n[49]=tr^~yi&wi,n[0]^=rt[r],n[1]^=rt[r+1]};t.exports=o}).call(this)}).call(this,n("_process"),typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{_process:35}],51:[function(n,t){(function(i){(function(){function f(n,t){var i=n.toString(16);return i.length%2==1&&(i="0"+i),i.padStart(t,"0")}function v(n){return n>="A"&&n<="F"||n>="a"&&n<="f"||n>="0"&&n<="9"?1:0}function y(n){var t=0;return n>="A"&&n<="F"?t=n.charCodeAt(0)-"A".charCodeAt(0)+10:n>="a"&&n<="f"?t=n.charCodeAt(0)-"a".charCodeAt(0)+10:n>="0"&&n<="9"&&(t=n.charCodeAt(0)-"0".charCodeAt(0)),t}function e(n){var t="0123456789ABCDEF",i="";return i+=t.charAt(n>>4),i+t.charAt(n&15)}function p(n){for(var i="",t=0;t<n.length-1;t++)i+=e(n[t]);return i+e(n[t])}function w(n){for(var u=Array(),t=0,i=0,f=0,e=0,r,i=0;i<n.length;i++)r=n.charAt(i),v(r)&&(t<<=4,t+=y(r),f++,0==f%2&&(u[e++]=t,t=0));return u}var o=n("jssha"),s=n("js-sha512").sha512_256,h=n("./blake256"),r=n("./sha3").keccak256,u=n("./blake2b"),c=n("./base58"),l=n("./base32"),a=n("browserify-bignum");t.exports={numberToHex:f,toHex:function(n){for(var i="",t=0;t<n.length;t++)i+=f(n[t]);return i},sha256:function(n,t="HEX"){var i=new o("SHA-256",t);return i.update(n),i.getHash(t)},sha256x2:function(n,t="HEX"){return this.sha256(this.sha256(n,t),t)},sha256Checksum:function(n){return this.sha256(this.sha256(n)).substr(0,8)},sha512_256:function(n,t="HEX"){const r=s.create();return r.update(i.from(n,t)),r.hex().toUpperCase()},blake256:function(n){return(new h).update(n,"hex").digest("hex")},blake256Checksum:function(n){return this.blake256(this.blake256(n)).substr(0,8)},blake2b:function(n,t){return new u(t).update(i.from(n,"hex")).digest("hex")},keccak256:function(n){return r(n)},keccak256Checksum:function(n){return r(n).toString().substr(0,8)},blake2b256:function(n){return new u(32).update(i.from(n,"hex"),32).digest("hex")},base58:c.decode,byteArray2hexStr:p,hexStr2byteArray:w,bigNumberToBuffer:function(n,t){return new a(n).toBuffer({size:t,endian:"big"})},base32:l}}).call(this)}).call(this,n("buffer").Buffer)},{"./base32":42,"./base58":43,"./blake256":46,"./blake2b":47,"./sha3":50,"browserify-bignum":3,buffer:4,"js-sha512":32,jssha:33}],52:[function(n,t){var h=n("./ripple_validator"),i=n("./ethereum_validator"),r=n("./bitcoin_validator"),c=n("./ada_validator"),u=n("./monero_validator"),f=n("./nano_validator"),e=n("./siacoin_validator"),l=n("./tron_validator"),a=n("./nem_validator"),v=n("./lisk_validator"),o=n("./bch_validator"),y=n("./stellar_validator"),p=n("./eos_validator"),w=n("./tezos_validator"),b=n("./usdt_validator"),k=n("./algo_validator"),d=n("./dot_validator"),g=n("./bip173_validator"),s=[{name:"Bitcoin",symbol:"btc",addressTypes:{prod:["00","05"],testnet:["6f","c4","3c","26"]},bech32Hrp:{prod:["bc"],testnet:["tb"]},validator:r},{name:"BitcoinCash",symbol:"bch",regexp:"^[qQpP]{1}[0-9a-zA-Z]{41}$",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:o},{name:"Bitcoin SV",symbol:"bsv",regexp:"^[qQ]{1}[0-9a-zA-Z]{41}$",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:o},{name:"LiteCoin",symbol:"ltc",addressTypes:{prod:["30","05","32"],testnet:["6f","c4","3a"]},bech32Hrp:{prod:["ltc"],testnet:["tltc"]},validator:r},{name:"PeerCoin",symbol:"ppc",addressTypes:{prod:["37","75"],testnet:["6f","c4"]},validator:r},{name:"DogeCoin",symbol:"doge",addressTypes:{prod:["1e","16"],testnet:["71","c4"]},validator:r},{name:"BeaverCoin",symbol:"bvc",addressTypes:{prod:["19","05"],testnet:["6f","c4"]},validator:r},{name:"FreiCoin",symbol:"frc",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:r},{name:"ProtoShares",symbol:"pts",addressTypes:{prod:["38","05"],testnet:["6f","c4"]},validator:r},{name:"MegaCoin",symbol:"mec",addressTypes:{prod:["32","05"],testnet:["6f","c4"]},validator:r},{name:"PrimeCoin",symbol:"xpm",addressTypes:{prod:["17","53"],testnet:["6f","c4"]},validator:r},{name:"AuroraCoin",symbol:"aur",addressTypes:{prod:["17","05"],testnet:["6f","c4"]},validator:r},{name:"NameCoin",symbol:"nmc",addressTypes:{prod:["34"],testnet:[]},validator:r},{name:"BioCoin",symbol:"bio",addressTypes:{prod:["19","14"],testnet:["6f","c4"]},validator:r},{name:"GarliCoin",symbol:"grlc",addressTypes:{prod:["26","05"],testnet:["6f","c4"]},validator:r},{name:"VertCoin",symbol:"vtc",addressTypes:{prod:["0x","47","71","05"],testnet:["6f","c4"]},validator:r},{name:"BitcoinGold",symbol:"btg",addressTypes:{prod:["26","17"],testnet:["6f","c4"]},validator:r},{name:"Komodo",symbol:"kmd",addressTypes:{prod:["3c","55"],testnet:["0","5"]},validator:r},{name:"BitcoinZ",symbol:"btcz",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:r},{name:"BitcoinPrivate",symbol:"btcp",expectedLength:26,addressTypes:{prod:["1325","13af"],testnet:["1957","19e0"]},validator:r},{name:"Hush",symbol:"hush",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:r},{name:"SnowGem",symbol:"sng",expectedLength:26,addressTypes:{prod:["1c28","1c2d"],testnet:["1d25","1cba"]},validator:r},{name:"ZCash",symbol:"zec",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:r},{name:"ZClassic",symbol:"zcl",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:r},{name:"ZenCash",symbol:"zen",expectedLength:26,addressTypes:{prod:["2089","2096"],testnet:["2092","2098"]},validator:r},{name:"VoteCoin",symbol:"vot",expectedLength:26,addressTypes:{prod:["1cb8","1cbd"],testnet:["1d25","1cba"]},validator:r},{name:"Decred",symbol:"dcr",addressTypes:{prod:["073f","071a"],testnet:["0f21","0efc"]},hashFunction:"blake256",expectedLength:26,validator:r},{name:"GameCredits",symbol:"game",addressTypes:{prod:["26","05"],testnet:[]},validator:i},{name:"PIVX",symbol:"pivx",addressTypes:{prod:["1e","0d"],testnet:[]},validator:r},{name:"SolarCoin",symbol:"slr",addressTypes:{prod:["12","05"],testnet:[]},validator:r},{name:"MonaCoin",symbol:"mona",addressTypes:{prod:["32","37"],testnet:[]},validator:r},{name:"DigiByte",symbol:"dgb",addressTypes:{prod:["1e","3f"],testnet:[]},bech32Hrp:{prod:["dgb","S"],testnet:[]},validator:r},{name:"Tether",symbol:"usdt",addressTypes:{prod:["00","05"],testnet:["6f","c4"]},validator:b},{name:"Ripple",symbol:"xrp",validator:h},{name:"Dash",symbol:"dash",addressTypes:{prod:["4c","10"],testnet:["8c","13"]},validator:r},{name:"Neo",symbol:"neo",addressTypes:{prod:["17"],testnet:[]},validator:r},{name:"NeoGas",symbol:"gas",addressTypes:{prod:["17"],testnet:[]},validator:r},{name:"Qtum",symbol:"qtum",addressTypes:{prod:["3a","32"],testnet:["78","6e"]},validator:r},{name:"Waves",symbol:"waves",addressTypes:{prod:["0157"],testnet:["0154"]},expectedLength:26,hashFunction:"blake256keccak256",regex:/^[a-zA-Z0-9]{35}$/,validator:r},{name:"Ethereum",symbol:"eth",validator:i},{name:"EtherZero",symbol:"etz",validator:i},{name:"EthereumClassic",symbol:"etc",validator:i},{name:"Callisto",symbol:"clo",validator:i},{name:"Bankex",symbol:"bkx",validator:i},{name:"Cardano",symbol:"ada",bech32Hrp:{prod:["addr"],testnet:["addr"]},validator:c},{name:"Monero",symbol:"xmr",addressTypes:{prod:["18","42"],testnet:["53","63"],stagenet:["24"]},iAddressTypes:{prod:["19"],testnet:["54"],stagenet:["25"]},validator:u},{name:"Aragon",symbol:"ant",validator:i},{name:"Basic Attention Token",symbol:"bat",validator:i},{name:"Bancor",symbol:"bnt",validator:i},{name:"Civic",symbol:"cvc",validator:i},{name:"District0x",symbol:"dnt",validator:i},{name:"Gnosis",symbol:"gno",validator:i},{name:"Golem (GNT)",symbol:"gnt",validator:i},{name:"Golem",symbol:"glm",validator:i},{name:"Matchpool",symbol:"gup",validator:i},{name:"Melon",symbol:"mln",validator:i},{name:"Numeraire",symbol:"nmr",validator:i},{name:"OmiseGO",symbol:"omg",validator:i},{name:"TenX",symbol:"pay",validator:i},{name:"Ripio Credit Network",symbol:"rcn",validator:i},{name:"Augur",symbol:"rep",validator:i},{name:"iExec RLC",symbol:"rlc",validator:i},{name:"Salt",symbol:"salt",validator:i},{name:"Status",symbol:"snt",validator:i},{name:"Storj",symbol:"storj",validator:i},{name:"Swarm City",symbol:"swt",validator:i},{name:"TrueUSD",symbol:"tusd",validator:i},{name:"Wings",symbol:"wings",validator:i},{name:"0x",symbol:"zrx",validator:i},{name:"Expanse",symbol:"exp",validator:i},{name:"Viberate",symbol:"vib",validator:i},{name:"Odyssey",symbol:"ocn",validator:i},{name:"Polymath",symbol:"poly",validator:i},{name:"Storm",symbol:"storm",validator:i},{name:"Nano",symbol:"nano",validator:f},{name:"RaiBlocks",symbol:"xrb",validator:f},{name:"Siacoin",symbol:"sc",validator:e},{name:"HyperSpace",symbol:"xsc",validator:e},{name:"loki",symbol:"loki",addressTypes:{prod:["114","115","116"],testnet:[]},iAddressTypes:{prod:["115"],testnet:[]},validator:u},{name:"LBRY Credits",symbol:"lbc",addressTypes:{prod:["55"],testnet:[]},validator:r},{name:"Tron",symbol:"trx",addressTypes:{prod:[65],testnet:[160]},validator:l},{name:"Nem",symbol:"xem",validator:a},{name:"Lisk",symbol:"lsk",validator:v},{name:"Stellar",symbol:"xlm",validator:y},{name:"BTU Protocol",symbol:"btu",validator:i},{name:"Crypto.com Coin",symbol:"cro",bech32Hrp:{prod:["cro"],testnet:["tcro"]},validator:g},{name:"Multi-collateral DAI",symbol:"dai",validator:i},{name:"Enjin Coin",symbol:"enj",validator:i},{name:"HedgeTrade",symbol:"hedg",validator:i},{name:"Cred",symbol:"lba",validator:i},{name:"Chainlink",symbol:"link",validator:i},{name:"Loom Network",symbol:"loom",validator:i},{name:"Maker",symbol:"mkr",validator:i},{name:"Metal",symbol:"mtl",validator:i},{name:"Ocean Protocol",symbol:"ocean",validator:i},{name:"Quant",symbol:"qnt",validator:i},{name:"Synthetix Network",symbol:"snx",validator:i},{name:"SOLVE",symbol:"solve",validator:i},{name:"Spendcoin",symbol:"spnd",validator:i},{name:"TEMCO",symbol:"temco",validator:i},{name:"EOS",symbol:"eos",validator:p},{name:"Tezos",symbol:"xtz",validator:w},{name:"VeChain",symbol:"vet",validator:i},{name:"StormX",symbol:"stmx",validator:i},{name:"AugurV2",symbol:"repv2",validator:i},{name:"FirmaChain",symbol:"fct",validator:i},{name:"BlockTrade",symbol:"btt",validator:i},{name:"Quantum Resistant Ledger",symbol:"qrl",validator:i},{name:"Serve",symbol:"serv",validator:i},{name:"Tap",symbol:"xtp",validator:i},{name:"Compound",symbol:"comp",validator:i},{name:"Paxos",symbol:"pax",validator:i},{name:"USD Coin",symbol:"usdc",validator:i},{name:"CUSD",symbol:"cusd",validator:i},{name:"Algorand",symbol:"algo",validator:k},{name:"Polkadot",symbol:"dot",validator:d}];t.exports={getByNameOrSymbol:function(n){var t=n.toLowerCase();return s.find(function(n){return n.name.toLowerCase()===t||n.symbol.toLowerCase()===t})},getAll:function(){return s}}},{"./ada_validator":37,"./algo_validator":38,"./bch_validator":39,"./bip173_validator":40,"./bitcoin_validator":41,"./dot_validator":53,"./eos_validator":54,"./ethereum_validator":55,"./lisk_validator":56,"./monero_validator":57,"./nano_validator":58,"./nem_validator":59,"./ripple_validator":60,"./siacoin_validator":61,"./stellar_validator":62,"./tezos_validator":63,"./tron_validator":64,"./usdt_validator":65}],53:[function(n,t){const i=n("./crypto/utils"),r=[{addressLength:3,accountIndexLength:1,checkSumLength:1},{addressLength:4,accountIndexLength:2,checkSumLength:1},{addressLength:5,accountIndexLength:2,checkSumLength:2},{addressLength:6,accountIndexLength:4,checkSumLength:1},{addressLength:7,accountIndexLength:4,checkSumLength:2},{addressLength:8,accountIndexLength:4,checkSumLength:3},{addressLength:9,accountIndexLength:4,checkSumLength:4},{addressLength:10,accountIndexLength:8,checkSumLength:1},{addressLength:11,accountIndexLength:8,checkSumLength:2},{addressLength:12,accountIndexLength:8,checkSumLength:3},{addressLength:13,accountIndexLength:8,checkSumLength:4},{addressLength:14,accountIndexLength:8,checkSumLength:5},{addressLength:15,accountIndexLength:8,checkSumLength:6},{addressLength:16,accountIndexLength:8,checkSumLength:7},{addressLength:17,accountIndexLength:8,checkSumLength:8},{addressLength:34,accountIndexLength:32,checkSumLength:2},];t.exports={isValidAddress:function(n,t,i={}){const r=i?i.networkType:"prod";return this.verifyChecksum(n)},verifyChecksum:function(n){try{const f=i.base58(n),e=i.byteArray2hexStr(f.slice(0,1)),u=f.slice(1),t=r.find(n=>n.addressLength===u.length);if(!t)throw new Erorr("Invalid address length");const o=i.byteArray2hexStr(u.slice(0,t.accountIndexLength)),s=i.byteArray2hexStr(u.slice(-t.checkSumLength)),h=i.blake2b("53533538505245"+e+o,64).substr(0,t.checkSumLength*2).toUpperCase();return h==s}catch(t){return!1}}}},{"./crypto/utils":51}],54:[function(n,t){function i(n){return n.search(/^[a-z0-9.]+$/g)!==-1&&n.length===12?!0:!1}t.exports={isValidAddress:function(n,t,r){return i(n,t,r)}}},{}],55:[function(n,t){var i=n("./crypto/utils");t.exports={isValidAddress:function(n){return/^0x[0-9a-fA-F]{40}$/.test(n)?/^0x[0-9a-f]{40}$/.test(n)||/^0x?[0-9A-F]{40}$/.test(n)?!0:this.verifyChecksum(n):!1},verifyChecksum:function(n){var r,t;for(n=n.replace("0x",""),r=i.keccak256(n.toLowerCase()),t=0;t<40;t++)if(parseInt(r[t],16)>7&&n[t].toUpperCase()!==n[t]||parseInt(r[t],16)<=7&&n[t].toLowerCase()!==n[t])return!1;return!0}}},{"./crypto/utils":51}],56:[function(n,t){(function(i){(function(){var r=n("./crypto/utils"),u=new RegExp("^[0-9]{1,20}L$");t.exports={isValidAddress:function(n){return u.test(n)?this.verifyAddress(n):!1},verifyAddress:function(n){var u=n.substring(0,n.length-1),t=r.bigNumberToBuffer(u);return i.from(t).slice(0,8).equals(t)}}}).call(this)}).call(this,n("buffer").Buffer)},{"./crypto/utils":51,buffer:4}],57:[function(n,t){function o(n,t,i,r){var u=t.addressTypes,f;r=="integrated"&&(u=t.iAddressTypes);f=parseInt(n.substr(0,2),16).toString();switch(i){case"prod":return u.prod.indexOf(f)>=0;case"testnet":return u.testnet.indexOf(f)>=0;case"stagenet":return u.stagenet.indexOf(f)>=0;case"both":return u.prod.indexOf(f)>=0||u.testnet.indexOf(f)>=0||u.stagenet.indexOf(f)>=0;default:return!1}}function s(n){var i,t;if(n.length%2!=0)return null;for(i=new Uint8Array(n.length/2),t=0;t<n.length/2;++t)i[t]=parseInt(n.slice(t*2,t*2+2),16);return i}var i=n("./crypto/utils"),r=n("./crypto/cnBase58"),u="prod",f=new RegExp("^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{95}$"),e=new RegExp("^[123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz]{106}$");t.exports={isValidAddress:function(n,t,h={}){var l,c,a,v;const y=h?h.networkType:u;if(l="standard",!f.test(n))if(e.test(n))l="integrated";else return!1;return(c=r.decode(n),!c)?!1:o(c,t,y,l)?(a=c.slice(-8),v=i.keccak256Checksum(s(c.slice(0,-8))),a===v):!1}}},{"./crypto/cnBase58":48,"./crypto/utils":51}],58:[function(n,t){var i=n("./crypto/utils"),f=n("base-x"),r="13456789abcdefghijkmnopqrstuwxyz",e=f(r),u=new RegExp("^(xrb|nano)_(["+r+"]{60})$");t.exports={isValidAddress:function(n){return u.test(n)?this.verifyChecksum(n):!1},verifyChecksum:function(n){var t=e.decode(u.exec(n)[2]).slice(-37),r=i.blake2b(i.toHex(t.slice(0,-5)),5),f=i.toHex(t.slice(-5).reverse());return r===f}}},{"./crypto/utils":51,"base-x":1}],59:[function(n,t){(function(i){(function(){var r=n("./crypto/utils"),u=function(n){var t=n.toString().toUpperCase().replace(/-/g,""),u,f;return!t||t.length!==40?!1:(u=r.toHex(r.base32.b32decode(t)),f=r.keccak256Checksum(i.from(u.slice(0,42),"hex")),f===u.slice(42))};t.exports={isValidAddress:u}}).call(this)}).call(this,n("buffer").Buffer)},{"./crypto/utils":51,buffer:4}],60:[function(n,t){var i=n("./crypto/utils"),u=n("base-x"),r="rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz",f=u(r),e=new RegExp("^r["+r+"]{27,35}$");t.exports={isValidAddress:function(n){return e.test(n)?this.verifyChecksum(n):!1},verifyChecksum:function(n){var t=f.decode(n),r=i.sha256Checksum(i.toHex(t.slice(0,-4))),u=i.toHex(t.slice(-4));return r===u}}},{"./crypto/utils":51,"base-x":1}],61:[function(n,t){var i=n("./crypto/utils"),r=n("lodash.isequal");t.exports={isValidAddress:function(n){return n.length!==76?!1:this.verifyChecksum(n)},verifyChecksum:function(n){var t=n.slice(0,64),u=n.slice(64,76),f=i.blake2b(t,32).slice(0,12);return!!r(f,u)}}},{"./crypto/utils":51,"lodash.isequal":34}],62:[function(n,t){function h(n){var t=n&255,i=n>>8&255;return t<<8|i}var u=n("base-x"),f=n("crc"),i=n("./crypto/utils"),r="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",e=u(r),o=new RegExp("^["+r+"]{56}$"),s=48;t.exports={isValidAddress:function(n){return o.test(n)?this.verifyChecksum(n):!1},verifyChecksum:function(n){var t=e.decode(n),r,u;return t[0]!==s?!1:(r=i.numberToHex(h(f.crc16xmodem(t.slice(0,-2))),4),u=i.toHex(t.slice(-2)),r===u)}}},{"./crypto/utils":51,"base-x":1,crc:30}],63:[function(n,t){function f(n){let u=n.slice(0,-4),t=n.slice(-4),r=i.hexStr2byteArray(i.sha256x2(i.byteArray2hexStr(u)));if(!(t[0]^r[0]|t[1]^r[1]|t[2]^r[2]|t[3]^r[3]))return u}const r=n("./crypto/base58"),i=n("./crypto/utils"),u=new Uint8Array([6,161,159]);const e=function(n){try{let i=r.decode(n),t=f(i);return t?(t.slice(u.length),!0):!1}catch(t){return!1}};t.exports={isValidAddress:e}},{"./crypto/base58":43,"./crypto/utils":51}],64:[function(n,t){function r(n){var t;if(typeof n!="string"||n.length<=4)return!1;try{t=i.base58(n)}catch(h){return!1}var e=t.length,f=e-4,r=t.slice(f);t=t.slice(0,f);var o=i.sha256(i.byteArray2hexStr(t)),s=i.hexStr2byteArray(i.sha256(o)),u=s.slice(0,4);return r[0]===u[0]&&r[1]===u[1]&&r[2]===u[2]&&r[3]===u[3]?t:!1}function u(n,t){var i=t||"prod";return i!=="prod"&&i!=="testnet"&&(i="prod"),n.addressTypes[i][0]}var i=n("./crypto/utils");t.exports={isValidAddress:function(n,t,i){var e=i?i.networkType:"",f=r(n);return f?f.length!==21?!1:u(t,e)===f[0]:!1}}},{"./crypto/utils":51}],65:[function(n,t){function u(n,t,u){var f=i.isValidAddress(n,t,u);return f?f:r.isValidAddress(n,t,u)}var i=n("./bitcoin_validator"),r=n("./ethereum_validator");t.exports={isValidAddress:function(n,t,f){if(f){if(f.chainType==="erc20")return r.isValidAddress(n,t,f.networkType);if(f.chainType==="omni")return i.isValidAddress(n,t,f.networkType)}return u(n,t,f)}}},{"./bitcoin_validator":41,"./ethereum_validator":55}],66:[function(n,t){var i=n("./currencies"),r="bitcoin";t.exports={validate:function(n,t,u){var f=i.getByNameOrSymbol(t||r);if(f&&f.validator)return u&&typeof u=="string"?f.validator.isValidAddress(n,f,{networkType:u}):f.validator.isValidAddress(n,f,u);throw new Error("Missing validator for currency: "+t);},getCurrencies:function(){return i.getAll()},findCurrency:function(n){return i.getByNameOrSymbol(n)||null}}},{"./currencies":52}]},{},[66])(66)});
window.IR===null&&(window.IR={}),function(n){function t(t){function o(){return i=n.extend(!0,f,t||{}),e}function s(t){var r=new XMLHttpRequest;r.open(i.method,i.url,!0);r.setRequestHeader("Content-type",i.contentType);r.setRequestHeader("__RequestVerificationToken",n("[name=__RequestVerificationToken]").val());r.responseType="arraybuffer";r.onload=h;r.send(t)}function h(n){var t=n.target;t.status===200?c(t):AAT.utils.sendToLog("Exception occured: response code "+t.status)}function c(n){var t=new Blob([n.response],{type:"application/pdf"}),i=u(n);r(t,i)}function l(n,t){var i=new File([n],t,{type:"application/force-download"});r(i,t)}function r(n,t){var i=document.createElement("a"),r=window.URL.createObjectURL(n);i.href=r;i.download=t;document.body.appendChild(i);i.click();document.body.removeChild(i);window.URL.revokeObjectURL(r)}function u(n){var t=n.getAllResponseHeaders(),i=t.match(/(filename=)(\w+.\w+)/m);return i[2]}var i,f={method:"POST",contentType:"application/x-www-form-urlencoded",url:""},e={requestPdf:s,downloadCsv:l,getFilename:u};return o()}n.extend(!0,IR,{FileManager:t})}(jQuery);