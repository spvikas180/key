$(function(){$('a[href="#"]').attr("href","javascript:void(0);");$(".site-header a").click(function(){var n=$(this).attr("href");if(n=="#"||n=="javascript:void(0);")return!1});$(".site-header").click(function(){$(this).attr("tagName")!="a"&&(window.location.href='@Url.Action("Index", "Home")')});$('[data-toggle="close-modal-dialog"]').click(AAT.utils.hideModal);$("[data-toggle=wizard]").irWizard();AAT.utils.handleToggles();AAT.utils.handleCalendars("YYYY-MM-DD","D MMM YYYY");$(".logoutbutton a").click(function(){$.ajax({url:"/Home/Logout",method:"POST",success:function(n){n.Success&&n.Success==!0?(window.tokenChanged(),$.redirect("/")):$.log("Log out failed with message: "+n.Message)}})});$(document).keydown(function(n){var i,t;return n.keyCode==27?(i=$(".modal:visible"),i.length>0&&!i.hasAttr("data-ignore-esc")&&(i.modal("hide"),AAT.utils.hideModal())):n.keyCode==13&&(t=$(".modal:visible"),t.length>0&&t.find("form").length==0&&t.find(".modal-footer .btn:visible").length<=1&&(t.modal("hide"),AAT.utils.hideModal())),!0})});window.IR==null&&(window.IR={}),function(n){function t(t){function r(){return i=n.extend(!0,f,t||{}),e=new IR.MarketSummaries({timerInterval:i.constants.updateMarketSummariesInterval,getDataUrl:i.urls.getMarkerSummariesUrl,initData:i.initData.marketSummaries,marketPageUrl:i.urls.marketPageUrl,disabledTrading:i.constants.disabledTrading,extensions:i.extensions}),u}var u={},i={},f={extensions:null},e=null;return r()}n.extend(!0,IR,{LandingPage:t})}(jQuery);window.IR==null&&(window.IR={}),function(n){function t(t){function o(){e=!1}function l(){f=new IR.MarketManager({controls:{charts:{pathToImages:i.urls.chartImagesBaseUrl,stockChartDivId:"stockChartdiv",depthBarChartIdDivId:"depthBarChartdiv",depthLineChartDivId:"depthLineChartdiv"},orderBook:null,orderBookBidsTableId:"tblBids",orderBookOffersTableId:"tblOffers",candlesticks:"#showCandlesticks"},dataUrls:i.urls.marketManager,loadCompleted:function(){e=!0;u()},timerInterval:i.constants.marketOrderBookAndCharts,isConvertedPopup:i.popovers.isConvertedOrderPopup,showOrderByPrice:a,tradeHistory:{timerInterval:i.constants.marketTradeHistory,numberOfHoursInThePastToRetrieve:i.constants.tradeHistoryHours,cacheInterval:i.constants.tradeHistoryCacheIntervalSeconds},hasToUpdateHashOnCurrencyChange:!1})}function a(n,t,i){r.showOrderDetailsByPrice(n,t,i)}function u(){e&&c&&(!window.globalSupportMessageManager||window.globalSupportMessagesCountLoaded)&&(n.hideLoader(),globalCloseInitialLoader&&(clearTimeout(globalCloseInitialLoader),globalCloseInitialLoader=null))}function v(){r=new IR.OrderManager({data:i.urls.orderManager,orderCancelled:function(){o()},accountsManager:window.globalAccountsListManager,orderDetailsDialogSettings:{dialog:"#modal-order-details",data:i.urls.orderDetailsDialog,cancelButton:".btn-cancel-order",pdfButton:".btn-order-statement",rejectedTip:".rejected-tip",trades:{container:"#order-trades"},resetFlags:function(){o();n.showLoader()}}});f?r.controls.push(f):n.log("marketManager is null. Ensure you initialized it.");window.marketSummary&&r.controls.push(window.marketSummary)}function y(){var n=new IR.LastTrades({controls:{table:{container:".last-trades .trades-list"},refreshControl:".last-trades-refresh-button"},data:{getDataUrl:i.urls.getLastTradesUrl},loadCompleted:function(){c=!0;u()},getDataInterval:i.constants.getLastTradesInterval,isConvertedPopup:i.popovers.isConvertedTradePopup})}function p(){var n=new IR.TradeSound({controls:{container:".sound-control",button:".sound-button",classes:{enabled:"ir-volume-up",disabled:"ir-volume-off"}},soundSet:new IR.SoundSet(i.urls.soundFilesBaseUrl,"ogg",6,function(n){for(var t=0,i=0;i<n.length;i++)t+=parseFloat(n[i]);return t<.5?0:t<1.5?1:t<4.5?2:t<13.5?3:t<40.5?4:t>=40.5?5:void 0})})}function w(){window.currencyManager.onCurrencyChanged(function(t){var i=s(t);i!==window.location.pathname.toLowerCase()&&(history.pushState({currencyCode:t},document.title,i),h(t));n("#bitcoinPriceSection").toggle(t=="Btc")});window.onpopstate=function(n){n.state&&n.state.currencyCode&&(window.currencyManager.set(n.state.currencyCode),h(n.state.currencyCode))};window.location.hash?n.parseCurrencyPair(window.location.hash,function(n,t){history.replaceState({currencyCode:n},document.title,window.location.pathname.toLowerCase());window.currencyManager.set(n,t)},function(){if(window.location.hash.toLowerCase()==="#xbt"){window.currencyManager.set("btc");return}var n=window.currencyManager.getPrimary();history.replaceState({currencyCode:n},document.title,s(n))}):history.replaceState({currencyCode:window.currencyManager.getPrimary()},document.title,window.location.pathname.toLowerCase())}function s(n){var t=window.location.pathname.split("/")[1],i="/"+t+"/"+n;return i.toLowerCase()}function h(n){const t=document.querySelector('link[rel="canonical"]');if(t!==null){var r=i.constants.marketPageCanonicalUrlBase+"/"+n;t.href=r.toLowerCase()}}function b(){l();v();y();p();w();window.globalSupportMessagesCountLoadedEvent=u}function k(){return i=n.extend(!0,g,t||{}),b(),d}var d={},i={},g={},r,f,e=!1,c=!1;return k()}n.extend(!0,IR,{MarketPage:t})}(jQuery)