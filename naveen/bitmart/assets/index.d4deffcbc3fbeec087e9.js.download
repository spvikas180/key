(window.webpackJsonp=window.webpackJsonp||[]).push([[79,77],{1067:function(e,t,r){var content=r(1465);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("58a49d0e",content,!0,{sourceMap:!1})},1210:function(e,t,r){"use strict";r.r(t);r(69),r(14),r(39),r(26);var n={name:"SelectDialog",model:{prop:"currentSelect",event:"selectchange"},props:{currentSelect:{type:Object,default:function(){return{}}},iconKey:{type:String,default:"iconLink"},vis:{type:Boolean,default:!1},search:{type:Boolean,default:!0},title:{type:String,default:""},options:{type:Array,default:function(){return[]}},inputPlaceholder:{type:String,default:"Search"}},data:function(){return{searchKey:"",coinArr:[]}},mounted:function(){this.coinArr=this.options.slice(0),this.headerRight=getComputedStyle(document.querySelector(".header-wrap [class^=TopBar__Extra]")).paddingRight,this.wrapPaddingRight=getComputedStyle(document.querySelector(".main-layout-wrap")).paddingRight},beforeDestroy:function(){document.documentElement.style.height="auto",document.body.style.height="auto",document.documentElement.style.overflow="visible",document.body.style.overflow="visible"},methods:{searchFilter:function(){var e=this;this.coinArr=this.options.filter((function(t){return t.label.toLowerCase().includes(e.searchKey.toLowerCase())}))},selectCoin:function(e){this.$emit("selectchange",e,this.currentSelect),this.$emit("update:vis",!1)},closeDialog:function(){this.$emit("update:vis",!1)}},watch:{vis:function(e,t){e?(this.scrollWidth=window.innerWidth-document.documentElement.offsetWidth,document.querySelector(".header-wrap [class^=TopBar__Extra]").style.paddingRight=this.scrollWidth+"px",document.querySelector(".main-layout-wrap").style.paddingRight=this.scrollWidth+"px",document.documentElement.style.height="100%",document.body.style.height="100%",document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden"):(document.querySelector(".header-wrap [class^=TopBar__Extra]").style.paddingRight=this.headerRight,document.querySelector(".main-layout-wrap").style.paddingRight=this.wrapPaddingRight,document.documentElement.style.height="auto",document.body.style.height="auto",document.documentElement.style.overflow="visible",document.body.style.overflow="visible")},options:function(e){this.coinArr=e.slice(0),this.$emit("selectchange",e[0],e[0])}}},o=(r(938),r(9)),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"fade"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.vis,expression:"vis"}],staticClass:"coinSelectDialog__shadow"},[r("transition",{attrs:{name:"bounce"}},[r("div",{directives:[{name:"show",rawName:"v-show",value:e.vis,expression:"vis"}],staticClass:"coinSelectDialog"},[r("div",{staticClass:"coinSelect__titBox"},[r("h1",{staticClass:"coinSelect__tit"},[e._v(e._s(e.title))]),e._v(" "),r("span",{staticClass:"close__btn",on:{click:e.closeDialog}}),e._v(" "),e.search?r("div",{staticClass:"search__box"},[r("i",{staticClass:"el-icon-search search__icon"}),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.searchKey,expression:"searchKey"}],ref:"input",staticClass:"search__input",attrs:{type:"text",placeholder:e.inputPlaceholder},domProps:{value:e.searchKey},on:{input:[function(t){t.target.composing||(e.searchKey=t.target.value)},e.searchFilter]}})]):e._e()]),e._v(" "),r("ul",{ref:"listCoin",staticClass:"list__coin"},e._l(e.coinArr,(function(t){return r("li",{key:t.label,staticClass:"item__coin",on:{click:function(r){return e.selectCoin(t)}}},[e._t("default",(function(){return[r("img",{staticClass:"logo__coin",attrs:{src:t?t[e.iconKey]:"",alt:"logo"}}),e._v(" "),r("span",{staticClass:"label__simpleCoin"},[e._v(e._s(t?t.label:""))])]}),{data:t})],2)})),0)])])],1)])}),[],!1,null,"4bfbcd76",null);t.default=component.exports},1463:function(e,t,r){e.exports=r.p+"img/fabi.ce63665.png"},1464:function(e,t,r){"use strict";r(1067)},1465:function(e,t,r){var n=r(12)(!1);n.push([e.i,".legalTender[data-v-d238f76c]{background:#fff;padding-top:1px;width:100%;overflow:hidden}.legalTender__titleBox[data-v-d238f76c]{margin-top:132px;text-align:center}.titleBox__h1[data-v-d238f76c]{font-size:48px;font-weight:500;line-height:60px}.legalTender__dealBox[data-v-d238f76c]{background:#fff;padding-top:40px;display:grid;grid-template-columns:480px;grid-template-rows:repeat(4,auto) 72px auto;justify-content:center;position:relative;top:0;left:0}.legalTender__pause[data-v-d238f76c]{position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;background:hsla(0,0%,100%,.9);z-index:10;color:#000;justify-content:center;border-radius:8px;line-height:26px;text-align:center;font-size:18px;font-weight:500}.dealBox__tab[data-v-d238f76c],.legalTender__pause[data-v-d238f76c]{width:480px;display:flex;align-items:center}.dealBox__tab[data-v-d238f76c]{margin:0 auto}.tab__btn[data-v-d238f76c]{font-size:20px;color:#999;margin-right:16px}.tab__btn[data-v-d238f76c],.tab__transferBtn[data-v-d238f76c]{font-weight:500;cursor:pointer}.tab__transferBtn[data-v-d238f76c]{color:#13c2c2;font-size:14px;margin-left:auto}.tab__btn--active[data-v-d238f76c]{font-size:24px;color:#333}.coinSelect__title[data-v-d238f76c]{margin:24px auto 0}.amountInput__titleBox[data-v-d238f76c],.coinSelect__title[data-v-d238f76c]{font-size:14px;color:#d5d8de;font-weight:500;width:480px}.amountInput__titleBox[data-v-d238f76c]{margin:16px auto 5px;display:flex;justify-content:space-between}.coinmax[data-v-d238f76c]{font-size:12px;font-weight:500;color:#2b2e36}.maxSet__btn[data-v-d238f76c]{color:#13c2c2;font-weight:500;cursor:pointer}.legalTender__coinSelect[data-v-d238f76c]{width:480px;height:48px;border-radius:4px;margin:5px auto;padding-left:16px;box-sizing:border-box;background:#f2f2f2;cursor:pointer;display:flex;align-items:center;position:relative;top:0;left:0}.arrow__coinSelect[data-v-d238f76c]{position:absolute;right:16px}.logo__coin[data-v-d238f76c]{width:24px;height:24px;margin-right:8px}.fiat__logo[data-v-d238f76c]{width:24px;height:24px;background:#2b2e36;border-radius:50%;color:#fff;display:flex;align-items:center;justify-content:center;font-size:13px}.label__coinSelect[data-v-d238f76c]{font-size:16px;font-weight:500;margin-left:15px;color:#2b2e36}.labelFullName__coinSelect[data-v-d238f76c]{margin-left:8px;font-size:14px;font-weight:500;color:#a0a4b0}.label__currency[data-v-d238f76c]{margin-left:15px}.label__currency[data-v-d238f76c],.label__simpleCoin[data-v-d238f76c]{font-size:16px;font-weight:500;color:#2b2e36}.label__fullNameCoin[data-v-d238f76c]{font-size:14px;font-weight:500;color:#a0a4b0;margin-left:8px}.btn__currencySelect[data-v-d238f76c]{width:480px;height:72px;margin:0 auto;padding-left:16px;box-sizing:border-box;background:#f2f2f2;border-radius:4px;display:flex;cursor:pointer}.logo__currency[data-v-d238f76c]{width:110px;display:flex;align-items:center}.logo__currencyTxt[data-v-d238f76c]{font-fize:16px;font-weight:500;color:#2b2e36;margin:0 5px 0 0}.input__currency[data-v-d238f76c]{border:none;outline:none;flex-grow:1;font-size:24px;font-weight:500;color:#2b2e36;background:transparent;text-align:right;padding-right:16px;width:0}.input__currency[data-v-d238f76c]::-webkit-input-placeholder{color:#a0a4b0}.err-tip[data-v-d238f76c]{height:24px;line-height:24px;font-size:12px;color:#ff4d4f;text-align:right}.buy-btn[data-v-d238f76c]{display:block;width:480px;margin:0 auto 90px;border-radius:4px}[data-v-d238f76c] .buy-btn.is-disabled{background:#13c2c2;color:#fff}.payment__icon[data-v-d238f76c]{border-top:1px solid #f2f2f2;height:80px;display:flex;justify-content:center;align-items:center}.payment__icon img[data-v-d238f76c]{height:24px}.produceIntroduce[data-v-d238f76c]{background:#fafafa}.produceIntroduce__advantage[data-v-d238f76c]{width:1200px;margin:0 auto;padding-top:78px;display:grid;grid-template-columns:repeat(3,400px);grid-template-rows:90px 200px}.advantage__item[data-v-d238f76c]{grid-row:2/3;background:#fff;box-sizing:border-box;padding:30px}.produceIntroduce__title[data-v-d238f76c]{font-size:40px;color:#000;font-weight:500;margin-bottom:40px}.advantage__itemTitle[data-v-d238f76c]{font-size:20px;font-weight:500;color:#333;display:flex;align-items:center}.advantage__itemLogo[data-v-d238f76c]{width:24px;margin-right:10px}.advantage__con[data-v-d238f76c]{font-size:14px;color:#666;padding-left:40px;margin-top:15px;box-sizing:border-box;line-height:22px}.produceIntroduce__partner[data-v-d238f76c]{width:1200px;margin:80px auto 0;padding-bottom:100px}.partner__content[data-v-d238f76c]{display:grid;grid-template-columns:592px 592px;grid-template-rows:220px;justify-content:space-between;grid-row-gap:16px}.partner__item[data-v-d238f76c]{background:#fff;padding:30px 40px;box-sizing:border-box;position:relative;top:0;left:0}.partner__itemCon[data-v-d238f76c]{margin-top:20px;font-size:14px;color:#333;line-height:22px}.partner__itemMore[data-v-d238f76c]{color:#13c2c2;position:absolute;bottom:30px}.produceIntroduce__commonProblem[data-v-d238f76c]{width:1200px;margin:0 auto;padding-top:80px}.commonProblem__tit[data-v-d238f76c]{font-size:40px;font-weight:500;color:#111}.commonProblem__con[data-v-d238f76c]{margin-top:40px;margin-bottom:100px}.commonProblem__itemTit[data-v-d238f76c] .el-collapse-item__header{font-size:16px;color:#333;font-weight:500;height:70px;line-height:70px}@media (max-width:720px){.legalTender[data-v-d238f76c]{width:100%;height:100vh}.dialog__coinSelect[data-v-d238f76c] .coinSelectDialog{width:100%;top:auto;bottom:0;border-bottom-left-radius:0;border-bottom-right-radius:0;height:70%}.legalTender__titleBox[data-v-d238f76c]{margin-top:120px}.webview-tit-container[data-v-d238f76c]{margin-top:48px}.legalTender__dealBox[data-v-d238f76c]{grid-template-columns:100%}.titleBox__h1[data-v-d238f76c]{font-size:30px;line-height:40px}.legalTender__dealBox[data-v-d238f76c]{width:90%;margin:0 auto}.legalTender__dealBox>*[data-v-d238f76c]{width:100%}.payment__icon[data-v-d238f76c],.produceIntroduce[data-v-d238f76c],.produceIntroduce__commonProblem[data-v-d238f76c]{display:none}.buy-btn[data-v-d238f76c]{margin:24px auto}}",""]),e.exports=n},1969:function(e,t,r){"use strict";r.r(t);var n=[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"payment__icon"},[t("img",{attrs:{src:r(1463),alt:"法币"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{staticClass:"partner__itemTit"},[t("img",{attrs:{src:r(754),alt:"logo",height:"35"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{staticClass:"partner__itemTit"},[t("img",{attrs:{src:r(755),alt:"logo",height:"35"}})])}],o=(r(15),r(17),r(14),r(18),r(19),r(4)),c=r(11),l=(r(22),r(333),r(240),r(166),r(26),r(31),r(35),r(20),r(78),r(69),r(1210)),d=r(7),f=r(5),_=r.n(f),m=r(10),v=r(799),h=r(32),y=r(3),x=r(800);function w(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function T(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(t){Object(c.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var S={name:"but-sell-crypto",layout:"main",components:{SelectDialog:l.default,FiatTransfer:v.a,NativeNumInput:x.a},data:function(){return{visTransfer:!1,sellBtnLoading:!1,type:"init",coin:"",currency:"",activeNames:"",amount:"",visOneSelect:!1,visTwoSelect:!1,currOneSelect:{},currTwoSelect:{},coinArr:[],currencyArr:[],fiatJSON:h.m,currFiatLimit:null,isLogin:Object(y.k)(),inputErrTip:!1,inputBalanceTip:!1,isWebview:!1,isNotSupportArea:!1,isFirstSell:!1,netReady:!1}},computed:T(T(T({},Object(m.e)(["locale"])),Object(m.e)("account",["fiatWalletList"])),{fiatUnitIcon:function(){var e=this.get(this.currTwoSelect,"tickerSymbol");return"buy"==this.type?this.fiatJSON[e]:""},userBanalce:function(){var e=this,t=this.fiatWalletList.find((function(i){return i.coinId==e.get(e.currTwoSelect,"walletCoinId")})),r="-";return t&&(r=this.$numbro(t.availableBalance)),r},currSellLimitNum:function(){var e=this,t=this.fiatWalletList.find((function(i){return i.coinId==e.get(e.currTwoSelect,"walletCoinId")})),r="-";return t&&(r=+(r=t.availableBalance)<+_()(this.currFiatLimit,"maxAmount",0)?r:_()(this.currFiatLimit,"maxAmount","")),r}}),mounted:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$nextTick((function(){void 0!==window.jsBridge&&(e.isWebview=!0)})),e.initByQuery(),"sell"==e.type&&e.isLogin&&e.getFiatBalance();case 3:case"end":return t.stop()}}),t)})))()},methods:T(T({buySellBtnCon:function(){return this.isNotSupportArea&&"sell"==this.type?this.$t("buy-sell-crypto.areas_are_not_supported"):"buy"==this.type?this.$t("buy-sell-crypto.buy"):this.$t("buy-sell-crypto.sell")}},Object(m.b)("account",["getFiatBalance"])),{},{get:_.a,mapJson:function(e,t){return t[e]?t[e]:""},checkNaN:function(e){return Number.isNaN(e)?"":e},initByQuery:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$route,n=_()(r,"query.type"),o=_()(r,"query.coin"),c=_()(r,"query.currency"),["buy","sell"].includes(n)?e.type=n:(e.type="buy",e.$router.replace({query:T(T({},r.query),{},{type:"buy"})})),o&&(e.coin=o),c&&(e.currency=c),t.next=9,e.getCryptoFiatList();case 9:e.netReady=!0;case 10:case"end":return t.stop()}}),t)})))()},getCryptoFiatList:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,n,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.currOneSelect={},e.currTwoSelect={},"buy"!=e.type){t.next=17;break}return t.next=5,e.getCryptoList();case 5:if(0!=e.coinArr.length){t.next=8;break}return console.error("数字货币列表的获取为空，请检查请求！当前不会继续请求法币"),t.abrupt("return");case 8:return""!==e.coin?(r=e.coinArr.find((function(i){return i.value==e.coin})))?e.currOneSelect=r:(r=e.coinArr[0],e.currOneSelect=r,e.coin=r.value,e.$router.replace({query:T(T({},_()(e.$route,"query",{})),{},{coin:e.coin})})):e.currOneSelect=e.coinArr[0],t.next=11,e.getFiatList(e.currOneSelect.value);case 11:if(0!=e.currencyArr.length){t.next=14;break}return console.error("法币列表的获取为空，请检查请求！"),t.abrupt("return");case 14:""!==e.currency?(n=e.currencyArr.find((function(i){return i.value==e.currency})))?e.currTwoSelect=n:(n=e.currencyArr[0],e.currTwoSelect=n,e.currency=n.value,e.$router.replace({query:T(T({},_()(e.$route,"query",{})),{},{currency:e.currency})})):e.currTwoSelect=e.currencyArr[0],t.next=34;break;case 17:if("sell"!=e.type){t.next=33;break}return t.next=20,e.getFiatList();case 20:if(0!=e.currencyArr.length){t.next=23;break}return console.error("法币列表的获取为空，请检查请求！将不会继续请求数字货币列表"),t.abrupt("return");case 23:return""!==e.currency?(o=e.currencyArr.find((function(i){return i.value==e.currency})))?e.currOneSelect=o:(o=e.currencyArr[0],e.currOneSelect=o,e.currency=o.value,e.$router.replace({query:T(T({},_()(e.$route,"query",{})),{},{currency:e.currency})})):e.currOneSelect=e.currencyArr[0],t.next=26,e.getCryptoList(e.currOneSelect.value);case 26:if(0!=e.coinArr.length){t.next=29;break}return console.error("数字货币列表的获取为空，请检查请求！"),t.abrupt("return");case 29:""!==e.coin?(c=e.coinArr.find((function(i){return i.value==e.coin})))?e.currTwoSelect=c:(c=e.coinArr[0],e.currTwoSelect=c,e.coin=c.value,e.$router.replace({query:T(T({},_()(e.$route,"query",{})),{},{coin:e.coin})})):e.currTwoSelect=e.coinArr[0],e.sellCoinLimit(),t.next=34;break;case 33:console.error("type 类型错误");case 34:case"end":return t.stop()}}),t)})))()},getCryptoList:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={type:t.type},e&&(n.fiat=e),r.next=4,Object(d.a)({url:"/api/get-digiccy-list",params:n});case 4:if((o=r.sent).success){r.next=7;break}return r.abrupt("return");case 7:"buy"==t.type?t.coinArr=_()(o.data,"availableListWhenBuy",[]).map((function(i){return T(T({},i),{},{label:i.name,value:i.name})})):"sell"==t.type?t.coinArr=_()(o.data,"availableListWhenSold",[]).map((function(i){return T(T({},i),{},{label:i.name,value:i.name})})):console.error("获取数字货币请求时 type类型错误:"+t.type),t.netReady=!0;case 9:case"end":return r.stop()}}),r)})))()},getFiatList:function(e){var t=this;return Object(o.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n={type:t.type},e&&(n.crypto=e),r.next=4,Object(d.a)({url:"/api/get-legal-tender-list",params:n});case 4:if((o=r.sent).success){r.next=7;break}return r.abrupt("return");case 7:"buy"==t.type?t.currencyArr=_()(o.data,"availableListWhenBuy",[]).map((function(i){return T(T({},i),{},{label:i.tickerSymbol,value:i.tickerSymbol})})):"sell"==t.type?t.currencyArr=_()(o.data,"availableListWhenSold",[]).map((function(i){return T(T({},i),{},{label:i.tickerSymbol,value:i.tickerSymbol})})):console.error("获取法币列表时 type类型错误:"+t.type);case 8:case"end":return r.stop()}}),r)})))()},checkInput:function(){if(Number.isNaN(parseFloat(this.amount)))return this.inputErrTip=!1,this.inputBalanceTip=!1,!0;if("buy"==this.type){if(+this.currTwoSelect.maxAmount<+this.amount||+this.currTwoSelect.minAmount>+this.amount)return this.inputErrTip=!0,this.inputBalanceTip=!1,!1}else{if("sell"!=this.type)return this.$message.error("非法操作"),!1;if(null==this.currFiatLimit)return this.inputBalanceTip=!1,this.inputErrTip=!1,!1;if(this.isLogin)return+this.userBanalce<+this.amount?(this.inputBalanceTip=!0,this.inputErrTip=!1,!1):+this.currSellLimitNum<+this.amount||+this.currFiatLimit.minAmount>+this.amount||+this.currFiatLimit.maxAmount<+this.amount?(this.inputErrTip=!0,this.inputBalanceTip=!1,!1):(this.inputErrTip=!1,this.inputBalanceTip=!1,!0);if(null==this.currFiatLimit.maxAmount||0==this.currFiatLimit.maxAmount)return!1;if(+_()(this.currFiatLimit,"maxAmount")<+this.amount||+_()(this.currFiatLimit,"minAmount")>+this.amount)return this.inputErrTip=!0,this.inputBalanceTip=!1,!1}return this.inputErrTip=!1,!0},goOfferPage:function(){if(this.isLogin){if(this.checkInput()){var e=this.currOneSelect.value,t=this.currTwoSelect.value,r=this.type,n={type:r,coin:"buy"==r?e:t,currency:"buy"==r?t:e,amount:this.amount};this.$router.push({path:"/buy-sell-offer/".concat(this.locale),query:n})}}else Object(y.i)(this.$router,this.$route,this.locale)},goBuy:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("sell"!=e.type){t.next=10;break}return e.sellBtnLoading=!1,e.type="buy",e.coin="",e.currency="",e.$router.push({query:{type:"buy"}}),e.netReady=!1,t.next=9,e.getCryptoFiatList();case 9:e.netReady=!0;case 10:case"end":return t.stop()}}),t)})))()},goSell:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("buy"!=e.type){t.next=11;break}return e.isLogin&&e.getFiatBalance(),e.type="sell",e.coin="",e.currency="",e.$router.push({query:{type:"sell"}}),e.netReady=!1,t.next=9,e.getCryptoFiatList();case 9:e.netReady=!0,e.sellCoinLimit();case 11:case"end":return t.stop()}}),t)})))()},setSellMax:function(){var e=this.currSellLimitNum;if(void 0!==e){var t=0;if("sell"==this.type&&(t=_()(this.currFiatLimit,"scale",0)),"string"==typeof e){var r=e.split(".");r.length>=2&&r[1].length>6&&(e=r[0]+"."+r[1].slice(0,t))}else console.err("最大限制非字符串");Number.isNaN(parseFloat(e))||0==parseFloat(e)||(this.amount=e,this.checkInput())}else console.error("currSellLimitNum非法值")},oneSelectChange:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&null!=t){n.next=2;break}return n.abrupt("return");case 2:if(r.netReady=!1,e.label===t.label){n.next=27;break}if(o=r.$route.query,"buy"!=r.type){n.next=17;break}return delete o.currency,r.coin=e.value,r.$router.push({query:T(T({},o),{},{coin:e.value})}),r.currOneSelect=r.coinArr.find((function(i){return i.value==e.value})),r.currencyArr=[],r.currTwoSelect={},n.next=14,r.getFiatList(e.label);case 14:r.currTwoSelect=r.currencyArr[0],n.next=27;break;case 17:if("sell"!=r.type){n.next=27;break}return delete o.coin,r.currency=e.value,r.$router.push({query:T(T({},o),{},{currency:e.value})}),r.currOneSelect=r.currencyArr.find((function(i){return i.value==e.value})),r.coinArr=[],r.currTwoSelect={},n.next=26,r.getCryptoList(e.label);case 26:r.currTwoSelect=r.coinArr[0];case 27:r.visOneSelect&&(r.visOneSelect=!1);case 28:case"end":return n.stop()}}),n)})))()},twoSelectChange:function(e,t){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&null!=t){n.next=2;break}return n.abrupt("return");case 2:e.label!==t.label&&(o=r.$route.query,"sell"==r.type?(r.coin=e.label,r.$router.push({query:T(T({},o),{},{coin:e.value})}),r.currTwoSelect=r.coinArr.find((function(i){return i.value==r.coin})),r.sellCoinLimit()):"buy"==r.type&&(r.currency=e.label,r.$router.push({query:T(T({},o),{},{currency:e.value})}),r.currTwoSelect=r.currencyArr.find((function(i){return i.value==r.currency})))),r.visTwoSelect&&(r.visTwoSelect=!1);case 4:case"end":return n.stop()}}),n)})))()},sellCoinLimit:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("buy"!=e.type){t.next=2;break}return t.abrupt("return");case 2:if("sell"!=e.type){t.next=8;break}return e.currFiatLimit=null,t.next=6,Object(d.a)({method:"post",url:"/api/get-coin-section",data:{cryptoId:e.currTwoSelect.id,cryptoName:e.currTwoSelect.value}});case 6:(r=t.sent).success?e.currFiatLimit=r.data:e.currFiatLimit=null;case 8:case"end":return t.stop()}}),t)})))()},numberCheck:function(e){var t=!0;return(/[^\d.]/.test(e)||/^0\d+/.test(e)||/.*\..*\..*/.test(e)||/^\./.test(e)||"buy"==this.type&&/\.(?=.{3,})/.test(e)||"sell"==this.type&&/\.(?=.{7,})/.test(e))&&(t=!1),t},checkIsNotSupportArea:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isFirstSell){t.next=2;break}return t.abrupt("return");case 2:return e.sellBtnLoading=!0,t.next=5,Object(d.a)({url:"/api/is-not-support-area"});case 5:(r=t.sent).success?(e.isNotSupportArea=_()(r.data,"isBlock"),e.isFirstSell=!1):e.isNotSupportArea=!0,e.sellBtnLoading=!1;case 8:case"end":return t.stop()}}),t)})))()}}),beforeRouteUpdate:function(e,t,r){this.amount="",this.inputErrTip=!1,this.inputBalanceTip=!1,r()}},k=(r(1464),r(9)),component=Object(k.a)(S,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"legalTender"},[n("div",{staticClass:"legalTender__titleBox",class:e.isWebview?"webview-tit-container":""},[n("h1",{staticClass:"titleBox__h1"},[e._v(e._s(e.$t("buy-sell-crypto.quick_buy_sell")))])]),e._v(" "),n("div",{staticClass:"legalTender__dealBox"},[e.netReady&&0==e.coinArr.length?n("div",{staticClass:"legalTender__pause"},[e._v("\n      "+e._s("en"==e.locale?"Dear all, we are now in the process of replacing token deposit addresses and our Buy & Sell function is not available at this moment.  We will resume our service as soon as possible. Thank you for your patience and understanding.":"亲爱的用户，我們正在進行代币充值地址更換，目前一键买/卖币功能暫時關閉。我们将尽快恢复相关服务，感谢您的耐心和理解。")+"\n\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"dealBox__tab"},[n("span",{staticClass:"tab__btn",class:"buy"==e.type&&"tab__btn--active",on:{click:e.goBuy}},[e._v(e._s(e.$t("buy-sell-crypto.buy_coin")))]),e._v(" "),n("span",{staticClass:"tab__btn",class:"sell"==e.type&&"tab__btn--active",on:{click:e.goSell}},[e._v(e._s(e.$t("buy-sell-crypto.sell_coin")))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.isLogin&&"sell"==e.type,expression:"isLogin && type=='sell'"}],staticClass:"tab__transferBtn",on:{click:function(t){e.get(e.currTwoSelect,"walletCoinId",!1)&&(e.visTransfer=!0)}}},[e._v(e._s(e.$t("buy-sell-crypto.transfer")))])]),e._v(" "),n("h3",{staticClass:"coinSelect__title"},[e._v(e._s(e.mapJson(e.type,{init:"",buy:e.$t("buy-sell-crypto.select_coin"),sell:e.$t("buy-sell-crypto.select_fiat")})))]),e._v(" "),n("div",{staticClass:"legalTender__coinSelect",on:{click:function(t){e.visOneSelect=!0}}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!!e.currOneSelect&&e.currOneSelect.iconLink,expression:"currOneSelect ? currOneSelect.iconLink : false"}],staticClass:"logo__coin",attrs:{src:e.currOneSelect?e.currOneSelect.iconLink:"",alt:"logo"}}),e._v(" "),n("span",{staticClass:"label__simpleCoin"},[e._v(e._s(e.get(e.currOneSelect,"label")))]),e._v(" "),n("i",{staticClass:"arrow__coinSelect",class:e.visOneSelect?"el-icon-arrow-up":"el-icon-arrow-down"})]),e._v(" "),n("h3",{staticClass:"amountInput__titleBox"},[n("span",[e._v(e._s("buy"==e.type?e.$t("buy-sell-crypto.enter_amount"):e.$t("buy-sell-crypto.enter_sell")))]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"buy"==e.type,expression:"type == 'buy'"}]},[e._v(e._s(e.$t("buy-sell-crypto.limit"))+":\n        "+e._s(e.fiatUnitIcon)+e._s("buy"==e.type?e.get(e.currTwoSelect,"minAmount"):"")+"\n        -\n        "+e._s(e.fiatUnitIcon)+e._s("buy"==e.type?e.get(e.currTwoSelect,"maxAmount"):"")+"\n      ")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"sell"==e.type&&e.isLogin,expression:"type == 'sell' && isLogin"}]},[e._v(e._s(e.$t("buy-sell-crypto.balance"))+":\n        "),n("span",{staticClass:"coinmax"},[e._v(e._s(e.checkNaN(e.userBanalce+" "+e.get(e.currFiatLimit,"cryptoName","-"))))]),e._v(" "),n("a",{staticClass:"maxSet__btn",on:{click:e.setSellMax}},[e._v(e._s(e.$t("buy-sell-crypto.max")))])]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:"sell"==e.type&&!e.isLogin,expression:"type == 'sell' && !isLogin"}]},[e._v(e._s(e.$t("buy-sell-crypto.limit"))+":\n        "+e._s("sell"==e.type?e.get(e.currFiatLimit,"minAmount"):"")+"\n        "+e._s(e.get(e.currFiatLimit,"cryptoName"))+"\n        -\n       "+e._s("sell"==e.type?e.get(e.currFiatLimit,"maxAmount"):"")+"\n        "+e._s(e.get(e.currFiatLimit,"cryptoName"))+"\n      ")])]),e._v(" "),n("div",{staticClass:"btn__currencySelect"},[n("div",{staticClass:"logo__currency",on:{click:function(t){e.visTwoSelect=!0}}},[n("img",{directives:[{name:"show",rawName:"v-show",value:!!e.currTwoSelect&&e.currTwoSelect.iconLink,expression:"currTwoSelect ? currTwoSelect.iconLink : false"}],staticClass:"logo__coin",attrs:{src:e.currTwoSelect?e.currTwoSelect.iconLink:"",alt:"logo"}}),e._v(" "),n("span",{staticClass:"logo__currencyTxt"},[e._v(e._s(e.get(e.currTwoSelect,"label")))]),e._v(" "),n("i",{staticClass:"arrow__currencySelect",class:e.visTwoSelect?"el-icon-arrow-up":"el-icon-arrow-down"})]),e._v(" "),n("NativeNumInput",{staticClass:"input__currency",attrs:{"is-integer":(e.type,0==e.get(e.currFiatLimit,"scale",0)),precision:"buy"==e.type?e.get(e.currTwoSelect,"scale",0):e.get(e.currFiatLimit,"scale",0),disabled:"sell"==e.type&&null==e.currFiatLimit,placeholder:"buy"==e.type?"0":"0.00"},on:{input:e.checkInput},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),e._v(" "),n("div",{staticClass:"err-tip"},[e.inputErrTip?n("span",[e._v("\n        "+e._s(e.$t("buy-sell-crypto.exceeding_quota_warning",{min:"buy"==e.type?e.get(e.currTwoSelect,"minAmount"):e.get(e.currFiatLimit,"minAmount",""),max:"buy"==e.type?e.get(e.currTwoSelect,"maxAmount"):e.get(e.currFiatLimit,"maxAmount",""),unit:"buy"==e.type?e.fiatUnitIcon:e.get(e.currFiatLimit,"cryptoName","")}))+"\n      ")]):e._e(),e._v(" "),e.inputBalanceTip?n("span",[e._v(e._s(e.$t("buy-sell-crypto.lack_of_balance")))]):e._e()]),e._v(" "),n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.sellBtnLoading,expression:"sellBtnLoading"}],staticClass:"buy-btn",attrs:{type:"primary",disabled:""==e.amount||0==parseFloat(e.amount)},on:{click:e.goOfferPage}},[e._v("\n      "+e._s(e.buySellBtnCon())+"\n    ")])],1),e._v(" "),n("SelectDialog",{staticClass:"dialog__coinSelect",attrs:{title:"sell"==e.type?e.$t("buy-sell-crypto.dialog_select_fiat"):e.$t("buy-sell-crypto.dialog_select_coin"),"input-placeholder":e.$t("buy-sell-crypto.search"),vis:e.visOneSelect,options:e.mapJson(e.type,{init:[{label:"",value:""}],buy:e.coinArr,sell:e.currencyArr})},on:{"update:vis":function(t){e.visOneSelect=t},selectchange:e.oneSelectChange},scopedSlots:e._u([{key:"default",fn:function(t){var data=t.data;return[n("img",{directives:[{name:"show",rawName:"v-show",value:"buy"==e.type,expression:"type=='buy'"}],staticClass:"logo__coin",attrs:{src:e.get(data,"iconLink",""),alt:"logo"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"sell"==e.type,expression:"type=='sell'"}],staticClass:"fiat__logo"},[e._v(e._s(e.fiatJSON[e.get(data,"label","")]))]),e._v(" "),n("span",{staticClass:"label__coinSelect"},[e._v(e._s(e.get(data,"label","")))])]}}])}),e._v(" "),n("SelectDialog",{staticClass:"dialog__coinSelect",attrs:{title:"buy"==e.type?e.$t("buy-sell-crypto.dialog_select_fiat"):e.$t("buy-sell-crypto.dialog_select_coin"),"input-placeholder":e.$t("buy-sell-crypto.search"),iconKey:"iconLink",vis:e.visTwoSelect,options:e.mapJson(e.type,{init:[{label:"",value:""}],buy:e.currencyArr,sell:e.coinArr})},on:{"update:vis":function(t){e.visTwoSelect=t},selectchange:e.twoSelectChange},scopedSlots:e._u([{key:"default",fn:function(t){var data=t.data;return[n("img",{directives:[{name:"show",rawName:"v-show",value:"sell"==e.type,expression:"type=='sell'"}],staticClass:"logo__coin",attrs:{src:e.get(data,"iconLink",""),alt:"logo"}}),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"buy"==e.type,expression:"type=='buy'"}],staticClass:"fiat__logo"},[e._v(e._s(e.fiatJSON[e.get(data,"label","")]))]),e._v(" "),n("span",{staticClass:"label__coinSelect"},[e._v(e._s(e.get(data,"label","")))])]}}])}),e._v(" "),e._m(0),e._v(" "),n("div",{staticClass:"produceIntroduce"},[n("div",{staticClass:"produceIntroduce__advantage"},[n("h3",{staticClass:"produceIntroduce__title"},[e._v("\n        "+e._s(e.$t("buy-sell-crypto.our_advantages"))+"\n      ")]),e._v(" "),n("div",{staticClass:"advantage__item advantage__item1"},[n("h4",{staticClass:"advantage__itemTitle"},[n("img",{staticClass:"advantage__itemLogo",attrs:{src:r(721),alt:"logo"}}),e._v("\n          "+e._s(e.$t("buy-sell-crypto.streamlined"))+"\n        ")]),e._v(" "),n("div",{staticClass:"advantage__con"},[e._v(e._s(e.$t("buy-sell-crypto.streamlined_content"))+"\n        ")])]),e._v(" "),n("div",{staticClass:"advantage__item"},[n("h4",{staticClass:"advantage__itemTitle"},[n("img",{staticClass:"advantage__itemLogo",attrs:{src:r(721),alt:"logo"}}),e._v("\n          "+e._s(e.$t("buy-sell-crypto.reliable"))+"\n        ")]),e._v(" "),n("div",{staticClass:"advantage__con"},[e._v(e._s(e.$t("buy-sell-crypto.reliable_content")))])]),e._v(" "),n("div",{staticClass:"advantage__item"},[n("h4",{staticClass:"advantage__itemTitle"},[n("img",{staticClass:"advantage__itemLogo",attrs:{src:r(721),alt:"logo"}}),e._v("\n          "+e._s(e.$t("buy-sell-crypto.multiple_choices"))+"\n        ")]),e._v(" "),n("div",{staticClass:"advantage__con"},[e._v(e._s(e.$t("buy-sell-crypto.multiple_choices_content"))+"\n        ")])])]),e._v(" "),n("div",{staticClass:"produceIntroduce__partner"},[n("h3",{staticClass:"produceIntroduce__title"},[e._v(e._s(e.$t("buy-sell-crypto.our_partners")))]),e._v(" "),n("div",{staticClass:"partner__content"},[n("div",{staticClass:"partner__item"},[e._m(1),e._v(" "),n("div",{staticClass:"partner__itemCon"},[e._v(e._s(e.$t("buy-sell-crypto.moonpay_content"))+"\n          ")]),e._v(" "),n("a",{staticClass:"partner__itemMore",attrs:{href:"https://www.moonpay.com/",target:"_blank"}},[e._v(e._s(e.$t("buy-sell-crypto.more"))+" >\n          ")])]),e._v(" "),n("div",{staticClass:"partner__item"},[e._m(2),e._v(" "),n("div",{staticClass:"partner__itemCon"},[e._v(e._s(e.$t("buy-sell-crypto.simplex_content"))+"\n          ")]),e._v(" "),n("a",{staticClass:"partner__itemMore",attrs:{href:"https://www.simplex.com/",target:"_blank"}},[e._v(e._s(e.$t("buy-sell-crypto.more"))+" >\n          ")])])])])]),e._v(" "),n("div",{staticClass:"produceIntroduce__commonProblem"},[n("h2",{staticClass:"commonProblem__tit"},[e._v(e._s(e.$t("buy-sell-crypto.common_problem")))]),e._v(" "),n("el-collapse",{staticClass:"commonProblem__con",model:{value:e.activeNames,callback:function(t){e.activeNames=t},expression:"activeNames"}},[n("el-collapse-item",{staticClass:"commonProblem__itemTit",attrs:{title:e.$t("buy-sell-crypto.what_service"),name:"1"}},[n("div",[e._v(e._s(e.$t("buy-sell-crypto.what_service_content")))])]),e._v(" "),n("el-collapse-item",{staticClass:"commonProblem__itemTit",attrs:{title:e.$t("buy-sell-crypto.service_fee"),name:"2"}},[n("div",{domProps:{innerHTML:e._s(e.$t("buy-sell-crypto.service_fee_content"))}})]),e._v(" "),n("el-collapse-item",{staticClass:"commonProblem__itemTit",attrs:{title:e.$t("buy-sell-crypto.who_provides_services"),name:"3"}},[n("div",[e._v(e._s(e.$t("buy-sell-crypto.who_provides_services_content")))])]),e._v(" "),n("el-collapse-item",{staticClass:"commonProblem__itemTit",attrs:{title:e.$t("buy-sell-crypto.more_help"),name:"4"}},[n("div",{domProps:{innerHTML:e._s(e.$t("buy-sell-crypto.more_help_content"))}})])],1)],1),e._v(" "),n("FiatTransfer",{attrs:{visible:e.visTransfer,"coin-id":Number(e.mapJson(e.type,{init:"",buy:e.get(e.currOneSelect,"walletCoinId"),sell:e.get(e.currTwoSelect,"walletCoinId")}))},on:{close:function(t){e.visTransfer=!1}}})],1)}),n,!1,null,"d238f76c",null);t.default=component.exports},677:function(e,t,r){var n=r(678);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},678:function(e,t,r){var n=r(325),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},701:function(e,t,r){var n=r(51),o=r(677),c=r(325),l=r(326),d=n.isFinite,f=Math.min;e.exports=function(e){var t=Math[e];return function(e,r){if(e=c(e),(r=null==r?0:f(o(r),292))&&d(e)){var n=(l(e)+"e").split("e"),_=t(n[0]+"e"+(+n[1]+r));return+((n=(l(_)+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}},704:function(e,t,r){var content=r(779);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("c448dd58",content,!0,{sourceMap:!1})},718:function(e,t,r){var n=r(701)("floor");e.exports=n},721:function(e,t,r){e.exports=r.p+"img/gou.ef4867a.png"},722:function(e,t,r){var n=r(751)(r(745));e.exports=n},723:function(e,t,r){"use strict";r(166),r(169);var n={name:"NumberInput",props:{precision:{type:Number,default:2},value:{type:[String,Number],default:""},placeholder:{type:String,default:""},allowNegative:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},showAllTrigger:{type:Boolean,default:!1},allTriggerClass:{type:String,default:""}},computed:{isValid:function(){var e=this,t=this.allowNegative;return function(r){return new RegExp("^".concat(t?"-?":"","(0|[1-9]\\d*)(\\.\\d{0,").concat(e.precision,"})?$")).test(r)}}},methods:{handleInput:function(e){e&&!this.isValid(e)||this.$emit("change",e)}}},o=r(9),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-input",{attrs:{type:"text",value:e.value,placeholder:e.placeholder,disabled:e.disabled},on:{input:e.handleInput}},[e.showAllTrigger?r("button",{class:e.allTriggerClass,attrs:{slot:"suffix"},on:{click:function(t){return e.$emit("trigger-all")}},slot:"suffix"},[e._v("\n    "+e._s(e.$t("account.all"))+"\n  ")]):e._e()])}),[],!1,null,null,null);t.a=component.exports},745:function(e,t,r){var n=r(746),o=r(719),c=r(677),l=Math.max;e.exports=function(e,t,r){var d=null==e?0:e.length;if(!d)return-1;var f=null==r?0:c(r);return f<0&&(f=l(d+f,0)),n(e,o(t,3),f)}},746:function(e,t){e.exports=function(e,t,r,n){for(var o=e.length,c=r+(n?1:-1);n?c--:++c<o;)if(t(e[c],c,e))return c;return-1}},751:function(e,t,r){var n=r(719),o=r(328),c=r(716);e.exports=function(e){return function(t,r,l){var d=Object(t);if(!o(t)){var f=n(r,3);t=c(t),r=function(e){return f(d[e],e,d)}}var _=e(t,r,l);return _>-1?d[f?t[_]:_]:void 0}}},754:function(e,t,r){e.exports=r.p+"img/moonpay.f72c30d.png"},755:function(e,t,r){e.exports=r.p+"img/simplex.15f63cd.png"},778:function(e,t,r){"use strict";var n=r(704),o=r.n(n);r.d(t,"default",(function(){return o.a}))},779:function(e,t,r){var n=r(12)(!1);n.push([e.i,".fiattans-dialog{max-width:500px;width:96%}.Transfer__Wrapper_1s7aW{display:flex;flex-direction:column}.Transfer__Switch_3feY2{display:flex;margin-top:30px}.Transfer__Direction_3sk5m{display:flex;height:100px;border:1px solid #e7eaef;flex:1;flex-direction:column}.Transfer__From_lxILA,.Transfer__To_1QlJ4{display:flex;flex:1;align-items:center;font-weight:500}.Transfer__From_lxILA:before,.Transfer__To_1QlJ4:before{content:attr(data-label);width:80px;color:#9c9fa5;text-align:center}.Transfer__From_lxILA{border-bottom:1px solid #e7eaef}.Transfer__Toggle_2slct{width:100px;background-color:#e7eaef;cursor:pointer;border:0;color:#13c2c2;font-size:20px}.Transfer__Toggle_2slct:focus{outline:0 none}.Transfer__Amount_z9GFO,.Transfer__CoinPicker_1UzPS{margin-top:30px}.Transfer__Amount--hasError_J5cTP .el-input__inner{border-color:#ff4d4f;color:#ff4d4f}.Transfer__TriggerAll_24Lek{margin-top:11px;background:none;border:0;color:#13c2c2;cursor:pointer}.Transfer__TriggerAll_24Lek:focus{outline:0 none}.Transfer__Available_Fvrmx{margin-top:12px}.Transfer__Submit_2Pca1{margin-top:40px}",""]),n.locals={Transfer__Wrapper:"Transfer__Wrapper_1s7aW",Transfer__Switch:"Transfer__Switch_3feY2",Transfer__Direction:"Transfer__Direction_3sk5m",Transfer__From:"Transfer__From_lxILA",Transfer__To:"Transfer__To_1QlJ4",Transfer__Toggle:"Transfer__Toggle_2slct",Transfer__Amount:"Transfer__Amount_z9GFO",Transfer__CoinPicker:"Transfer__CoinPicker_1UzPS","Transfer__Amount--hasError":"Transfer__Amount--hasError_J5cTP",Transfer__TriggerAll:"Transfer__TriggerAll_24Lek",Transfer__Available:"Transfer__Available_Fvrmx",Transfer__Submit:"Transfer__Submit_2Pca1"},e.exports=n},780:function(e,t,r){var content=r(939);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(13).default)("4ba6caa4",content,!0,{sourceMap:!1})},799:function(e,t,r){"use strict";r(15),r(17),r(14),r(18),r(19);var n=r(4),o=r(11),c=(r(22),r(166),r(10)),l=r(5),d=r.n(l),f=r(171),_=r.n(f),m=r(722),v=r.n(m),h=r(718),y=r.n(h),x=r(7),w=r(3),T=r(2),S=r.n(T),k=r(723),C=r(45);function $(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var L="spot_to_fiat",A="fiat_to_spot",j={name:"Transfer",components:{NumberInput:k.a},props:{visible:{type:Boolean,default:!1},coinId:{type:Number,default:2}},data:function(){return{amount:null,transferType:A,availableBalance:0,pending:!1,submitPending:!1,coinList:[]}},computed:O(O({},Object(c.e)({locale:function(e){return e.locale},fiatWalletList:function(e){return e.account.fiatWalletList}})),{},{precision:function(){var e=v()(this.coinList,["coinId",this.coinId]);return d()(e,["coinUnit"],2)},coinName:function(){var e=v()(this.coinList,["coinId",this.coinId]);return d()(e,["coinName"],"")},minTransferInCount:function(){var e=v()(this.coinList,["coinId",this.coinId]);return d()(e,"minTransferInCount",0)},switchLabel:function(){var e={};switch(this.transferType){case L:Object.assign(e,{from:this.$t("account.spot"),to:this.$t("account.fiat")});break;case A:Object.assign(e,{from:this.$t("account.fiat"),to:this.$t("account.spot")})}return e},hasMinError:function(){return!(!this.amount||this.transferType===A)&&parseFloat(this.amount)<this.minTransferInCount}}),mounted:function(){Object(w.k)()&&this.getCoinList()},methods:{handleSetAll:function(){this.amount=y()(this.availableBalance,this.precision)},handleToggleDirection:function(){switch(this.transferType){case L:this.transferType=A;break;case A:this.transferType=L}},handleChangeCoin:function(){this.updateAvailableBalance()},getCoinList:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(w.k)()){t.next=3;break}return Object(w.i)(e.$router,e.$route,e.locale),t.abrupt("return");case 3:return r=S.a.get("accessToken"),t.next=6,Object(x.a)({method:"get",url:"/api/asset/transfer/coin",params:{transferType:e.transferType},headers:{Authorization:r}});case 6:(n=t.sent).success&&(e.coinList=n.data.list);case 8:case"end":return t.stop()}}),t)})))()},updateAvailableBalance:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,c,l,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(w.k)()){t.next=3;break}return Object(w.i)(e.$router,e.$route,e.locale),t.abrupt("return");case 3:r=S.a.get("accessToken"),n=S.a.get("accessSalt"),e.pending=!0,t.t0=e.transferType,t.next=t.t0===L?9:t.t0===A?11:13;break;case 9:return o=100400,t.abrupt("break",13);case 11:return o=100402,t.abrupt("break",13);case 13:return c={timestamp:Date.now(),coinId:e.coinId,accountType:o},Object(w.j)(c,c.timestamp,n),t.next=17,Object(x.a)({method:"get",url:"/api/asset/transfer/balance",params:c,headers:{Authorization:r}});case 17:l=t.sent,f=d()(l,["data","transferOutBalance"],0),e.availableBalance=f,e.pending=!1;case 21:case"end":return t.stop()}}),t)})))()},handleTransfer:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Object(w.k)()){t.next=3;break}return Object(w.i)(e.$router,e.$route,e.locale),t.abrupt("return");case 3:if(!(+e.amount>+e.availableBalance)){t.next=6;break}return e.$message.error(e.$t("error_code.e_2105")),t.abrupt("return");case 6:return Object(C.b)(C.a.ASSET_TRANSFER,{transfer_direction:"从".concat(e.switchLabel.from,"账户到").concat(e.switchLabel.to,"账户"),crypto_currency:e.coinName,transfer_amount:e.amount}),r=S.a.get("accessToken"),e.submitPending=!0,data={requestNo:"".concat(Date.now()).concat(Object(w.o)(16)),coinId:e.coinId,amount:e.amount,timestamp:Date.now(),transferType:e.transferType},Object(w.j)(data,data.timestamp,S.a.get("accessSalt")),t.next=13,Object(x.a)({method:"post",url:"/api/asset/transfer/order",data:data,headers:{Authorization:r}});case 13:t.sent.success&&(e.$emit("close"),e.$store.dispatch("account/getFiatBalance"),e.$store.dispatch("account/getFinanceWallet"),e.$message.success(e.$t("common.api_succode_operation"))),e.submitPending=!1;case 16:case"end":return t.stop()}}),t)})))()}},watch:{transferType:function(){this.updateAvailableBalance()},visible:function(e){var t=this;e&&(this.amount=null,this.$nextTick((function(){t.updateAvailableBalance()})))},coinType:function(e){_()(e)||(this.coinId=e)}}},B=r(778),N=r(9);var component=Object(N.a)(j,(function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("el-dialog",{attrs:{"custom-class":"fiattans-dialog",title:t.$t("account.transfer"),visible:t.visible},on:{open:t.getCoinList,close:function(e){return t.$emit("close")}}},[n("div",{class:t.$style.Transfer__Wrapper},[n("div",{class:t.$style.Transfer__Switch},[n("ul",{class:t.$style.Transfer__Direction},[n("li",{class:t.$style.Transfer__From,attrs:{"data-label":t.$t("account.from")}},[t._v("\n          "+t._s(t.switchLabel.from)+"\n        ")]),t._v(" "),n("li",{class:t.$style.Transfer__To,attrs:{"data-label":t.$t("account.to")}},[t._v("\n          "+t._s(t.switchLabel.to)+"\n        ")])]),t._v(" "),n("button",{class:t.$style.Transfer__Toggle,on:{click:t.handleToggleDirection}},[n("i",{staticClass:"el-icon-sort"})])]),t._v(" "),n("el-select",{class:t.$style.Transfer__CoinPicker,on:{change:t.handleChangeCoin},model:{value:t.coinId,callback:function(e){t.coinId=e},expression:"coinId"}},t._l(t.coinList,(function(e){return n("el-option",{key:e.coinId,attrs:{label:e.coinName,value:e.coinId}})})),1),t._v(" "),n("NumberInput",{class:(e={},e[t.$style.Transfer__Amount]=!0,e[t.$style["Transfer__Amount--hasError"]]=t.hasMinError,e),attrs:{value:t.amount,precision:t.precision,"show-all-trigger":"","all-trigger-class":t.$style.Transfer__TriggerAll,placeholder:t.$t("account.min_limit",{min:t.$numbro(t.minTransferInCount),coin:t.coinName})},on:{change:function(e){return t.amount=e},"trigger-all":t.handleSetAll}}),t._v(" "),n("p",{directives:[{name:"loading",rawName:"v-loading",value:t.pending,expression:"pending"}],class:t.$style.Transfer__Available},[t._v("\n      "+t._s(t.$t("account.available"))+" "+t._s(t.$numbro(t.availableBalance))+" "+t._s(t.coinName)+"\n    ")]),t._v(" "),n("el-button",{class:t.$style.Transfer__Submit,attrs:{type:"primary",disabled:!t.amount||!t.coinId||t.hasMinError,loading:t.submitPending},on:{click:t.handleTransfer}},[t._v("\n      "+t._s(t.$t("account.transfer"))+"\n    ")])],1)])}),[],!1,(function(e){this.$style=B.default.locals||B.default}),null,null);t.a=component.exports},800:function(e,t,r){"use strict";r(166),r(31),r(39),r(26),r(78),r(69);var n={name:"NativeNumInput",props:{value:{type:[String,Number]},placeholder:{type:String,default:""},isInteger:{type:Boolean,default:!1},precision:{type:Number,default:6},startWithZero:{type:Boolean,default:!1}},data:function(){return{}},methods:{inputHandle:function(e){var t=this,r=e.target.value;this.isInteger?/\D/.test(r)?setTimeout((function(){r=r.replace(/\D/g,""),e.target.value=r,t.$emit("input",r)})):this.$emit("input",r):/[^\d.]/.test(r)?setTimeout((function(){r=r.replace(/[^\d.]/g,""),e.target.value=r,t.$emit("input",r)})):this.$emit("input",r)},keypressHandle:function(e){this.isInteger?this.integerCheck(e):this.decimalCheck(e)},keydownHandle:function(e){229==e.keyCode&&(e.preventDefault(),e.stopPropagation())},integerCheck:function(e){var t=e.keyCode;(t<48||t>57)&&e.preventDefault(),this.startWithZero||this.startWithZeroCheck(e)},decimalCheck:function(e){var t=e.keyCode;t>=48&&t<=57||46==t||e.preventDefault(),this.startWithZero||this.startWithZeroCheck(e),this.dotCheck(e),this.precisionCheck(e)},startWithZeroCheck:function(e){var t=e.target.value,r=e.keyCode;1==t.length&&"0"===t[0]&&r>=48&&r<=57&&e.preventDefault()},dotCheck:function(e){var t=e.target.value,r=e.keyCode;(0===t.length&&46==r||t.includes(".")&&46==r)&&e.preventDefault()},precisionCheck:function(e){var t=e.target.value.split(".");t.length>1&&t[1].length>=this.precision&&e.preventDefault()},blurHandle:function(e){var t=e.target.value,r=t.length;r>0&&"."==t[r-1]&&(t=t.slice(0,r-1),this.$emit("input",t))},pasteHandle:function(e){var t=e.target.value;if(this.isInteger)/\D/.test(e.clipboardData.getData("text"))&&e.preventDefault();else{var r=e.clipboardData.getData("text");(/[^\d.]/.test(r)||t.includes(".")&&r.includes("."))&&e.preventDefault()}}}},o=r(9),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("input",{staticStyle:{"ime-mode":"disabled"},attrs:{type:"text",placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.inputHandle,keydown:e.keydownHandle,keypress:e.keypressHandle,blur:e.blurHandle,paste:e.pasteHandle}})}),[],!1,null,"514abc42",null);t.a=component.exports},938:function(e,t,r){"use strict";r(780)},939:function(e,t,r){var n=r(12),o=r(167),c=r(940),l=n(!1),d=o(c);l.push([e.i,".bounce-enter-active[data-v-4bfbcd76]{-webkit-animation:bounce-in-data-v-4bfbcd76 .3s;animation:bounce-in-data-v-4bfbcd76 .3s}.bounce-leave-active[data-v-4bfbcd76]{animation:bounce-in-data-v-4bfbcd76 .5s reverse}.fade-enter-active[data-v-4bfbcd76],.fade-leave-active[data-v-4bfbcd76]{transition:all .3s}.fade-enter[data-v-4bfbcd76],.fade-leave-to[data-v-4bfbcd76]{opacity:0}@-webkit-keyframes bounce-in-data-v-4bfbcd76{0%{transform:scale(0)}50%{transform:scale(1.1)}to{transform:scale(1)}}@keyframes bounce-in-data-v-4bfbcd76{0%{transform:scale(0)}50%{transform:scale(1.1)}to{transform:scale(1)}}.coinSelectDialog__shadow[data-v-4bfbcd76]{z-index:2000;background:rgba(1,1,1,.5)}.coinSelectDialog[data-v-4bfbcd76],.coinSelectDialog__shadow[data-v-4bfbcd76]{position:fixed;top:0;left:0;right:0;bottom:0}.coinSelectDialog[data-v-4bfbcd76]{width:375px;height:480px;margin:auto;background:#fff;box-shadow:0 4px 16px 0 rgba(0,0,0,.15);border-radius:16px}.coinSelect__titBox[data-v-4bfbcd76]{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:40px;grid-auto-rows:40px;box-sizing:border-box;padding:20px}.coinSelect__tit[data-v-4bfbcd76]{font-size:20px;color:#333;font-weight:700}.close__btn[data-v-4bfbcd76]{width:34px;height:34px;display:block;background:url("+d+") 0/cover no-repeat;justify-self:end;margin-right:-10px;cursor:pointer;transition:all .5s}.close__btn[data-v-4bfbcd76]:hover{transform:rotate(180deg)}.search__box[data-v-4bfbcd76]{grid-column-start:span 2;background:#f2f2f2;display:flex;border-radius:4px;overflow:hidden}.search__icon[data-v-4bfbcd76]{width:30px;justify-content:center}.search__icon[data-v-4bfbcd76],.search__input[data-v-4bfbcd76]{display:flex;align-items:center}.search__input[data-v-4bfbcd76]{background:transparent;border:none;outline:none;flex-grow:1;padding-right:1em;font-size:14px}.search__input[data-v-4bfbcd76]::-webkit-input-placeholder{font-weight:700;color:#a0a4b0}.list__coin[data-v-4bfbcd76]{height:344px;overflow:auto;overflow:overlay}.list__coin[data-v-4bfbcd76]::-webkit-scrollbar{height:4px;background-color:hsla(0,0%,100%,.1)}.list__coin[data-v-4bfbcd76]::-webkit-scrollbar-thumb{height:4px;background-color:hsla(0,0%,100%,.5)}.list__coin[data-v-4bfbcd76]::-webkit-scrollbar-track{background-color:hsla(0,0%,100%,.1)}.item__coin[data-v-4bfbcd76]{border-bottom:1px solid #f3f4f7;padding:15px 20px;display:flex;align-items:center;cursor:pointer}.item__coin[data-v-4bfbcd76]:first-child{border-top:1px solid #f3f4f7}.logo__coin[data-v-4bfbcd76]{width:24px;height:24px}.label__simpleCoin[data-v-4bfbcd76]{margin-left:15px;font-size:16px;font-weight:700;color:#2b2e36}.label__fullNameCoin[data-v-4bfbcd76]{font-size:14px;font-weight:700;color:#a0a4b0;margin-left:8px}",""]),e.exports=l},940:function(e,t,r){e.exports=r.p+"img/icon_plus.d6133fa.png"}}]);