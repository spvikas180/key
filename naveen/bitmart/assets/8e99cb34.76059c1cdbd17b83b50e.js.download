(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{699:function(e,t,o){"use strict";o(17),o(14),o(18),o(19);var n=o(4),r=o(11),c=(o(22),o(166),o(35),o(78),o(39),o(26),o(15),o(10)),l=o(32),_=o(758),d=o(759),m=o(801),h=o(748);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function w(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var v={INIT:"INIT",SUCCESS:"SUCCESS",FAILED:"FAILED"},F={name:"DeviceAuthorization",model:{prop:"value",event:"change"},components:{CodeReceiver:h.b},props:{status:{default:v.INIT,validator:function(e){return Object.keys(v).includes(e)}},type:{default:h.a.GA,validator:function(e){return Object.keys(h.a).includes(e)}},deviceInfo:{type:Object,default:function(){return{deviceName:"",ipAddress:"",location:""}}},value:{type:String,default:""},meta:{type:Object,default:function(){return{}}},submitPending:{type:Boolean,default:!1},resendPending:{type:Boolean,default:!1}},data:function(){return{code:this.value}},computed:w(w({},Object(c.e)({locale:function(e){return e.locale}})),{},{title:function(){switch(this.status){case v.INIT:return this.$t("device_auth.title");case v.SUCCESS:return this.$t("device_auth.title_success");case v.FAILED:return this.$t("device_auth.title_fail")}return""},explaination:function(){switch(this.status){case v.INIT:return this.$t("device_auth.desc");case v.SUCCESS:return this.$t("device_auth.desc_success");case v.FAILED:return this.$t("device_auth.desc_fail")}return""}}),methods:{sendCode:function(){this.$emit("resend")},$startCounter:function(){this.$refs.codeReceiver.$startCounter()},handleSubmitAuth:function(){this.$emit("submit",this.code)},handleLoginAfterAuth:function(){this.$emit("success")},handleLoginWhenFailed:function(){this.$emit("failed")}},watch:{value:function(e){6===e.length&&this.$emit("submit",e),this.code=e},code:function(e){this.$emit("change",e)}}},L=o(956),y=o(9);var x=Object(y.a)(F,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:e.$style.Authorization__Wrapper},["SUCCESS"===e.status?o("i",{class:[e.$style.Authorization__StatusIcon,e.$style["Authorization__StatusIcon--success"]]}):e._e(),e._v(" "),"FAILED"===e.status?o("i",{class:[e.$style.Authorization__StatusIcon,e.$style["Authorization__StatusIcon--failed"]]}):e._e(),e._v(" "),"INIT"===e.status?o("i",{class:[e.$style.Authorization__StatusIcon,e.$style["Authorization__StatusIcon--init"]]}):e._e(),e._v(" "),o("h2",{class:e.$style.Authorization__Title},[e._v(e._s(e.title))]),e._v(" "),o("p",{class:e.$style.Authorization__Explain},[e._v(e._s(e.explaination))]),e._v(" "),"INIT"===e.status?o("ul",{class:e.$style.Authorization__Info},[o("li",{class:e.$style.Authorization__InfoList,attrs:{"data-label":e.$t("device_auth.location")}},[e._v("\n      "+e._s(e.deviceInfo.location)+"\n    ")]),e._v(" "),o("li",{class:e.$style.Authorization__InfoList,attrs:{"data-label":e.$t("device_auth.ip")}},[e._v("\n      "+e._s(e.deviceInfo.ipAddress)+"\n    ")]),e._v(" "),o("li",{class:e.$style.Authorization__InfoList,attrs:{"data-label":e.$t("device_auth.browser")}},[e._v("\n      "+e._s(e.deviceInfo.deviceName)+"\n    ")])]):e._e(),e._v(" "),"INIT"===e.status?o("CodeReceiver",{ref:"codeReceiver",class:e.$style.Authorization__CodeReceiver,attrs:{type:e.type,meta:e.meta,pending:e.resendPending},on:{resend:e.sendCode},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}}):e._e(),e._v(" "),"INIT"===e.status?o("el-button",{class:e.$style.Authorization__SubmitBtn,attrs:{type:"primary",loading:e.submitPending},on:{click:e.handleSubmitAuth}},[e._v("\n    "+e._s(e.$t("common.submit"))+"\n  ")]):e._e(),e._v(" "),"SUCCESS"===e.status?o("el-button",{class:e.$style.Authorization__SubmitBtn,attrs:{type:"primary"},on:{click:e.handleLoginAfterAuth}},[e._v("\n    "+e._s(e.$t("api.confirm"))+"\n  ")]):e._e(),e._v(" "),"FAILED"===e.status?o("el-button",{class:e.$style.Authorization__SubmitBtn,attrs:{type:"text"},on:{click:e.handleLoginWhenFailed}},[e._v("\n    "+e._s(e.$t("device_auth.login_again"))+"\n  ")]):e._e()],1)}),[],!1,(function(e){this.$style=L.default.locals||L.default}),null,null).exports,k=o(3),I=o(5),$=o.n(I),S=o(7),C=o(2),A=o.n(C),O=o(238),P=o.n(O),T=o(698);function R(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,o)}return t}function j(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var z=/^\d{6,19}$/,E="PASSWORD",N="VERIFICATION",M="AUTHORIZATION",B={22:h.a.GA,21:h.a.PHONE,23:h.a.EMAIL},D={name:"LoginFlow",layout:"main",components:{Password:_.a,GeeTest:d.a,Verification:m.a,Authorization:x,qrcode:P.a},props:{maxWidth:{type:Number,default:360},oauth:{type:Boolean,default:!1},clientId:{type:String,default:null},device:{type:String,default:null},needBoxShadow:{type:Boolean,default:!1}},computed:j({},Object(c.e)({locale:function(e){return e.locale}})),mounted:function(){this.isPCLogin||this.requestQrcode()},data:function(){return{countryCode:l.k.map((function(code){return{key:code,value:code,flag:T.a.parse(l.a.get(code)),code:"+".concat(code.indexOf("_")>-1?code.split("_")[0]:code)}})),loginType:"EMAIL",isPCLogin:!0,focusTarget:null,geeData:null,emailLoginForm:{account:"",password:""},phoneLoginForm:{account:"",password:"",areaCode:"1_1"},rulesEmail:{account:[{required:!0,message:this.$t("common.mail&phone"),trigger:"change"},{whitespace:!0,message:this.$t("common.cannot_be_empty",[this.$t("common.mail&phone")]),trigger:"change"},{validator:this.validateAccountEmail}],password:[{required:!0,message:this.$t("common.password"),trigger:"change"},{whitespace:!0,message:this.$t("common.cannot_be_empty",[this.$t("common.password")]),trigger:"change"}]},rulesPhone:{account:[{required:!0,message:this.$t("common.mail&phone"),trigger:"change"},{whitespace:!0,message:this.$t("common.cannot_be_empty",[this.$t("common.mail&phone")]),trigger:"change"},{validator:this.validateAccountPhone}],password:[{required:!0,message:this.$t("common.password"),trigger:"change"},{whitespace:!0,message:this.$t("common.cannot_be_empty",[this.$t("common.password")]),trigger:"change"}]},submitPending:!1,flowStatus:E,verificationType:"",verificationMeta:{},verifyPending:!1,verifyResendPending:!1,verificationCode:"",gwToken:null,deviceInfo:{},authType:"",authCode:"",authMeta:{},authStatus:v.INIT,authPending:!1,authResendPending:!1,successResult:null,loginQR:null,qrStatus:0,sint:null,qrLoading:!1}},methods:j(j({},Object(c.d)({setToken:"SET_TOKEN",setSalt:"SET_SALT",setUser:"SET_USER"})),{},{validateAccountEmail:function(e,t,o){l.o.test(t)?o():o(new Error(this.$t("error_code.e_1305")))},validateAccountPhone:function(e,t,o){z.test(t)?o():o(new Error(this.$t("error_code.e_1103")))},afterLogin:function(e){if(this.oauth)this.$emit("loginSuccess",e.data);else{var t=$()(e,["data","basicInfo"]),o=$()(t,"loginName"),n=$()(t,"maskingLoginName"),r=$()(e,["data","accessToken"]),c=$()(e,["data","accessSalt"]);this.setUser(n),this.setToken(r),this.setSalt(c);var l=Object(k.a)(location.host),_={expires:30,httpOnly:!1};if(-1===l.indexOf("localhost")&&Object.assign(_,{domain:".".concat(l)}),A.a.set("userName",n,_),A.a.set("accessToken",r,_),A.a.set("accessSalt",c,_),A.a.set("zendeskUserData",JSON.stringify(t),_),Object(S.a)({url:"/api/sensors/user/track",headers:{Authorization:r}}),window.localStorage.setItem("tokenAt",Date.now()),this.$store.commit("individual/SET_COLLECTION",null),localStorage.removeItem("downloadPicked"),t.bindEmail&&(this.$store.commit("account/SET_ZENDESK_USER_DATA",t),this.$store.commit("account/SET_BINDEMAIL","T"===t.bindEmail),this.$store.commit("account/SET_BINDPHONE","T"===t.bindPhone),this.$store.commit("account/SET_BINDGOOGLE","T"===t.bindGoogle),localStorage.setItem("isLoginedShow2fa",!0)),t.email){var d=this.$route.query;d.return_to&&d.return_to.includes("zendesk")&&(this.isFormSupport=!0,window.location.href="/html/user_zendesk_sso?name=".concat(o,"&email=").concat(t.email,"&isbody=",!0)),this.$emit("loginSuccess",e.data)}else this.$emit("loginSuccess",e.data)}},handleEnterPress:function(){Object(k.k)()?this.$emit("loginSuccess"):this.submitLoginForm()},submitLoginForm:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.sensors&&window.sensors.track("ClickLoginButton",{login_method:"EMAIL"===e.loginType?"邮箱":"手机"}),t.prev=1,e.submitPending=!0,"EMAIL"!==e.loginType){t.next=9;break}return t.next=6,e.$refs.loginFormEmail.validate();case 6:o=t.sent,t.next=12;break;case 9:return t.next=11,e.$refs.loginFormPhone.validate();case 11:o=t.sent;case 12:if(!o){t.next=18;break}return t.next=15,e.$refs.gt.validate();case 15:return e.gwToken=t.sent,t.next=18,e.makeLogin();case 18:e.submitPending=!1,t.next=26;break;case 21:t.prev=21,t.t0=t.catch(1),console.log(t.t0),t.t0&&e.$message.error(e.$t("no_server.geetest")),e.submitPending=!1;case 26:return t.prev=26,e.submitPending=!1,t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[1,21,26,29]])})))()},makeLogin:function(){var e=arguments,t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n,r,c,_,d,m,h,f,w,F,code;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:{},o.prev=1,"EMAIL"===t.loginType?(_=t.emailLoginForm.account,d=Object(k.c)(t.emailLoginForm.password)):(_=t.phoneLoginForm.account,d=Object(k.c)(t.phoneLoginForm.password),m=t.phoneLoginForm.areaCode),t.oauth?(c=Object.assign({loginName:_,loginPassword:d,gwToken:t.gwToken,local:Object(k.q)(t.locale),clientId:t.clientId},n),r="/api/user-center/token/authorize"):(c=Object.assign({loginName:_,loginPassword:d,gwToken:t.gwToken,local:Object(k.q)(t.locale)},n),r="/api/user-center/token/login"),m&&(m.includes("_")&&(m=m.split("_")[0]),c.areaCode=m),o.next=7,Object(S.a)({method:"POST",url:r,data:c});case 7:if(!(h=o.sent).success){o.next=32;break}if(!((f=$()(h,["data","basicInfo"]))||t.oauth&&h.data.code)){o.next=25;break}if(t.flowStatus!==M){o.next=16;break}t.successResult=h,t.authStatus=v.SUCCESS,o.next=23;break;case 16:if(!t.oauth){o.next=19;break}return t.afterLogin(h),o.abrupt("return");case 19:if(f.loginName&&h.data.accessToken){o.next=22;break}return t.$message({message:"[error 0000, no data]",type:"error"}),o.abrupt("return");case 22:t.afterLogin(h);case 23:o.next=29;break;case 25:w=$()(h,["data","bindType"]),(F=$()(h,["data","operationBizType"]))===l.f.LOGIN?(22==+w&&window.sensors&&window.sensors.track("GetCode",{verification_type:"2fa",servcice_type:"登录",current_page:"登录页"}),t.flowStatus=N,t.verificationType=B[w],t.verificationMeta={email:$()(h,["data","email"]),phone:"+".concat($()(h,["data","areaCode"])," ").concat($()(h,["data","phone"]))},t.$nextTick((function(){t.$refs.verificationInstance.$startCounter()}))):F===l.f.AUTH_DEVICE?(t.flowStatus=M,t.deviceInfo=$()(h,["data","deviceInfo"]),t.authType=B[w],t.authMeta={email:$()(h,["data","email"]),phone:"+".concat($()(h,["data","areaCode"])," ").concat($()(h,["data","phone"]))},t.authStatus=v.INIT,t.$nextTick((function(){t.$refs.authInstance.$startCounter()}))):0===Object.keys(h.data).length&&t.flowStatus===M&&(t.authStatus=v.SUCCESS),setTimeout((function(){window.scroll(0,0)}),0);case 29:return o.abrupt("return",!0);case 32:return-3501===(code=$()(h,"code"))?(t.gwToken=null,t.verificationCode="",t.authCode="",t.$refs.gt.reset(),t.flowStatus=E):-12!==code&&-13!==code&&-14!==code||(t.verificationCode="",t.authCode=""),o.abrupt("return",!1);case 35:o.next=40;break;case 37:o.prev=37,o.t0=o.catch(1),console.log(o.t0);case 40:case"end":return o.stop()}}),o,null,[[1,37]])})))()},refetchVerifyCode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.verifyResendPending=!0,t.next=4,e.makeLogin();case 4:t.sent&&e.$refs.verificationInstance.$startCounter(),t.next=10;break;case 8:t.prev=8,t.t0=t.catch(0);case 10:return t.prev=10,e.verifyResendPending=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,8,10,13]])})))()},refetchAuthCode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.authResendPending=!0,e.gwToken){t.next=6;break}return t.next=5,e.$refs.gt.validate();case 5:e.gwToken=t.sent;case 6:return t.next=8,e.makeLogin();case 8:t.sent&&e.$refs.authInstance.$startCounter(),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(0);case 14:return t.prev=14,e.authResendPending=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,12,14,17]])})))()},handleSubmitVerification:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n={},o.t0=t.verificationType,o.next=o.t0===h.a.GA?4:o.t0===h.a.PHONE?6:o.t0===h.a.EMAIL?9:12;break;case 4:return Object.assign(n,{totpCode:e}),o.abrupt("break",12);case 6:return Object.assign(n,{phoneCode:e}),window.sensors&&window.sensors.track("GetCode",{verification_type:"短信",servcice_type:"登录",current_page:"登录页"}),o.abrupt("break",12);case 9:return Object.assign(n,{emailCode:e}),window.sensors&&window.sensors.track("GetCode",{verification_type:"邮件",servcice_type:"登录",current_page:"登录页"}),o.abrupt("break",12);case 12:if(o.prev=12,t.verifyPending=!0,t.gwToken){o.next=18;break}return o.next=17,t.$refs.gt.validate();case 17:t.gwToken=o.sent;case 18:return o.next=20,t.makeLogin(n);case 20:o.next=24;break;case 22:o.prev=22,o.t1=o.catch(12);case 24:return o.prev=24,t.verifyPending=!1,o.finish(24);case 27:case"end":return o.stop()}}),o,null,[[12,22,24,27]])})))()},handleSubmitAuth:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n={},o.t0=t.authType,o.next=o.t0===h.a.GA?4:o.t0===h.a.PHONE?6:o.t0===h.a.EMAIL?8:10;break;case 4:return Object.assign(n,{totpCode:e}),o.abrupt("break",10);case 6:return Object.assign(n,{phoneCode:e}),o.abrupt("break",10);case 8:return Object.assign(n,{emailCode:e}),o.abrupt("break",10);case 10:return o.prev=10,t.authPending=!0,o.next=14,t.makeLogin(n);case 14:o.next=18;break;case 16:o.prev=16,o.t1=o.catch(10);case 18:return o.prev=18,t.authPending=!1,o.finish(18);case 21:case"end":return o.stop()}}),o,null,[[10,16,18,21]])})))()},handleAuthSuccess:function(){this.successResult&&(window.sensors&&window.sensors.registerPage({is_login:!0}),this.afterLogin(this.successResult)),this.loginForm={account:"",password:""},this.verificationType="",this.verificationMeta={},this.verificationCode="",this.gwToken="",this.deviceInfo={},this.authType="",this.authCode="",this.authMeta={},this.authStatus=v.INIT},handleAuthFailed:function(){console.log("handleAuthFailed")},changePC:function(){this.isPCLogin&&this.requestQrcode(),this.isPCLogin=!this.isPCLogin},requestQrcode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.qrLoading=!0,t.next=3,Object(S.a)({method:"GET",url:"/api/login/qrcode/init"});case 3:o=t.sent,e.qrLoading=!1,o.success?(clearTimeout(e.sint),e.qrStatus=0,e.loginQR=o.data.code,e.sint=setInterval((function(){e.checkCode()}),4e3)):e.loginQR=null;case 6:case"end":return t.stop()}}),t)})))()},checkCode:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.loginQR){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,Object(S.a)({method:"GET",url:"/api/login/qrcode/check",params:{code:e.loginQR}});case 4:(o=t.sent).success&&(n=+o.data.status,e.qrStatus=n,2==+n&&(window.sensors&&window.sensors.track("ClickLoginButton",{login_method:"扫一扫"}),e.afterLogin({data:{basicInfo:{loginName:o.data.loginName,email:o.data.loginName,maskingLoginName:o.data.maskingLoginName},accessSalt:o.data.accessSalt,accessToken:o.data.accessToken}}),e.$store.dispatch("account/getUserSecInfo"),clearTimeout(e.sint))),23===Math.abs(o.code)&&(e.qrStatus=4,clearTimeout(e.sint));case 7:case"end":return t.stop()}}),t)})))()}}),head:function(){return{title:this.$t("seo.login_title"),meta:[{hid:"description",name:"description",content:this.$t("seo.login_desc")},{hid:"keywords",name:"keywords",content:this.$t("seo.login_key")}]}}},Q=o(960);var W=Object(y.a)(D,(function(){var e,t,n,r,c,l=this,_=l.$createElement,d=l._self._c||_;return d("div",{class:l.$style.LoginFlow},[d("div",{class:l.$style.LoginFlow__Content},["PASSWORD"===l.flowStatus?d("div",{class:[l.$style.LoginFlow__FormWrap,l.needBoxShadow?l.$style.LoginFlow__FormWrapShadow:""]},[d("div",[d("div",{directives:[{name:"show",rawName:"v-show",value:l.isPCLogin,expression:"isPCLogin"}]},[d("img",{class:l.$style["LoginFlow__FormWrap--qrimg"],attrs:{src:o(949)},on:{click:l.changePC}}),l._v(" "),d("p",{class:l.$style.LoginFlow__h1},[l._v(l._s(l.$t("common.Login")))]),l._v(" "),d("p",{class:l.$style.LoginFlow__n1},[l._v(l._s(l.$t("login.a1"))+". "),d("b",{on:{click:l.changePC}},[l._v(l._s(l.$t("login.a2")))])]),l._v(" "),d("GeeTest",{ref:"gt",attrs:{locale:l.locale}},[d("el-tabs",{model:{value:l.loginType,callback:function(e){l.loginType=e},expression:"loginType"}},[d("el-tab-pane",{attrs:{label:l.$t("common.Email"),name:"EMAIL"}},[d("el-form",{ref:"loginFormEmail",class:l.$style.LoginFlow__Form,attrs:{model:l.emailLoginForm,rules:l.rulesEmail,"hide-required-asterisk":!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&l._k(e.keyCode,"enter",13,e.key,"Enter")?null:l.handleEnterPress.apply(null,arguments)}}},[d("el-form-item",{class:(e={},e[l.$style.LoginFlow__FormRow]=!0,e[l.$style["LoginFlow__FormRow--show"]]=l.emailLoginForm.account||"account"===l.focusTarget,e),attrs:{prop:"account"}},[d("el-input",{class:l.$style.LoginFlow__InputField,attrs:{type:"text",placeholder:l.$t("common.Email")},on:{focus:function(e){l.focusTarget="account"},blur:function(e){l.focusTarget=null}},model:{value:l.emailLoginForm.account,callback:function(e){l.$set(l.emailLoginForm,"account",e)},expression:"emailLoginForm.account"}})],1),l._v(" "),d("el-form-item",{class:(t={},t[l.$style.LoginFlow__FormRow]=!0,t[l.$style["LoginFlow__FormRow--show"]]=l.emailLoginForm.password||"password"===l.focusTarget,t),attrs:{prop:"password"}},[d("Password",{class:l.$style.LoginFlow__InputField,attrs:{placeholder:l.$t("common.password")},on:{focus:function(e){l.focusTarget="password"},blur:function(e){l.focusTarget=null}},model:{value:l.emailLoginForm.password,callback:function(e){l.$set(l.emailLoginForm,"password",e)},expression:"emailLoginForm.password"}})],1),l._v(" "),d("el-form-item",[d("el-button",{class:l.$style.LoginFlow__SubmitBtn,attrs:{type:"primary",loading:l.submitPending},on:{click:l.submitLoginForm}},[l._v("\n                      "+l._s(l.$t("common.Login"))+"\n                    ")])],1)],1)],1),l._v(" "),d("el-tab-pane",{attrs:{label:l.$t("common.phone"),name:"PHONE"}},[d("el-form",{ref:"loginFormPhone",class:[l.$style.LoginFlow__Form,l.$style.LoginFlow__InlineForm],attrs:{model:l.phoneLoginForm,rules:l.rulesPhone,"hide-required-asterisk":!0,inline:!0},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&l._k(e.keyCode,"enter",13,e.key,"Enter")?null:l.handleEnterPress.apply(null,arguments)}}},[d("el-form-item",{class:(n={},n[l.$style.LoginFlow__FormRow]=!0,n[l.$style["LoginFlow__FormRow--show"]]=l.phoneLoginForm.account||"account"===l.focusTarget,n)},[d("el-select",{class:l.$style.LoginFlow__AreaCode,attrs:{filterable:""},model:{value:l.phoneLoginForm.areaCode,callback:function(e){l.$set(l.phoneLoginForm,"areaCode",e)},expression:"phoneLoginForm.areaCode"}},l._l(l.countryCode,(function(e){return d("el-option",{key:e.key,class:l.$style.LoginFlow__AreaCodeItem,attrs:{label:""+e.code,value:e.value}},[d("span",{style:{"margin-right":"6px"},domProps:{innerHTML:l._s(e.flag)}}),l._v(" "),d("span",[l._v(l._s(e.code))])])})),1)],1),l._v(" "),d("el-form-item",{class:(r={},r[l.$style.LoginFlow__FormPhone]=!0,r[l.$style["LoginFlow__FormRow--show"]]=l.phoneLoginForm.account||"account"===l.focusTarget,r),attrs:{prop:"account"}},[d("el-input",{class:[l.$style.LoginFlow__FormPhoneInputField,l.$style.LoginFlow__InputField],attrs:{type:"text",placeholder:l.$t("common.Userphone")},on:{focus:function(e){l.focusTarget="account"},blur:function(e){l.focusTarget=null}},model:{value:l.phoneLoginForm.account,callback:function(e){l.$set(l.phoneLoginForm,"account",e)},expression:"phoneLoginForm.account"}})],1),l._v(" "),d("el-form-item",{class:(c={},c[l.$style.LoginFlow__FormPWD]=!0,c[l.$style["LoginFlow__FormRow--show"]]=l.phoneLoginForm.password||"password"===l.focusTarget,c),attrs:{prop:"password"}},[d("Password",{class:[l.$style.LoginFlow__InputField,l.$style.LoginFlow__FormPWDInputField],attrs:{placeholder:l.$t("common.password")},on:{focus:function(e){l.focusTarget="password"},blur:function(e){l.focusTarget=null}},model:{value:l.phoneLoginForm.password,callback:function(e){l.$set(l.phoneLoginForm,"password",e)},expression:"phoneLoginForm.password"}})],1),l._v(" "),d("el-form-item",{class:l.$style.LoginFlow__FormBtn},[d("el-button",{class:l.$style.LoginFlow__SubmitBtn,attrs:{type:"primary",loading:l.submitPending},on:{click:l.submitLoginForm}},[l._v("\n                      "+l._s(l.$t("common.Login"))+"\n                    ")])],1)],1)],1)],1)],1),l._v(" "),d("div",{class:l.$style.LoginFlow__BLink},[d("div",[l.oauth?l._e():d("nuxt-link",{attrs:{to:"/forget/"+l.locale}},[l._v(l._s(l.$t("common.Forget_password")))])],1),l._v(" "),d("div",[d("span",{class:l.$style["LoginFlow__BLink--scan"],on:{click:l.changePC}},[l._v(l._s(l.$t("login.a2")))]),l._v(" "),l.oauth?d("nuxt-link",{attrs:{to:"/oauth-register/"+l.locale+"?device="+l.device+"&clientId="+l.clientId}},[l._v(l._s(l.$t("common.Register")))]):d("nuxt-link",{attrs:{to:"/register/"+l.locale}},[l._v(l._s(l.$t("common.Register")))])],1)])],1),l._v(" "),d("div",{directives:[{name:"show",rawName:"v-show",value:!l.isPCLogin,expression:"!isPCLogin"}]},[d("img",{class:l.$style["LoginFlow__FormWrap--qrimg"],attrs:{src:o(950)},on:{click:l.changePC}}),l._v(" "),d("p",{class:l.$style.LoginFlow__h1},[l._v(l._s(l.$t("common.Login")))]),l._v(" "),d("p",{class:l.$style.LoginFlow__n1},[l._v(l._s(l.$t("login.a3")))]),l._v(" "),d("div",{class:l.$style.LoginFlow__QRbox},[d("div",{directives:[{name:"show",rawName:"v-show",value:l.loginQR,expression:"loginQR"}],class:l.$style["LoginFlow__QRbox--qr"]},[d("qrcode",{attrs:{value:l.loginQR,options:{width:160,margin:0}}})],1),l._v(" "),d("img",{class:l.$style["LoginFlow__QRbox--scanimg"],attrs:{src:o(951)}}),l._v(" "),d("div",{directives:[{name:"show",rawName:"v-show",value:3==+l.qrStatus||4==+l.qrStatus||1==+l.qrStatus,expression:"+qrStatus === 3 || +qrStatus === 4 || +qrStatus === 1"}],class:l.$style.LoginFlow__QRMask},[d("div",{directives:[{name:"show",rawName:"v-show",value:4==+l.qrStatus,expression:"+qrStatus === 4"}]},[d("p",{class:l.$style["LoginFlow__QRMask--intro"]},[l._v(l._s(l.$t("login.a4")))]),l._v(" "),d("el-button",{class:l.$style["LoginFlow__QRMask--btn"],attrs:{type:"primary",loading:l.qrLoading},on:{click:l.requestQrcode}},[l._v("\n                  "+l._s(l.$t("login.a5"))+"\n                ")])],1),l._v(" "),d("div",{directives:[{name:"show",rawName:"v-show",value:3==+l.qrStatus,expression:"+qrStatus === 3"}]},[d("p",{class:l.$style["LoginFlow__QRMask--intro"]},[l._v(l._s(l.$t("login.a6")))]),l._v(" "),d("el-button",{class:l.$style["LoginFlow__QRMask--btn"],attrs:{type:"primary",loading:l.qrLoading},on:{click:l.requestQrcode}},[l._v("\n                  "+l._s(l.$t("login.a5"))+"\n                ")])],1),l._v(" "),d("div",{directives:[{name:"show",rawName:"v-show",value:1==+l.qrStatus,expression:"+qrStatus === 1"}]},[d("p",{class:l.$style["LoginFlow__QRMask--intro"]},[l._v(l._s(l.$t("login.a6")))]),l._v(" "),d("el-button",{class:l.$style["LoginFlow__QRMask--btn"],attrs:{type:"primary",loading:l.qrLoading},on:{click:l.checkCode}},[l._v("\n                  "+l._s(l.$t("login.a5"))+"\n                ")])],1)])]),l._v(" "),d("div",{class:l.$style.LoginFlow__BottomScan},[d("span",{class:l.$style["LoginFlow__BottomScan--pc"],on:{click:l.changePC}},[l._v(l._s(l.$t("login.a2-1")))]),l._v(" "),l.oauth?d("nuxt-link",{attrs:{to:"/oauth-register/"+l.locale+"?device="+l.device+"&clientId="+l.clientId}},[l._v(l._s(l.$t("common.Register")))]):d("nuxt-link",{attrs:{to:"/register/"+l.locale}},[l._v(l._s(l.$t("common.Register")))])],1)])])]):l._e()]),l._v(" "),"VERIFICATION"===l.flowStatus?d("Verification",{ref:"verificationInstance",class:l.$style.LoginFlow__Verification,attrs:{type:l.verificationType,meta:l.verificationMeta,"submit-pending":l.verifyPending,"resend-pending":l.verifyResendPending},on:{submit:l.handleSubmitVerification,resend:l.refetchVerifyCode},model:{value:l.verificationCode,callback:function(e){l.verificationCode=e},expression:"verificationCode"}}):l._e(),l._v(" "),"AUTHORIZATION"===l.flowStatus?d("Authorization",{ref:"authInstance",class:l.$style.LoginFlow__Authorization,style:"width: "+l.maxWidth+"px",attrs:{"device-info":l.deviceInfo,type:l.authType,status:l.authStatus,meta:l.authMeta,"submit-pending":l.authPending,"resend-pending":l.authResendPending},on:{success:l.handleAuthSuccess,failed:l.handleAuthFailed,submit:l.handleSubmitAuth,resend:l.refetchAuthCode},model:{value:l.authCode,callback:function(e){l.authCode=e},expression:"authCode"}}):l._e()],1)}),[],!1,(function(e){this.$style=Q.default.locals||Q.default}),null,null);t.a=W.exports},733:function(e,t,o){var content=o(957);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("81df3564",content,!0,{sourceMap:!1})},734:function(e,t,o){var content=o(961);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(13).default)("50f27c0e",content,!0,{sourceMap:!1})},776:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjYiIGhlaWdodD0iNTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBzdHJva2U9IiMxRDIwMkIiIHN0cm9rZS13aWR0aD0iMyIgZD0iTTQ2LjUgMjQuNWgxOHYyOWgtMTh6Ii8+PHBhdGggZmlsbD0iIzFEMjAyQiIgZD0iTTYgNGg1M3YzSDZ6TTYgNDRoMzV2M0g2ek02IDUyaDM1djNINnoiLz48cGF0aCBmaWxsPSIjMUQyMDJCIiBkPSJNNTYgNGgzdjE2aC0zek02IDRoM3Y0M0g2eiIvPjxnPjxjaXJjbGUgZmlsbD0iI0YxNUEzQiIgY3g9IjgiIGN5PSI4IiByPSI4Ii8+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTcgNGgydjRIN3pNNyAxMGgydjJIN3oiLz48L2c+PC9nPjwvc3ZnPgo="},949:function(e,t,o){e.exports=o.p+"img/lgicon.898f443.svg"},950:function(e,t,o){e.exports=o.p+"img/lgcompute.408b602.svg"},951:function(e,t,o){e.exports=o.p+"img/qrscan.7e1a51b.png"},956:function(e,t,o){"use strict";var n=o(733),r=o.n(n);o.d(t,"default",(function(){return r.a}))},957:function(e,t,o){var n=o(12),r=o(167),c=o(776),l=o(958),_=o(959),d=n(!1),m=r(c),h=r(l),f=r(_);d.push([e.i,".Authorization__Wrapper_1PcWq{display:flex;flex-direction:column;justify-content:center;font-size:14px;align-items:center;color:#0e1118}.Authorization__StatusIcon_1A2SG{width:60px;height:60px;font-size:60px}.Authorization__StatusIcon--init_OVQG9{background:url("+m+") no-repeat;background-size:contain}.Authorization__StatusIcon--success_3CeqP{background:url("+h+") no-repeat;background-size:contain}.Authorization__StatusIcon--failed_2I0Qk{background:url("+f+') no-repeat;background-size:contain}.Authorization__Title_359ws{margin:20px 0;text-align:center;font-weight:400;font-size:32px}.Authorization__Explain_3emdm{color:#5a5f6d;line-height:18px}.Authorization__Info_2veL9{margin:20px 0;line-height:1.6}.Authorization__InfoList_3d8_J{display:flex;font-weight:500;color:#0e1118}.Authorization__InfoList_3d8_J:before{content:attr(data-label) ": ";width:90px;font-weight:400;color:#5a5f6d}.Authorization__CodeReceiver_3hGjw{margin-top:10px;width:360px}.Authorization__SubmitBtn_1mqY_{margin-top:30px;width:360px}',""]),d.locals={Authorization__Wrapper:"Authorization__Wrapper_1PcWq",Authorization__StatusIcon:"Authorization__StatusIcon_1A2SG","Authorization__StatusIcon--init":"Authorization__StatusIcon--init_OVQG9","Authorization__StatusIcon--success":"Authorization__StatusIcon--success_3CeqP","Authorization__StatusIcon--failed":"Authorization__StatusIcon--failed_2I0Qk",Authorization__Title:"Authorization__Title_359ws",Authorization__Explain:"Authorization__Explain_3emdm",Authorization__Info:"Authorization__Info_2veL9",Authorization__InfoList:"Authorization__InfoList_3d8_J",Authorization__CodeReceiver:"Authorization__CodeReceiver_3hGjw",Authorization__SubmitBtn:"Authorization__SubmitBtn_1mqY_"},e.exports=d},958:function(e,t,o){e.exports=o.p+"img/success.1e2ebc0.svg"},959:function(e,t,o){e.exports=o.p+"img/fail.9cd8032.svg"},960:function(e,t,o){"use strict";var n=o(734),r=o.n(n);o.d(t,"default",(function(){return r.a}))},961:function(e,t,o){var n=o(12)(!1);n.push([e.i,".LoginFlow_1oC5g{display:flex;flex-direction:column;justify-content:center;align-items:center;color:#0e1118}.LoginFlow_1oC5g a{color:#13c2c2}.LoginFlow_1oC5g .el-tabs__item{font-size:16px}.LoginFlow_1oC5g .el-tabs__nav.is-top .el-tabs__active-bar.is-top{display:block;background-color:#000}.LoginFlow__FormWrap_3p4B3{position:relative;width:464px;background:#fff;border-radius:4px;padding:32px 32px 40px;box-sizing:border-box}.LoginFlow__FormWrapShadow_3u0R5{box-shadow:0 4px 24px 0 rgba(0,0,0,.1)}.LoginFlow__FormWrap--qrimg_e0XOg{position:absolute;right:0;top:0;cursor:pointer}.LoginFlow__Content_3YDCg{font-size:16px}.LoginFlow__h1_14dpT{font-size:32px;font-weight:500;margin-bottom:12px}.LoginFlow__n1_3uIMQ{font-size:14px;color:#333;margin-bottom:8px}.LoginFlow__n1_3uIMQ b{color:#13c2c2;font-weight:400;cursor:pointer}.LoginFlow__InputField_1nJ_f{font-size:16px}.LoginFlow__InputField_1nJ_f .el-input__inner{height:56px;line-height:56px;width:100%;background-color:#f5f5f5;border:none;border-radius:4px}.LoginFlow__InputField_1nJ_f .el-input__suffix{top:5px}.LoginFlow__SubmitBtn_8Xxjg{height:56px!important;box-sizing:border-box;width:100%;border-radius:4px;margin-top:6px}.LoginFlow__BLink_jI3_O{display:flex;justify-content:space-between;font-size:14px;margin-top:8px}.LoginFlow__BLink--scan_OktON{color:#13c2c2;margin-right:24px;cursor:pointer}.LoginFlow__InlineForm_pSO0b{display:flex;flex-wrap:wrap;justify-content:space-between}.LoginFlow__InlineForm_pSO0b .el-form-item{margin-right:0}.LoginFlow__InlineForm_pSO0b .el-form-item__content{width:100%}.LoginFlow__AreaCode_3MRy8{width:100px;height:56px}.LoginFlow__AreaCode_3MRy8 .el-input__inner{height:56px;border:none;border-radius:4px;background-color:#f5f5f5}.LoginFlow__AreaCodeItem_189V3{justify-content:space-between}.LoginFlow__AreaCodeItem_189V3 .emoji{width:20px;vertical-align:middle}.LoginFlow__FormPhoneInputField_2zJBi{width:284px}.LoginFlow__FormBtn_2cnLl,.LoginFlow__FormPWD_3HL9E,.LoginFlow__FormPWDInputField_1BuxY{width:100%}.LoginFlow__QRbox_quRRO{position:relative;background-color:#f5f5f5;height:218px;border-radius:4px;margin-top:32px;display:flex;justify-content:space-evenly;align-items:center}.LoginFlow__QRbox--scanimg_3bXvB{height:166px}.LoginFlow__QRbox--qr_3qBxa{width:160px;height:160px}.LoginFlow__QRMask_29lJ1{display:flex;text-align:center;align-items:center;justify-content:center;position:absolute;top:0;left:0;right:0;bottom:0;background-color:rgba(51,51,51,.95);border-radius:4px;color:#fff}.LoginFlow__QRMask--intro_3KhUw{font-size:14px;margin-bottom:24px}.LoginFlow__QRMask--btn_14noP{width:160px;border-radius:4px}.LoginFlow__BottomScan_2caTh{display:flex;justify-content:flex-end;margin-top:32px;font-size:14px}.LoginFlow__BottomScan--pc_3E3rC{cursor:pointer;color:#13c2c2;margin-right:32px}@media screen and (max-width:500px){.LoginFlow__FormWrap_3p4B3{width:360px}.LoginFlow__AreaCode_3MRy8{width:80px;height:56px}.LoginFlow__AreaCode_3MRy8 .el-input__inner{height:56px;border:none;border-radius:4px;background-color:#f5f5f5}.LoginFlow__FormPhoneInputField_2zJBi{width:210px}}",""]),n.locals={LoginFlow:"LoginFlow_1oC5g",LoginFlow__FormWrap:"LoginFlow__FormWrap_3p4B3",LoginFlow__FormWrapShadow:"LoginFlow__FormWrapShadow_3u0R5","LoginFlow__FormWrap--qrimg":"LoginFlow__FormWrap--qrimg_e0XOg",LoginFlow__Content:"LoginFlow__Content_3YDCg",LoginFlow__h1:"LoginFlow__h1_14dpT",LoginFlow__n1:"LoginFlow__n1_3uIMQ",LoginFlow__InputField:"LoginFlow__InputField_1nJ_f",LoginFlow__SubmitBtn:"LoginFlow__SubmitBtn_8Xxjg",LoginFlow__BLink:"LoginFlow__BLink_jI3_O","LoginFlow__BLink--scan":"LoginFlow__BLink--scan_OktON",LoginFlow__InlineForm:"LoginFlow__InlineForm_pSO0b",LoginFlow__AreaCode:"LoginFlow__AreaCode_3MRy8",LoginFlow__AreaCodeItem:"LoginFlow__AreaCodeItem_189V3",LoginFlow__FormPhoneInputField:"LoginFlow__FormPhoneInputField_2zJBi",LoginFlow__FormBtn:"LoginFlow__FormBtn_2cnLl",LoginFlow__FormPWD:"LoginFlow__FormPWD_3HL9E",LoginFlow__FormPWDInputField:"LoginFlow__FormPWDInputField_1BuxY",LoginFlow__QRbox:"LoginFlow__QRbox_quRRO","LoginFlow__QRbox--scanimg":"LoginFlow__QRbox--scanimg_3bXvB","LoginFlow__QRbox--qr":"LoginFlow__QRbox--qr_3qBxa",LoginFlow__QRMask:"LoginFlow__QRMask_29lJ1","LoginFlow__QRMask--intro":"LoginFlow__QRMask--intro_3KhUw","LoginFlow__QRMask--btn":"LoginFlow__QRMask--btn_14noP",LoginFlow__BottomScan:"LoginFlow__BottomScan_2caTh","LoginFlow__BottomScan--pc":"LoginFlow__BottomScan--pc_3E3rC"},e.exports=n}}]);