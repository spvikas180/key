(self["webpackChunkpublic_web"]=self["webpackChunkpublic_web"]||[]).push([[196],{82690:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(55377);t["default"]=(0,c.default)(u.Z,{namespace:"accountFee",state:{levelInfo:null},effects:{pullUserLevel(e,t){return s().mark((function e(){var r,n,c,u;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,n=t.put,e.next=3,r(o.VQ);case 3:return c=e.sent,u=c.data,e.next=7,n({type:"update",payload:{levelInfo:(0,a.Z)({},u)}});case 7:case"end":return e.stop()}}),e)}))()}}})},85177:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(67880),u=r(8055),o=r(17005),p=r(97370),i=e=>(0,p.mt)(e);t["default"]=(0,s.default)(c.Z,{namespace:"account_security",state:{g2faKey:null,noticeStatus:{}},reducers:{},effects:{sendVerifyCode(e,t){return n().mark((function r(){var a,s,c;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,r.next=4,s(u.getValidationCode,a);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)}))()},sendBindCode(e,t){return n().mark((function r(){var a,s,c,o,p,i,l;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.type,c=a.params,o=t.call,"phone"===s&&(p=u.sendPhoneBindCode),"email"===s&&(p=u.sendEmailBindCode),r.next=6,o(p,c);case 6:return i=r.sent,l=i.data,r.abrupt("return",l);case 9:case"end":return r.stop()}}),r)}))()},verifyCode(e,t){return n().mark((function r(){var a,s;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,r.next=4,s(u.verify,a);case 4:case"end":return r.stop()}}),r)}))()},bindEmail(e,t){return n().mark((function r(){var a,s,c;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,c=t.put,r.next=4,s(u.bindEmail,a);case 4:return r.next=6,c({type:"user/pullUser"});case 6:case"end":return r.stop()}}),r)}))()},updateEmail(e,t){return n().mark((function r(){var a,s,c;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,c=t.put,r.next=4,s(u.updateEmail,a);case 4:return r.next=6,c({type:"user/pullUser"});case 6:case"end":return r.stop()}}),r)}))()},bindPhone(e,t){return n().mark((function r(){var a,s,c;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,c=t.put,r.next=4,s(u.bindPhone,a);case 4:return r.next=6,c({type:"user/pullUser"});case 6:case"end":return r.stop()}}),r)}))()},updatePhone(e,t){return n().mark((function r(){var a,s,c;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.params,s=t.call,c=t.put,r.next=4,s(u.updatePhone,a);case 4:return r.next=6,c({type:"user/pullUser"});case 6:case"end":return r.stop()}}),r)}))()},getG2FAKey(e,t){return n().mark((function e(){var r,a,s;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(u.getG2FAKey);case 3:return s=e.sent,e.next=6,a({type:"update",payload:{g2faKey:s.data}});case 6:return e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)}))()},bindG2AF(e,t){return n().mark((function r(){var a,s,c,o,p,i,l,d,y;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=void 0===a?{}:a,c=t.call,o=t.put,p=s.code,i=s.key,l=s.isUpdate,d=void 0!==l&&l,console.log(p,i),r.next=6,c(u.bindG2AF,{code:p,key:i,isUpdate:d});case 6:return y=r.sent,r.next=9,o({type:"user/pullUser"});case 9:return r.abrupt("return",y);case 10:case"end":return r.stop()}}),r)}))()},updateLP(e,t){return n().mark((function r(){var a,s,c,o,p,l;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=t.put,o=a.newPassword,p=a.oldPassword,r.next=5,s(u.updatePwd,{newPassword:i(o),oldPassword:i(p)});case 5:return l=r.sent,r.next=8,c({type:"user/pullUser"});case 8:return r.abrupt("return",l);case 9:case"end":return r.stop()}}),r)}))()},modifyWithdrawPassword(e,t){return n().mark((function r(){var a,s,c,o,p,l,d,y;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=t.put,o=a.password,p=a.passwordo,l=void 0===p?null:p,d=l?"updateWithdrawPassword":"setWithdrawPassword",r.next=6,s(u[d],i(o),i(l));case 6:return y=r.sent,r.next=9,c({type:"user/pullUser"});case 9:return r.abrupt("return",y);case 10:case"end":return r.stop()}}),r)}))()},saveSafewords(e,t){return n().mark((function r(){var a,s,c,o;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=t.put,r.next=4,s(u.saveSafewords,a);case 4:return o=r.sent,r.next=7,c({type:"getSafeWords"});case 7:return r.next=9,c({type:"user/pullUser"});case 9:return r.abrupt("return",o);case 10:case"end":return r.stop()}}),r)}))()},getSafeWords(e,t){return n().mark((function e(){var r,a,s,c,o,p,i;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(u.getSafeWords);case 3:if(s=e.sent,!s||"200"!==s.code){e.next=8;break}return c=s.data,o=c.loginSafeWord,p=c.mailSafeWord,i=c.withdrawalSafeWord,e.next=8,a({type:"update",payload:{loginSafeWord:o,mailSafeWord:p,withdrawalSafeWord:i}});case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e)}))()},updateLoginIp(e,t){return n().mark((function r(){var a,s,c,o,p,i;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=t.put,o=t.select,r.prev=2,r.next=5,s(u.updateLoginIp,a);case 5:return r.prev=5,r.next=8,o((e=>e.user.user));case 8:return p=r.sent,i=p.id,r.next=12,c({type:"user/pullSecurtyMethods",payload:{id:i}});case 12:return r.finish(5);case 13:case"end":return r.stop()}}),r,null,[[2,,5,13]])}))()},getNoticeStatus(e,t){return n().mark((function e(){var r,a,s,c,p,i;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(u.getNoticeStatus);case 3:if(s=e.sent,c=s.data,!c.needNotice){e.next=11;break}return e.next=8,a(o.a0);case 8:p=e.sent,i=p.data,Number(i.totalAssets)<c.balance&&(c.needNotice=!1);case 11:if(!c){e.next=14;break}return e.next=14,r({type:"update",payload:{noticeStatus:c}});case 14:case"end":return e.stop()}}),e)}))()},closeNotice(e,t){return n().mark((function e(){var r,a;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.prev=1,e.next=4,a(u.closeNotice);case 4:return e.prev=4,e.next=7,r({type:"getNoticeStatus"});case 7:return e.finish(4);case 8:case"end":return e.stop()}}),e,null,[[1,,4,8]])}))()}},subscriptions:{}})},87195:function(e,t,r){"use strict";r.r(t);var a=r(59395),n=r(50361),s=r.n(n),c=r(8870),u=r(94043),o=r.n(u),p=r(86960),i=r(79956),l=r(68798),d=r(67880),y=r(93584),f=r(70592),x=r(8055);t["default"]=(0,p.default)(d.Z,y.Z,{namespace:"api_key",state:{filters:{bizType:""},apiKeys:[],cloneApiKeys:[],ApiWordModalVisible:!1,securityModalVisible:!1,needActions:[],ready:!1,api:null,enabledApis:0,isNotice:!1,_host:"",nowTab:"trade",addData:{},editData:{},createSuccessVisible:!1,createSuccessData:{},verifyData:{verifyType:[],bizType:""},detailData:{authGroupMap:{}}},reducers:{},effects:{updateHost(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l,d,y,x;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,c=t.select,r.next=4,c((e=>e.api_key));case 4:if(u=r.sent,p=u._host,i=a||{},l=i.nowTab,d=void 0===l?"":l,y=i.host,x=void 0===y?"":y,p===x){r.next=12;break}return r.next=10,s(f.Hk,x);case 10:return r.next=12,n({type:"update",payload:{nowTab:d,_host:x,apiKeys:[],cloneApiKeys:[]}});case 12:return r.next=14,n({type:"pull"});case 14:case"end":return r.stop()}}),r)}))()},pull(e,t){return o().mark((function r(){var a,n,u,p,i,l,d,y,x,v,m,h;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.query,n=void 0===a?{}:a,u=t.put,p=t.call,i=t.select,r.next=4,i((e=>e.api_key));case 4:return l=r.sent,d=l.filters.sub,y=l.subName,r.next=9,p(f.nF,n.sub||d||y);case 9:return x=r.sent,v=x.data,m=v.map((e=>(0,c.Z)((0,c.Z)({},e),{},{disabled:!0,origin_list:e.ipWhitelist}))),h=s()(m),r.next=15,u({type:"update",payload:{apiKeys:[...m],cloneApiKeys:[...h],ready:!0}});case 15:case"end":return r.stop()}}),r)}))()},closeApiWordModal(e,t){return o().mark((function e(){var r;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"update",payload:{ApiWordModalVisible:!1}});case 3:case"end":return e.stop()}}),e)}))()},updateApi(e,t){return o().mark((function r(){var n,s,c,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=t.call,c=n.subName,u=n.subType,p=c?"/account-sub/api-manager/".concat(c,"?initialType=").concat(u):"/account/api",r.next=6,s(f.lz,n);case 6:a.Z.success((0,i._t)("operation.succeed")),(0,l.VF)(p);case 8:case"end":return r.stop()}}),r)}))()},deleteApi(e,t){return o().mark((function r(){var n,s,c,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=n.id,c=n.subName,u=t.put,p=t.call,r.prev=2,r.next=5,p(f.Y8,{id:s,subName:c});case 5:a.Z.success((0,i._t)("operation.succeed"));case 6:return r.prev=6,r.next=9,u({type:"pull"});case 9:return r.finish(6);case 10:case"end":return r.stop()}}),r,null,[[2,,6,10]])}))()},checkIsSecurity(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l,d,y,f,v,m,h,w,b,k,g,T;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.put,c=t.call,u=t.select,r.next=4,u((e=>e.api_key));case 4:if(p=r.sent,i=p.filters,l=p.subName,d=i.sub,y=i.bizType,f=n.query,v=void 0===f?{}:f,m=y,h=v.sub||d||l,w={UPDATE_API:"UPDATE_SUB_ACCOUNT_API",CREATE_API:"CREATE_SUB_ACCOUNT_API"},h&&(m=w[y]),!h){r.next=17;break}return r.next=17,s({type:"filter",payload:{bizType:m}});case 17:return b=!1,r.prev=18,r.next=21,c(x.checkValidations,{bizType:m});case 21:return k=r.sent,g=k.data,T=!1,g&&g.length?(T=!0,b=!1):(T=!1,b=!0),r.next=27,s({type:"update",payload:{needActions:[...g],ApiWordModalVisible:!1,securityModalVisible:T}});case 27:if(r.prev=27,!b){r.next=31;break}return r.next=31,s({type:"securitySuccess"});case 31:return r.finish(27);case 32:case"end":return r.stop()}}),r,null,[[18,,27,32]])}))()},checkResult(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a||{},c=s.extra,u=void 0===c?"":c,r.next=5,n({type:"update",payload:{securityModalVisible:!1,needActions:[]}});case 5:return r.next=7,n({type:"securitySuccess",payload:{rsaPubKey:u||""}});case 7:case"end":return r.stop()}}),r)}))()},getEnabledApi(e,t){return o().mark((function e(){var r,a,n;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(f.r_);case 3:return n=e.sent,e.next=6,a({type:"update",payload:{enabledApis:n.data}});case 6:case"end":return e.stop()}}),e)}))()},getApiIpNoticeStatus(e,t){return o().mark((function e(){var r,a,n,s;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(f.rM);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"update",payload:{isNotice:s}});case 7:case"end":return e.stop()}}),e)}))()},updateApiIpNoticeStatus(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.isNotice,n=t.put,s=t.call,r.prev=2,r.next=5,s(f.Mt,{isNotice:a});case 5:return r.prev=5,r.next=8,n({type:"getApiIpNoticeStatus"});case 8:return r.finish(5);case 9:case"end":return r.stop()}}),r,null,[[2,,5,9]])}))()},cacheAddData(e,t){return o().mark((function r(){var a,n;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"update",payload:{addData:(0,c.Z)({},a)}});case 4:case"end":return r.stop()}}),r)}))()},showCreateSuccess(e,t){return o().mark((function e(){var r;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"update",payload:{createSuccessVisible:!0}});case 3:case"end":return e.stop()}}),e)}))()},closeCreateSuccess(e,t){return o().mark((function e(){var r;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"update",payload:{createSuccessVisible:!1}});case 3:case"end":return e.stop()}}),e)}))()},cacheVerifyData(e,t){return o().mark((function r(){var a,n;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"update",payload:{verifyData:(0,c.Z)({},a)}});case 4:case"end":return r.stop()}}),r)}))()},getApiDetail(e,t){return o().mark((function r(){var a,n,s,u,p,i,l,d,y,x,v;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.apiKey,s=a.subName,u=t.put,p=t.call,r.prev=2,r.next=5,p(f.cF,{apiKey:n,subName:s});case 5:return i=r.sent,l=i.data,d=void 0===l?{}:l,y=(0,c.Z)({},d),x=d||{},v=x.authGroupMap,v&&v.API_COMMON||(y.authGroupMap={},y.authGroupMap.API_COMMON=!0),r.next=13,u({type:"update",payload:{detailData:y}});case 13:return r.abrupt("return",{success:!0,data:d});case 16:return r.prev=16,r.t0=r["catch"](2),r.abrupt("return",{success:!1,msg:r.t0.msg||""});case 19:case"end":return r.stop()}}),r,null,[[2,16]])}))()}}})},98901:function(e,t,r){"use strict";r.r(t);var a=r(93386),n=r.n(a),s=r(50361),c=r.n(s),u=r(8870),o=r(84486),p=r.n(o),i=r(94043),l=r.n(i),d=r(86960),y=r(30381),f=r.n(y),x=r(67880),v=r(27042),m=r(18504),h=r(97370),w=r(69612),b=r(65735),k=r.n(b),g=r(56883),T=r(79956),Z=0,_=1,S=["png","jpg","jpeg"],A={NOT_COMMIT:-1,WAITING_VERIFY:0,SUCCUCESS:1,FAILED:2,WAITING_MANUAL_VERIFY:3,MANUAL_FAILED:4},C=e=>(console.log("checkIfIsImg",e),S.some((t=>e==="image/".concat(t)))),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=["frontPhoto","backPhoto","handlePhoto","professionPic","incumbencyPhoto","registrationAttachment","handleRegistrationAttachment","directorAttachment"],r={};return t.forEach((t=>{Object.prototype.hasOwnProperty.call(e,t)&&e[t]&&(r[t]={imgUrl:k()})})),r},M=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";"zh_CN"===t&&"zh_HK"===t||(t="en_US"),e=JSON.parse(e||"{}");var r={};if(Object.keys(e).length>0)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=g.i5[e[a].code]?g.i5[e[a].code].key:"";r[a]=n?(0,T._t)(n):e[a].valEn,"otherError"===e[a].code&&(r[a]=e[a].val)}return r},P=(e,t)=>{var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]={value:e[a]});var n=e.capitalSource,s=e.idExpireDate,c=e.yearIncome,u=e.registrationDate;return r.yearIncomeM={value:c},t===Z&&(r.capitalSource={value:n?n.split(","):[]}),r.expiryCheck={value:"permanent"===s?1:0},r.idExpireDateM={value:"permanent"!==s&&s?f()(e.idExpireDate):null},r.registrationDateM={value:u},r},L=e=>(p()(e,((t,r)=>{"string"===typeof t&&(e[r]=t.trim())})),e),N=(e,t)=>{var r={};return t=L(t),p()(t,((t,a)=>{Object.prototype.hasOwnProperty.call(e,a)?e[a]!==t&&(r[a]=t):r[a]=t})),r};t["default"]=(0,d.default)(x.Z,m.Z,v.Z,{namespace:"kyc",state:{lang:"en_US",kycType:null,status:null,switchAble:!1,detail:{},formData:{},rawData:{},maskInfo:{},passedFields:[]},reducers:{},effects:{pull(e,t){return l().mark((function r(){var a,n,s,o,p,i,d,y;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.kycType,n=void 0===a?Z:a,s=t.call,o=t.put,p=t.select,r.next=4,p((e=>e.app));case 4:return i=r.sent,d=i.currentLang,y={},r.prev=7,r.next=10,s(w.Nm,{kycType:n});case 10:y=r.sent,r.next=20;break;case 13:if(r.prev=13,r.t0=r["catch"](7),"281002"!==r.t0.code){r.next=19;break}y.data={},r.next=20;break;case 19:throw r.t0;case 20:return y=y.data,r.next=23,o({type:"update",payload:{detail:(0,u.Z)((0,u.Z)({},y),{},{failReason:M(y.verifyFailReason,d)}),formData:P(y||{},n),rawData:c()(y),fields:I(y||{})}});case 23:case"end":return r.stop()}}),r,null,[[7,13]])}))()},checkStatus(e,t){return l().mark((function e(){var r,a,n,s,c,u,o;return l().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n={},e.prev=2,e.next=5,r(w.XZ);case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](2),"281002"===e.t0.code&&(n.data={verifyStatus:-1,kycType:0});case 11:s=n.data||{},c=s.verifyStatus,u=s.kycType,o="NOT_COMMIT",e.t1=c,e.next=e.t1===A.FAILED||e.t1===A.MANUAL_FAILED?18:e.t1===A.WAITING_VERIFY||3===e.t1?20:e.t1===A.SUCCUCESS?22:16;break;case 16:return o="NOT_COMMIT",e.abrupt("break",24);case 18:return o="FAILED",e.abrupt("break",24);case 20:return o="WAITING_VERIFY",e.abrupt("break",24);case 22:return o="SUCCUCESS",e.abrupt("break",24);case 24:return e.next=26,a({type:"update",payload:{kycType:u,status:o}});case 26:case"end":return e.stop()}}),e,null,[[2,8]])}))()},saveFields(e,t){return l().mark((function r(){var a,s,c,o,p,i,d;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.put,c=t.select,r.next=4,c((e=>e.kyc));case 4:return o=r.sent,p=o.formData,r.next=8,c((e=>e.kyc.passedFields));case 8:return i=r.sent,d=Object.keys(a),i=n()(i,d),r.next=13,s({type:"update",payload:{formData:(0,u.Z)((0,u.Z)({},p),a),passedFields:i}});case 13:case"end":return r.stop()}}),r)}))()},submitBasic(e,t){return l().mark((function r(){var a,n,s,c,o,p;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.data,n=t.call,s=t.put,c=t.select,r.next=4,c((e=>e.kyc));case 4:if(o=r.sent,p=o.rawData,a=N(p,a),!(Object.keys(a).length<1)){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,n(w.LX,(0,u.Z)((0,u.Z)({},a),{},{source:"web"}));case 11:return r.next=13,s({type:"pull",payload:{kycType:Z}});case 13:case"end":return r.stop()}}),r)}))()},submitOtherInfo(e,t){return l().mark((function r(){var a,n,s,c,o,p;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.data,n=t.call,s=t.put,c=t.select,r.next=4,c((e=>e.kyc));case 4:if(o=r.sent,p=o.rawData,a=N(p,a),!(Object.keys(a).length<1)){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,n(w.Q,(0,u.Z)((0,u.Z)({},a),{},{source:"web"}));case 11:return r.next=13,s({type:"pull",payload:{kycType:Z}});case 13:case"end":return r.stop()}}),r)}))()},confirm(e,t){return l().mark((function r(){var a,n,s;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.kycType,n=t.call,s=t.put,r.next=4,n(w.iG,{kycType:a,source:"web"});case 4:return r.next=6,s({type:"checkStatus"});case 6:case"end":return r.stop()}}),r)}))()},upload(e,t){return l().mark((function r(){var a,n,s,c,o,p,i,d,y,f,x,v,m,b;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.id,s=a.file,c=a.uploadParams,o=t.call,p=t.put,i=t.select,r.next=4,i((e=>e.kyc));case 4:return d=r.sent,y=d.fields,f=d.fieldLoading,r.next=9,p({type:"update",payload:{fieldLoading:(0,u.Z)((0,u.Z)({},f),{},{[n]:!0})}});case 9:return r.next=11,o(w.ws,(0,u.Z)({file:s},c));case 11:if(x=r.sent,v=x.success,m=x.data,!v){r.next=22;break}return r.next=17,o(h.y3,s);case 17:return b=r.sent,r.next=20,p({type:"update",payload:{fields:(0,u.Z)((0,u.Z)({},y),{},{[n]:{imgUrl:C(s.type)?b:k(),fileId:m,changed:!0}}),fieldLoading:(0,u.Z)((0,u.Z)({},f),{},{[n]:!1})}});case 20:return r.next=22,p({type:"saveFields",payload:{[n]:m}});case 22:return r.abrupt("return",{success:v,id:n});case 23:case"end":return r.stop()}}),r)}))()},pullMaskInfo(e,t){return l().mark((function r(){var a,n,s,c,u;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.kycType,n=t.call,s=t.put,r.next=4,n(w.Ft,{kycType:a});case 4:return c=r.sent,u=c.data,r.next=8,s({type:"update",payload:{maskInfo:u}});case 8:case"end":return r.stop()}}),r)}))()},submitCompanyBasic(e,t){return l().mark((function r(){var a,n,s,c,o,p;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.data,n=t.call,s=t.put,c=t.select,r.next=4,c((e=>e.kyc));case 4:return o=r.sent,p=o.rawData,console.log("submit data",a),a=N(p,a),r.next=10,n(w.CP,(0,u.Z)((0,u.Z)({},a),{},{source:"web"}));case 10:return r.next=12,s({type:"pull",payload:{kycType:_}});case 12:case"end":return r.stop()}}),r)}))()},submitCompanyContact(e,t){return l().mark((function r(){var a,n,s,c,o,p;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.data,n=t.call,s=t.put,c=t.select,r.next=4,c((e=>e.kyc));case 4:return o=r.sent,p=o.rawData,console.log("submit data",a),a=N(p,a),r.next=10,n(w.X1,(0,u.Z)((0,u.Z)({},a),{},{source:"web"}));case 10:return r.next=12,s({type:"pull",payload:{kycType:_}});case 12:case"end":return r.stop()}}),r)}))()}}})},59970:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(69612),p=r(26032),i=r(65426),l=r(79956),d=()=>"",y=(e,t)=>{"zh_CN"!==t&&"zh_HK"!==t&&(t="en_US");var r="en_US"===t?":":"\uff1a";e=JSON.parse(e||"{}");var a={};if(Object.keys(e).length>0)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=i.z5[e[n].code]||i.z5[i.S],c=(p.Tc[n]||d)(),u=c?"".concat(c).concat(r):"",o=s.key||"",y=o?(0,l._t)(o):e[n]["en_US"===t?"valEn":"val"];a[n]=y?"".concat(u).concat(y):"","otherError"===e[n].code&&(a[n]="".concat(u).concat(e[n].val))}return a};t["default"]=(0,c.default)(u.Z,{namespace:"newKyc",state:{kycInfo:null,kycPrivileges:null,companyInfo:null,checkError:"",positiveImg:[],backImg:[],photoWithIDImg:[],registrationAttachmentImg:[],handleRegistrationAttachmentImg:[],directorAttachmentImg:[],incumbencyPhotoImg:[],frontPhotoImg:[],backPhotoImg:[],handlePhotoImg:[],kycCode:"",countries:[],companyDetail:{},failureReason:{}},effects:{pullKycInfo(e,t){return s().mark((function r(){var n,c,u,p,i,l,d,f,x,v,m;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=void 0===n?{}:n,u=e.callback,p=t.call,i=t.put,l=t.select,r.next=4,l((e=>e.app));case 4:return d=r.sent,f=d.currentLang,r.next=8,p(o.J3,c);case 8:if(x=r.sent,v=x.data,m=x.success,!m){r.next=15;break}return r.next=14,i({type:"update",payload:{kycInfo:(0,a.Z)((0,a.Z)({},v),{},{failureReason:y(v.failureReason,f)})}});case 14:"function"===typeof u&&u();case 15:case"end":return r.stop()}}),r)}))()},pullKycCompanyInfo(e,t){return s().mark((function e(){var r,a,n,c,u;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(o.D9);case 4:if(n=e.sent,c=n.data,u=n.success,!u){e.next=10;break}return e.next=10,a({type:"update",payload:{companyInfo:c}});case 10:e.next=14;break;case 12:e.prev=12,e.t0=e["catch"](1);case 14:case"end":return e.stop()}}),e,null,[[1,12]])}))()},pullKycPrivileges(e,t){return s().mark((function e(){var r,a,n,c,u;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(o.ww);case 3:if(n=e.sent,c=n.data,u=n.success,!u){e.next=9;break}return e.next=9,a({type:"update",payload:{kycPrivileges:c}});case 9:case"end":return e.stop()}}),e)}))()},primarySubmit(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,r.prev=2,r.next=5,n(o.gf,a);case 5:return r.abrupt("return",{success:!0});case 8:if(r.prev=8,r.t0=r["catch"](2),"710005"!==r.t0.code){r.next=12;break}return r.abrupt("return",{success:!1,identity2VerifyFailed:!0});case 12:if(!i.Bq.includes(r.t0.code)){r.next=16;break}return r.next=15,c({type:"update",payload:{checkError:r.t0.msg}});case 15:return r.abrupt("return",{success:!1});case 16:return r.abrupt("return",{success:!1,msg:r.t0.msg});case 17:case"end":return r.stop()}}),r,null,[[2,8]])}))()},kycUpload(e,t){return s().mark((function r(){var a,n,c,u,p;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,r.prev=2,r.next=5,n(o.sY,a);case 5:return c=r.sent,u=c.data,r.abrupt("return",{success:!0,data:u});case 10:return r.prev=10,r.t0=r["catch"](2),p=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:p});case 14:case"end":return r.stop()}}),r,null,[[2,10]])}))()},kycSeniorSubmit(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,r.prev=2,r.next=5,n(o.Ul,a);case 5:return r.abrupt("return",{success:!0});case 8:return r.prev=8,r.t0=r["catch"](2),c=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:c});case 12:case"end":return r.stop()}}),r,null,[[2,8]])}))()},kycCompBasicSubmit(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,console.log("kycCompBasicSubmit:",a),r.prev=3,r.next=6,n(o.lN,a);case 6:return r.abrupt("return",{success:!0});case 9:return r.prev=9,r.t0=r["catch"](3),c=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:c});case 13:case"end":return r.stop()}}),r,null,[[3,9]])}))()},submitCompanyContact(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,console.log("submitCompanyContact:",a),r.prev=3,r.next=6,n(o.s5,a);case 6:return r.abrupt("return",{success:!0});case 9:return r.prev=9,r.t0=r["catch"](3),c=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:c});case 13:case"end":return r.stop()}}),r,null,[[3,9]])}))()},getKycCode(e,t){return s().mark((function r(){var a,n,c,u,p,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,r.prev=2,r.next=5,n(o.sb,a);case 5:return u=r.sent,p=u.data,r.next=9,c({type:"update",payload:{kycCode:p}});case 9:return r.abrupt("return",{success:!0});case 12:return r.prev=12,r.t0=r["catch"](2),i=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:i});case 16:case"end":return r.stop()}}),r,null,[[2,12]])}))()},confirmCheck(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,r.prev=2,r.next=5,n(o.iG,a);case 5:return r.abrupt("return",{success:!0});case 8:return r.prev=8,r.t0=r["catch"](2),c=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:c});case 12:case"end":return r.stop()}}),r,null,[[2,8]])}))()},kycGetCountries(e,t){return s().mark((function r(){var a,n,c,u,p,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,r.prev=2,r.next=5,n(o.Jg,a);case 5:return u=r.sent,p=u.data,r.next=9,c({type:"update",payload:{countries:p}});case 9:return r.abrupt("return",{success:!0});case 12:return r.prev=12,r.t0=r["catch"](2),i=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:i});case 16:case"end":return r.stop()}}),r,null,[[2,12]])}))()},KycCompanyDetail(e,t){return s().mark((function r(){var a,n,c,u,p,i,l;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,r.prev=2,r.next=5,n(o.U2,a);case 5:return u=r.sent,p=u.data,i=p.verifyFailReason?JSON.parse(p.verifyFailReason):{},r.next=10,c({type:"update",payload:{companyDetail:p,failureReason:i}});case 10:return r.abrupt("return",{success:!0});case 13:return r.prev=13,r.t0=r["catch"](2),l=r.t0.msg?r.t0.msg:r.t0,r.abrupt("return",{success:!1,msg:l});case 17:case"end":return r.stop()}}),r,null,[[2,13]])}))()}},reducers:{update(e,t){var r=t.payload;return(0,a.Z)((0,a.Z)({},e),r)}}})},81840:function(e,t,r){"use strict";r.r(t);var a=r(3651),n=r.n(a),s=r(35161),c=r.n(s),u=r(8870),o=r(66073),p=r.n(o),i=r(50361),l=r.n(i),d=r(94043),y=r.n(d),f=r(86960),x=r(67880),v=r(9291),m=r(68804),h=r(8054),w=r(97370),b=r(71047),k=h.s8(),g=!1,T=w.mr.getEvt("notice_event"),Z={"notification.risen.to":{},"notification.fell.to":{},"notification.login":{},"notification.deposit":{},"notification.download":{},"notification.deposit.old.address":{},"notice.custom":{},"verification.notice.new.order":{},"notification.margin-enable-margin":{},"notification.margin-liquidation-alert":{},"notification.margin-liquidate-repay":{},"notification.margin-negative-balance":{},"notification.margin-liquidation":{},"verification.notice.cancle.order":{},"verification.notice.buyer.payment":{},"verification.notice.sellers.put.money":{},"notification.target-lend-publish":{},"notification.margin-subscription-success":{},"notification.margin-redemption-success":{},"notification.margin-subscription-failed":{},"notification.margin-redemption-failed":{},"notification.otc.buy.ad.balance.limit":{},"notification.otc.sell.ad.balance.limit":{},"notification.margin-bonus.bonus-send":{},"platform.markting.newcomer.register":{},"platform.markting.deposit.advertisement":{},"platform.markting.finish.accumulative.deposit":{},"platform.markting.withdraw.application":{},"platform.markting.withdraw.application.passed":{}};t["default"]=(0,f.default)(x.Z,{namespace:"notice_event",state:{barVisible:!1,count:0,hasMore:!1,listMapArr:[],maintenanceStatus:{},showMaintenance:!0},reducers:{},effects:{fetch(e,t){return y().mark((function e(){var r;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"fetchList"});case 3:case"end":return e.stop()}}),e)}))()},fetchList(e,t){return y().mark((function e(){var r,a,n,s,c,u,o,p,i;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,n=t.select,e.next=3,n((e=>{var t,r=e.notice_event.listMapArr,a=r[r.length-1];if(a){var n=a.list;t=n[n.length-1]}else t=void 0;return t}));case 3:return s=e.sent,c=s?s.sn:void 0,e.next=7,a(v.Yv,{beginSn:c,isReverse:!0});case 7:return u=e.sent,o=u.data,p=o.hasMore,i=o.onlineEventResponseList,e.next=12,r({type:"appendData",payload:{append:i,extra:{hasMore:p}}});case 12:case"end":return e.stop()}}),e)}))()},appendData(e,t){return y().mark((function r(){var a,n,s,c,o,i,d,f,x,v,m,h,k,g,_,S,A,C;return y().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.append,s=a.fromWS,c=a.extra,o=void 0===c?{}:c,i=t.put,d=t.select,f=t.call,r.next=4,d((e=>({listMapArr:e.notice_event.listMapArr,count:e.notice_event.count,barVisible:e.notice_event.barVisible})));case 4:if(x=r.sent,v=x.listMapArr,m=x.count,h=x.barVisible,k=l()(v),p()(n,(e=>{var t=e.sendTime,r=(0,w.YG)(t),a=!1;p()(k,(t=>{var n=t.date,s=t.list;if(n===r){a=!0;var c=s.filter((t=>t.sn===e.sn));return c.length||(s.push(e),s.sort(((e,t)=>t.sendTime-e.sendTime))),!1}})),a||k.push({date:r,list:[e]})})),k.sort(((e,t)=>t.date-e.date)),!s){r.next=15;break}o.count=m+n.length,r.next=17;break;case 15:return r.next=17,i({type:"getCount"});case 17:return r.next=19,i({type:"update",payload:(0,u.Z)((0,u.Z)({},o),{},{listMapArr:k})});case 19:if(!s||h){r.next=35;break}g=0;case 21:if(!(g<n.length)){r.next=35;break}return r.next=24,d((e=>e.notice_event.barVisible));case 24:if(_=r.sent,_){r.next=32;break}return S=n[g],A=S.subject,C=Z[A]||{},T.emit("notice_append",{msg:S,config:C}),r.next=32,f(b.g,1333);case 32:g++,r.next=21;break;case 35:case"end":return r.stop()}}),r)}))()},getCount(e,t){return y().mark((function e(){var r,a,n,s;return y().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(v.k9);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"update",payload:{count:+s||0}});case 7:case"end":return e.stop()}}),e)}))()},setRead(e,t){return y().mark((function r(){var a,s,o,p,i,l,d,f,x,m,h,w,b;return y().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.eventIds,o=a.mark,p=t.put,i=t.call,l=t.select,r.next=4,i(v.$h,{eventIds:s,mark:o});case 4:return d=s||[],r.next=7,l((e=>({count:e.notice_event.count,listMapArr:e.notice_event.listMapArr})));case 7:return f=r.sent,x=f.count,m=f.listMapArr,h=0,w=c()(m,(e=>{var t=e.date,r=e.list;return{date:t,list:c()(r,(e=>o||n()(d,e.id)>-1?(e.read||(h+=1),(0,u.Z)((0,u.Z)({},e),{},{read:!0})):e))}})),b=x-h,r.next=15,p({type:"update",payload:{count:b<0?0:b,listMapArr:w}});case 15:case"end":return r.stop()}}),r)}))()},setDelete(e,t){return y().mark((function r(){var a,s,u,o,p,i,l,d,f,x,m,h,w;return y().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.eventIds,u=a.mark,o=t.put,p=t.call,i=t.select,r.next=4,p(v.Qu,{eventIds:s,mark:u});case 4:return l=s||[],r.next=7,i((e=>({count:e.notice_event.count,listMapArr:e.notice_event.listMapArr})));case 7:return d=r.sent,f=d.count,x=d.listMapArr,m=0,h=c()(x,(e=>{for(var t=e.date,r=e.list,a=[],s=0;s<r.length;s++){var c=r[s];u||n()(l,c.id)>-1?c.read||(m+=1):a.push(c)}return{date:t,list:a}})),w=f-m,r.next=15,o({type:"update",payload:{count:w<0?0:w,listMapArr:h.filter((e=>e.list.length>0))}});case 15:case"end":return r.stop()}}),r)}))()},queryMaintenanceStatus(e,t){return y().mark((function r(){var a,n,s,c,u,o,p,i,l,d,f,x,v,h,k,g,T,Z,_,S;return y().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=e.currentLang,c=void 0===s?"zh_CN":s,u=t.put,o=t.call,p=t.select,i=null,r.prev=3,r.next=6,o(m.XK,n);case 6:l=r.sent,d=l.data,d&&void 0!==d.maintenance&&(i=d),r.next=36;break;case 11:return r.prev=11,r.t0=r["catch"](3),r.prev=13,r.next=16,o(m.fL,n);case 16:if(f=r.sent,x=f.data,!x||void 0===x.maintenance){r.next=31;break}return i=(0,w.YF)(x,c),r.next=22,o(b.g,2e3);case 22:return r.next=24,p((e=>e.server_time));case 24:v=r.sent,h=v.serverTime,k=v.requestedLocalTime,g=(0,w.Xn)({serverTime:h,requestedLocalTime:k}),T=i,Z=T.startAt,_=T.endAt,S=(0,w.NN)(g,[Z,_]),S&&(i={});case 31:r.next=36;break;case 33:r.prev=33,r.t1=r["catch"](13),console.error("getMaintenanceStatusFailBack",r.t1);case 36:if(!i){r.next=39;break}return r.next=39,u({type:"update",payload:{maintenanceStatus:i}});case 39:case"end":return r.stop()}}),r,null,[[3,11],[13,33]])}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"server_time/pullServerTime"})},watchPageChange(e){var t=e.dispatch,r=e.history;return r.listen((()=>{t({type:"update",payload:{barVisible:!1}})}))},subscribeMessage(e){var t=e.dispatch;if(!g){g=!0;var r=e=>{var r=c()(e,(e=>{var t=(0,u.Z)((0,u.Z)((0,u.Z)({},e.data),e),{},{read:!1});return delete t.userId,t}));t({type:"appendData",payload:{fromWS:!0,append:r}})};k.topicMessage(h.Zf.NOTICE_CENTER,"",!0)(r)}}}})},84715:function(e,t,r){"use strict";r.r(t);var a=r(94657),n=r(84486),s=r.n(n),c=r(8870),u=r(94043),o=r.n(u),p=r(86960),i=r(67880),l=r(34998),d=r(28220),y=r(97370),f=e=>(0,y.mt)(e);t["default"]=(0,p.default)(i.Z,l.Z,{namespace:"subAccount",state:{g2faKey:null,records:[],pagination:{pageSize:20,current:1,total:0},accountsMoney:{},totalAmount:0,baseCurrency:"",keywords:""},reducers:{updSearch(e,t){var r=t.payload;return(0,c.Z)((0,c.Z)({},e),{},{keywords:r})}},effects:{getAccountList(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l,y,f,x;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,c=t.select,r.prev=2,u=a.page,r.next=6,c((e=>e.subAccount));case 6:return p=r.sent,i=p.pagination,l=p.keywords,y=void 0===l?"":l,r.next=12,n(d.getSubAccountList,{page:u||i.current||1,size:i.pageSize,keywords:y});case 12:return f=r.sent,x=f.data,r.next=16,s({type:"savePage",payload:x});case 16:r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](2),console.log(r.t0);case 21:case"end":return r.stop()}}),r,null,[[2,18]])}))()},submit(e,t){return o().mark((function r(){var a,n,s,c,u,p,i;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=e.subAccount,c=t.put,u=n.modal,p=null,i={addAccount:"createSubAccount",modalStatus:"freezeOrUnfreezeSubAccount",modifyMark:"modifyRemark",modalTrans:"fundTrans",modalResetPwd:"resetPwdSubAccount",modalResetTradingPwd:"resetTradingPwdSubAccount",modalReset2fa:"reset2faSubAccount"},r.next=7,c({type:i[u],payload:n,subAccount:s});case 7:return p=r.sent,r.abrupt("return",p);case 9:case"end":return r.stop()}}),r)}))()},createSubAccount(e,t){return o().mark((function r(){var a,n,s,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=a.values,u=s||{},p=u.password,i=void 0===p?"":p,r.next=6,n(d.createSubAccount,(0,c.Z)((0,c.Z)({},s),{},{password:f(i)}));case 6:return l=r.sent,r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)}))()},resetPwdSubAccount(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.subAccount,s=t.call,c=a.values,u=c||{},p=u.password,i=void 0===p?"":p,r.next=6,s(d.resetPwdSubAccount,{subName:n.subName,password:f(i)});case 6:return l=r.sent,r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)}))()},resetTradingPwdSubAccount(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.subAccount,s=t.call,c=a.values,u=c||{},p=u.password,i=void 0===p?"":p,r.next=6,s(d.resetTradingPwdSubAccount,{subName:n.subName,password:f(i)});case 6:return l=r.sent,r.abrupt("return",l);case 8:case"end":return r.stop()}}),r)}))()},reset2faSubAccount(e,t){return o().mark((function r(){var a,n,s,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.subAccount,s=t.call,u=a.values,r.next=5,s(d.reset2faSubAccount,(0,c.Z)((0,c.Z)({},u),{},{subName:n.subName}));case 5:return p=r.sent,r.abrupt("return",p);case 7:case"end":return r.stop()}}),r)}))()},freezeOrUnfreezeSubAccount(e,t){return o().mark((function r(){var a,n,s,c;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.subAccount,n=t.call,s=2===a.status?"freezeSubAccount":"unfreezeSubAccount",r.next=5,n(d[s],a.subName);case 5:return c=r.sent,r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)}))()},modifyRemark(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.subAccount,s=t.call,c=a.values,r.next=5,s(d.modifySubAccountRemark,{subName:n.subName,remarks:c.remarks});case 5:return u=r.sent,r.abrupt("return",u);case 7:case"end":return r.stop()}}),r)}))()},getSubAccountAmount(e,t){return o().mark((function r(){var a,n,u,p,i,l,f,x,v,m,h,w,b,k;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,u=t.put,p=t.select,r.next=4,p((e=>e.user));case 4:return i=r.sent,l=i.balanceCurrency,f=a||{},x=f.baseCurrency,v=f.baseAmount,r.next=9,n(d.getSubAccountAmount,{baseCurrency:x||l||"USDT",baseAmount:v});case 9:return m=r.sent,h=m.data,w={},b=0,k="",s()(h,(e=>{w[e.subName]=(0,c.Z)({},e);var t=e||{},r=t.baseMainAmount,a=void 0===r?0:r,n=t.baseTradeAmount,s=void 0===n?0:n,u=t.baseMarginAmount,o=void 0===u?0:u,p=(0,y.IH)((0,y.IH)(a,s),o);b=p.plus(b||0).toFixed(),k=e.baseCurrency})),r.next=17,u({type:"update",payload:{accountsMoney:w,totalAmount:b,baseCurrency:k}});case 17:case"end":return r.stop()}}),r)}))()},getAccountBalancne(e,t){return o().mark((function e(){var r,a,n,s;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(d.queryMainAccount);case 3:return n=e.sent,s=n.data,e.next=7,a({type:"update",payload:{categories:s}});case 7:case"end":return e.stop()}}),e)}))()},fundTrans(e,t){return o().mark((function r(){var n,s,u,p,i,l,y,f;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=t.call,u=(0,c.Z)({},n.values),u.direction=u.direct.direct,u.currency=u.coin,u.subUserId=u.account,p=(0,a.Z)(u.direct.ft,2),i=p[0],l=p[1],y="fundsTrans",[i,l].some((e=>-1===e.indexOf("sub")))?(u.accountType="MAIN",u.subAccountType=[i,l].indexOf("sub_trade")>-1?"TRADE":"MAIN"):(y="subInnerTrans",u.payAccountType="sub_trade"===i?"TRADE":"MAIN",u.recAccountType="sub_trade"===l?"TRADE":"MAIN"),["coin","direct","account"].forEach((e=>{delete u[e]})),r.next=12,s(d[y],u);case 12:return f=r.sent,r.abrupt("return",f);case 14:case"end":return r.stop()}}),r)}))()}},subscriptions:{}})},2505:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(28463),p=r(68798),i=r(97370),l=r(8055),d=r(17005);t["default"]=(0,c.default)(u.Z,{namespace:"utransfer",state:{NeedVerify:!1,questions:[],totalBalance:0},effects:{get_verify_type(e,t){return s().mark((function r(){var n,c,u,o,p,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=void 0===n?{}:n,u=t.call,o=t.put,r.next=4,u(l.checkValidations,(0,a.Z)({},c));case 4:if(p=r.sent,i=p.data,!i||!i.length){r.next=11;break}return r.next=9,o({type:"update",payload:{NeedVerify:!0}});case 9:return r.next=11,o({type:"get_question_list"});case 11:case"end":return r.stop()}}),r)}))()},get_question_list(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(l.getQuestionList);case 3:if(n=e.sent,c=n.data,!c){e.next=8;break}return e.next=8,a({type:"update",payload:{questions:c}});case 8:case"end":return e.stop()}}),e)}))()},upgrade_password(e,t){return s().mark((function r(){var a,n,c,u;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,u=a.withdrawPassword,r.next=5,n(l.upgradePassword,{withdrawPassword:(0,i.mt)(u)});case 5:return o.Z.setItem("finishUpgrade",!0),r.next=8,c({type:"user/pullUser"});case 8:(0,p.gx)("/account");case 9:case"end":return r.stop()}}),r)}))()},verify_question(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,r.next=4,n(l.verify,a);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)}))()},getUserTotalBalance(e,t){return s().mark((function e(){var r,a,n,c,u,o,p;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(d.lZ,{baseCurrency:"BTC"});case 3:return n=e.sent,c=n.data,u=c.mainModel,o=c.tradeModel,p=(0,i.uf)((0,i.IH)(u.totalBalance,o.totalBalance),8),e.next=9,r({type:"update",payload:{totalBalance:p}});case 9:case"end":return e.stop()}}),e)}))()}}})},99691:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(52353),c=r.n(s),u=r(67880),o=r(18504),p=r(50985),i=r(27042),l=r(86960),d=r(68798),y=r(76215),f=r(77944);t["default"]=(0,l.default)(u.Z,p.Z,o.Z,i.Z,{namespace:"account_freeze",state:{pageLoading:!0,userChecked:!1,email:"",frozen:!1,codeError:!1,securityAllowTypes:[],verifyStep:0,rejectReason:""},effects:{updateFrozenTime(e,t){return n().mark((function r(){var a,s,u,o,p;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.frozenTime,s=t.put,u=t.select,r.next=4,u((e=>e.account_freeze));case 4:if(o=r.sent,p=o.frozenTime,!c()(p)){r.next=16;break}return r.next=9,s({type:"update",payload:{frozenTime:a}});case 9:if(!(a>0)){r.next=14;break}return r.next=12,s({type:"countDown",payload:{countKey:"frozenTime",initial:a,step:1e3}});case 12:r.next=16;break;case 14:return r.next=16,s({type:"countDownClear",payload:{countKey:"frozenTime"}});case 16:case"end":return r.stop()}}),r)}))()},pullApplyInfo(e,t){return n().mark((function e(){var r,a,s,c,u;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(y.xT);case 3:if(s=e.sent,c=s.success,u=s.data,!c||!u){e.next=9;break}return e.next=9,a({type:"update",payload:{applyStatus:u.status,rejectReason:u.reason}});case 9:case"end":return e.stop()}}),e)}))()},checkFreeze(e,t){return n().mark((function r(){var a,s,c,u,o,p,i,l;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.code,s=t.call,c=t.put,r.prev=2,r.next=5,s(y.gb,{code:a});case 5:return u=r.sent,o=u.data,p=o.frozen,i=o.remainingTime,l=o.email,r.next=10,c({type:"update",payload:{frozen:p,email:l}});case 10:if(!p||!i){r.next=13;break}return r.next=13,c({type:"updateFrozenTime",payload:{frozenTime:Number(i)}});case 13:r.next=19;break;case 15:return r.prev=15,r.t0=r["catch"](2),r.next=19,c({type:"update",payload:{codeError:!0}});case 19:return r.prev=19,r.next=22,c({type:"update",payload:{pageLoading:!1}});case 22:return r.finish(19);case 23:case"end":return r.stop()}}),r,null,[[2,15,19,23]])}))()},confirmFreeze(e,t){return n().mark((function r(){var a,s,c,u,o;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.code,s=t.call,c=t.put,r.next=4,s(y.Wx,{code:a});case 4:if(u=r.sent,o=u.success,!o){r.next=9;break}return r.next=9,c({type:"update",payload:{frozen:!0}});case 9:case"end":return r.stop()}}),r)}))()},getSecurityAllowTypes(e,t){return n().mark((function e(){var r,a;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"security_new/get_verify_type",payload:{bizType:"UNFROZEN_ACCOUNT"}});case 3:return e.next=5,e.sent;case 5:return a=e.sent,e.next=8,r({type:"update",payload:{securityAllowTypes:a||[]}});case 8:case"end":return e.stop()}}),e)}))()},authenticationSubmit(e,t){return n().mark((function e(){var r,a,s,c,u,o,p,i;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,a=t.call,s=t.put,e.next=3,r((e=>e.account_freeze));case 3:return c=e.sent,u=c.fields,o={},Object.keys(u).forEach((e=>{o[e]=u[e].fileId.original,o["".concat(e,"Mini")]=u[e].fileId.mini})),e.prev=7,e.next=10,a(y.l0,o);case 10:p=e.sent,i=p.success,i&&(0,d.VF)("/freeze"),e.next=21;break;case 15:if(e.prev=15,e.t0=e["catch"](7),e.t0.code!==f.gW){e.next=20;break}return e.next=20,s({verifyStep:0});case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[7,15]])}))()}}})},29504:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(30381),o=r.n(u),p=r(67880),i=r(93584),l=r(65979),d=r(97370),y=r(33660),f=r(28220),x=r(17005);t["default"]=(0,c.default)(p.Z,i.Z,l.Z,{namespace:"overview",state:{showAssets:!0,filters:{accountType:"ACCOUNT_TYPE_TOTAL",targetCurrency:"BTC",startDate:30},assetDetail:{},dailyTrends:null,totalTrends:null,totalBalance:null,totalAssets:null,accountBalance:null,LastDayTotalInCome:0,kumexOpenFlag:void 0,kumexIsBonus:!1,showProfitDetail:!1,profitLayouts:{TOTAL:{},MAIN:{},TRADE:{}},profitEarnings:{TOTAL:{},MAIN:{},TRADE:{}},profitOverview:{TOTAL:{},MAIN:{},TRADE:{}},profitEarnMinDay:o()().subtract(3,"months").format("YYYY-MM-DD")},effects:{pullDailyTrend(e,t){return s().mark((function r(){var a,n,c,u,o;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.call,r.next=4,c(x.z3,a);case 4:return u=r.sent,o=u.data,r.next=8,n({type:"update",payload:{dailyTrends:o}});case 8:case"end":return r.stop()}}),r)}))()},query(e,t){return s().mark((function e(){var r,a,n,c,u,p,i,l;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,e.next=3,a((e=>e.overview));case 3:return n=e.sent,c=n.filters,u=c.accountType,p=c.targetCurrency,i=o()().subtract(c.startDate,"d").valueOf(),l=o()().valueOf(),e.next=10,r({type:"pullDailyTrend",payload:{accountType:u,targetCurrency:p,startDate:i,endDate:l}});case 10:case"end":return e.stop()}}),e)}))()},pullUserBalanceRank(e,t){return s().mark((function e(){var r,a,n,c,u,o;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(x.u5,{baseCurrency:"BTC",size:5});case 3:return n=e.sent,c=n.data,u=c.scaleBalanceModels,o=c.totalBalance,e.next=9,r({type:"update",payload:{totalTrends:{scaleAssets:u,totalAssets:o}}});case 9:case"end":return e.stop()}}),e)}))()},pullUserTotalBalance(e,t){return s().mark((function e(){var r,a,n,c,u,o,p,i,l,y;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(x.lZ,{baseCurrency:"BTC"});case 3:return n=e.sent,c=n.data,u=c||{},o=u.mainModel,p=u.tradeModel,i=o.totalBalance||0,l=p.totalBalance||0,y=(0,d.IH)(i,l)||0,e.next=11,r({type:"update",payload:{totalBalance:c,totalAssets:y}});case 11:case"end":return e.stop()}}),e)}))()},pullAssetDetail(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,l,d;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.callBack,n=t.put,c=t.call,u=t.select,r.next=4,u((e=>e.user));case 4:return o=r.sent,p=o.balanceCurrency,r.next=8,c(x.tN,{balanceCurrency:p||"USDT"});case 8:if(i=r.sent,l=i.success,d=i.data,!l){r.next=15;break}return r.next=14,n({type:"update",payload:{assetDetail:d}});case 14:a&&a();case 15:case"end":return r.stop()}}),r)}))()},getLastDayTotalInCome(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(y.NZ,{currency:"BTC"});case 3:return n=e.sent,c=n.data,e.next=7,r({type:"update",payload:{LastDayTotalInCome:c}});case 7:case"end":return e.stop()}}),e)}))()},checkKumexIsOpen(e,t){return s().mark((function e(){var r,a,n,c,u,o,p;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.select,e.next=3,n((e=>e.user));case 3:if(c=e.sent,u=c.isLogin,u){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,r(f.getAccountOpenConfig,{type:"CONTRACT"});case 9:return o=e.sent,p=o.data,e.next=13,a({type:"update",payload:{kumexOpenFlag:p}});case 13:case"end":return e.stop()}}),e)}))()},getKumexIsBonus(e,t){return s().mark((function e(){var r,a,n,c,u,o,p,i,l;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,n=t.select,e.next=3,n((e=>e.user));case 3:if(c=e.sent,u=c.isLogin,o=c.user,u){e.next=8;break}return e.abrupt("return");case 8:return p={isForOpen:!1,userId:o.uid},e.prev=9,e.next=12,a(f.getKumexIsBonus,p);case 12:if(i=e.sent,l=i.data,!l){e.next=17;break}return e.next=17,r({type:"update",payload:{kumexIsBonus:l.hasRewards}});case 17:e.next=21;break;case 19:e.prev=19,e.t0=e["catch"](9);case 21:case"end":return e.stop()}}),e,null,[[9,19]])}))()},updateSwitch(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.call,r.next=4,c(x.al,a);case 4:return r.next=6,n({type:"pullAssetDetail"});case 6:case"end":return r.stop()}}),r)}))()},pullProfitLayouts(e,t){return s().mark((function r(){var n,c,u,o,p,i,l,d,y,f,v;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.put,u=t.call,o=t.select,p=n.type,i="TOTAL"===p?x.tp:x.p0,l={},r.prev=5,r.next=8,u(i,(0,a.Z)((0,a.Z)({},n),{},{balanceCurrency:"USDT"}));case 8:d=r.sent,y=d.data,l=y,r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](5),console.error(r.t0);case 16:return r.next=18,o((e=>e.overview));case 18:return f=r.sent,v=f.profitLayouts,r.next=22,c({type:"update",payload:{profitLayouts:(0,a.Z)((0,a.Z)({},v),{},{[p]:l})}});case 22:case"end":return r.stop()}}),r,null,[[5,13]])}))()},pullProfitEarnings(e,t){return s().mark((function r(){var n,c,u,o,p,i,l,d,y,f;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.put,u=t.call,o=t.select,p=n.type,i=[],r.prev=4,r.next=7,u(x.FM,n);case 7:l=r.sent,d=l.data,i=d,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](4),console.error(r.t0);case 15:return r.next=17,o((e=>e.overview));case 17:return y=r.sent,f=y.profitEarnings,r.next=21,c({type:"update",payload:{profitEarnings:(0,a.Z)((0,a.Z)({},f),{},{[p]:i})}});case 21:case"end":return r.stop()}}),r,null,[[4,12]])}))()},pullProfitOverview(e,t){return s().mark((function r(){var n,c,u,o,p,i,l,d,y,f;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.put,u=t.call,o=t.select,p=n.type,i={},r.prev=4,r.next=7,u(x.bG,n);case 7:l=r.sent,d=l.data,i=d,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](4),console.error(r.t0);case 15:return r.next=17,o((e=>e.overview));case 17:return y=r.sent,f=y.profitOverview,r.next=21,c({type:"update",payload:{profitOverview:(0,a.Z)((0,a.Z)({},f),{},{[p]:i})}});case 21:case"end":return r.stop()}}),r,null,[[4,12]])}))()},pullProfitMinDay(e,t){return s().mark((function r(){var a,n,c,u,o,p;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,c=t.put,u=t.call,r.next=4,u(x.Ae,n);case 4:return o=r.sent,p=o.data,r.next=8,c({type:"update",payload:{profitEarnMinDay:p}});case 8:case"end":return r.stop()}}),r)}))()}},subscriptions:{watchTotalPolling(e){e.dispatch}}})},89623:function(e,t,r){"use strict";r.r(t);var a=r(66073),n=r.n(a),s=r(94657),c=r(8870),u=r(94043),o=r.n(u),p=r(65979),i=r(67880),l=r(86960),d=r(28220),y=r(17005),f=r(8054),x=r(79956),v=f.s8(),m=!1,h=e=>new Promise((t=>{var r={};e.forEach((e=>{var t=e.currency;r[t]=(0,c.Z)({},e)})),t(r)}));t["default"]=(0,l.default)(i.Z,p.Z,{namespace:"user_assets",state:{main:[],trade:[],coinIn:[],withdraw:[],mainMap:{},tradeMap:{},mainAccountAssets:{},marginAccountAssets:{},currencies:[],accountCurrency:[],transferKumexCurrency:"BTC",smallExchangeConfig:null,mainUpdator:0,tradeUpdator:0,marginUpdator:0},effects:{watchUser(e,t){return o().mark((function e(){var r,a,n,s,c;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.take,a=t.put,n=t.select;case 1:return e.next=4,r("user/pullUser/@@end");case 4:return e.next=6,n((e=>e.user));case 6:if(s=e.sent,c=s.user,!c){e.next=11;break}return e.next=11,a({type:"pullAssetsCoins"});case 11:e.next=1;break;case 13:case"end":return e.stop()}}),e)}))()},watchUserAndBaseConfig(e,t){return o().mark((function e(){var r,a,n,s,c,u,p,i;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.take,a=t.put,n=t.select,s=t.all;case 1:return e.next=4,s([r("user/pullUser/@@end"),r("user_assets/getSmallExchangeConfig/@@end")]);case 4:return e.next=6,n((e=>e.user));case 6:return c=e.sent,u=c.user,e.next=10,n((e=>e.user_assets));case 10:if(p=e.sent,i=p.smallExchangeConfig,!u||!i){e.next=15;break}return e.next=15,a({type:"pullAccountCoins@polling:restart"});case 15:e.next=1;break;case 17:case"end":return e.stop()}}),e)}))()},pullAssetsByType(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=e.callback,c=t.call,u=t.put,r.next=4,c(d.queryAssetsByType,n);case 4:if(p=r.sent,i=p.success,l=p.data,!i){r.next=11;break}return"function"===typeof s&&s(l),r.next=11,u({type:"update",payload:{currencies:l}});case 11:case"end":return r.stop()}}),r)}))()},pullAccountCoins(e,t){return o().mark((function e(){var r,a,n,c,u,p,i,l,y,x,m,w,b,k,g,T,Z;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.all,c=t.select,e.next=3,c((e=>e.user_assets));case 3:if(u=e.sent,p=u.smallExchangeConfig,i=u.main,l=u.trade,y=v.constructor.TOPIC_STATE.SUBSCRIBED,p&&!(i.length&&l.length&&v.connected()&&v.topicState[f.Zf.ACCOUNT_BALANCE]&&v.topicState[f.Zf.ACCOUNT_BALANCE][0]===y)){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,n([r(d.queryMainAccount,0,p.baseCurrency),r(d.queryTradeAccount,0,p.baseCurrency)]);case 12:return x=e.sent,m=(0,s.Z)(x,2),w=m[0].data,b=m[1].data,e.next=18,n([r(h,b),r(h,w)]);case 18:return k=e.sent,g=(0,s.Z)(k,2),T=g[0],Z=g[1],e.next=24,a({type:"update",payload:{main:w||[],trade:b||[],tradeMap:T,mainMap:Z}});case 24:case"end":return e.stop()}}),e)}))()},pullAssetsCoins(e,t){return o().mark((function e(){var r,a,n,c,u,p,i;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.all,e.next=3,n([r(d.getDepositCoinList),r(d.getWithDrawCoinList)]);case 3:return c=e.sent,u=(0,s.Z)(c,2),p=u[0].data,i=u[1].data,e.next=9,a({type:"update",payload:{coinIn:p||[],withdraw:i||[]}});case 9:case"end":return e.stop()}}),e)}))()},pullAssetsAccountBalance(e,t){return o().mark((function r(){var a,n,s,c,u,p,i;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,a.accountType="MAIN,TRADE,MARGIN",r.next=5,n(d.pullAssetsAccountBalance,a);case 5:if(c=r.sent,u=c.success,p=c.data,i=void 0===p?[]:p,u){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,s({type:"update",payload:{accountCurrency:i}});case 13:case"end":return r.stop()}}),r)}))()},updateAutoTransfer(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,r.next=4,n(d.updateAutoTransfer,a);case 4:if(c=r.sent,u=c.success,!u){r.next=9;break}return r.next=9,s({type:"coinin/update",payload:{toAccountType:a.toAccountType}});case 9:case"end":return r.stop()}}),r)}))()},pullMainAccountAssets(e,t){return o().mark((function e(){var r,a,n,s,c,u,p,i;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,n=t.select,e.next=3,n((e=>e.user));case 3:return s=e.sent,c=s.balanceCurrency,e.next=7,a(y.EY,{balanceCurrency:c});case 7:if(u=e.sent,p=u.success,i=u.data,!p){e.next=13;break}return e.next=13,r({type:"update",payload:{mainAccountAssets:i}});case 13:case"end":return e.stop()}}),e)}))()},pullMarginAccountAssets(e,t){return o().mark((function e(){var r,a,n,s,c,u,p,i,l,d,f,x,v;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,n=t.select,e.next=3,n((e=>e.user));case 3:return s=e.sent,c=s.balanceCurrency,e.next=7,n((e=>e.user_assets));case 7:return u=e.sent,p=u.smallExchangeConfig,i=p||{},l=i.baseCurrency,d=void 0===l?"USDT":l,e.next=12,a(y.TP,{baseCurrency:d,balanceCurrency:c||"USDT"});case 12:if(f=e.sent,x=f.success,v=f.data,!x){e.next=18;break}return e.next=18,r({type:"update",payload:{marginAccountAssets:v}});case 18:case"end":return e.stop()}}),e)}))()},selfTransfer(e,t){return o().mark((function r(){var a,n,s,c;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,r.next=4,n(y.__,a);case 4:return s=r.sent,c=s.success,r.abrupt("return",c);case 7:case"end":return r.stop()}}),r)}))()},outTransfer(e,t){return o().mark((function r(){var a,n,s,c,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.callback,s=t.call,c=t.put,r.next=4,s(y.Wx,a);case 4:if(u=r.sent,p=u.success,!p){r.next=10;break}return r.next=9,c({type:"notice/feed",payload:{type:"message.success",message:(0,x._t)("kumex.transfer.success")}});case 9:"function"===typeof n&&n(p);case 10:case"end":return r.stop()}}),r)}))()},updateBalance(e,t){return o().mark((function r(){var a,s,u,p,i,l,d,y,f,x,v,m,w,b,k,g,T,Z,_,S,A,C,I,M,P,L,N,U,D,R,E;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.banchMapMain,u=void 0===s?{}:s,p=a.banchMapTrade,i=void 0===p?{}:p,l=a.banchMapMargin,d=void 0===l?{}:l,y=t.put,f=t.select,x=t.call,r.next=4,f((e=>({mainList:e.user_assets.main,tradeList:e.user_assets.trade,prices:e.currency.prices,mainUpdator:e.user_assets.mainUpdator,tradeUpdator:e.user_assets.tradeUpdator,marginUpdator:e.user_assets.marginUpdator})));case 4:if(v=r.sent,m=v.mainList,w=v.tradeList,b=v.prices,k=v.mainUpdator,g=v.tradeUpdator,T=v.marginUpdator,Z=!1,_=!1,S="{}"!==JSON.stringify(d),A="{}"===JSON.stringify(u),C="{}"===JSON.stringify(i),I=[...m],n()(A?[]:m,((e,t)=>{var r=I[t],a=r.currency,n=r.time;u[a]&&u[a].time>n&&(Z||(Z=!0),I[t]=(0,c.Z)((0,c.Z)({},r),u[a]))})),M=[...w],n()(C?[]:w,((e,t)=>{var r=M[t],a=r.currency,n=r.time;i[a]&&i[a].time>n&&(_||(_=!0),M[t]=(0,c.Z)((0,c.Z)({},r),i[a]))})),P=Z?k+1:k,L=_?g+1:g,N=S?T+1:T,U=(e,t)=>{var r=+e.totalBalance*+b[e.currency],a=+t.totalBalance*+b[t.currency];return a-r},D=(e,t)=>{var r=+e.totalBalance,a=+t.totalBalance;return a-r},R=e=>{var t=e.filter((e=>+e.totalBalance&&b[e.currency]))||[],r=e.filter((e=>!(+e.totalBalance&&b[e.currency])))||[];return t.sort(U),r.sort(D),t.concat(r)},E={},!Z){r.next=33;break}return E.mainUpdator=P,E.main=R(I),r.next=32,x(h,I);case 32:E.mainMap=r.sent;case 33:if(!_){r.next=39;break}return E.tradeUpdator=L,E.trade=R(M),r.next=38,x(h,M);case 38:E.tradeMap=r.sent;case 39:return S&&(E.marginUpdator=N),r.next=42,y({type:"update",payload:E});case 42:case"end":return r.stop()}}),r)}))()},getSmallExchangeConfig(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,r.prev=2,r.next=5,s(y.F3,a);case 5:return c=r.sent,u=c.data,r.next=9,n({type:"update",payload:{smallExchangeConfig:u}});case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r["catch"](2),r.next=15,n({type:"update",payload:{smallExchangeConfig:{baseCurrency:"USDT",quotaLimit:0}}});case 15:case"end":return r.stop()}}),r,null,[[2,11]])}))()}},subscriptions:{setUp(e){e.dispatch},watchPolling(e){e.dispatch},subscribeMessage(e){var t=e.dispatch;m||(m=!0,v.topicMessage(f.Zf.ACCOUNT_BALANCE,"account.balance",!0)((e=>{var r={},a={},s={};n()(e,(e=>{var t=e.data,n=t.relationEvent,c=t.currency,u=t.total,o=t.hold,p=t.available,i=t.time;0===n.indexOf("main.")?r[c]={time:i,totalBalance:u,availableBalance:p,holdBalance:o}:0===n.indexOf("trade.")?a[c]={time:i,totalBalance:u,availableBalance:p,holdBalance:o}:0===n.indexOf("margin.")&&(s[c]={time:i,totalBalance:u,availableBalance:p,holdBalance:o})})),t({type:"updateBalance",payload:{banchMapMain:r,banchMapTrade:a,banchMapMargin:s}})})))}}})},27967:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(67880),u=r(34998),o=r(93584),p=r(65979),i=r(17005);t["default"]=(0,s.default)(c.Z,u.Z,o.Z,p.Z,{namespace:"wallet_lock",state:{visible:!1},effects:{confirm(e,t){return n().mark((function r(){var a,s,c,u;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=t.put,u=a.confirm,r.next=5,s(i.MX,u?1:0);case 5:return r.next=7,c({type:"checkIsConfirmed"});case 7:case"end":return r.stop()}}),r)}))()},checkIsConfirmed(e,t){return n().mark((function e(){var r,a,s;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(i.sx);case 3:if(s=e.sent,!s||"200"!==s.code){e.next=7;break}return e.next=7,r({type:"update",payload:{visible:!s.data}});case 7:case"end":return e.stop()}}),e)}))()}},subscriptions:{}})},43437:function(e,t,r){"use strict";r.r(t);var a=r(84486),n=r.n(a),s=r(8870),c=r(94043),u=r.n(c),o=r(86960),p=r(67880),i=r(12873),l=r(54083),d=r(28463),y=r(65426),f=r(33407),x=r(12639),v=r(49431),m=r(35660),h=r(39666),w=r(35740),b=r(12437),k=r.n(b),g=r(79956),T=(0,g.aX)(),Z=(0,g.eA)(T);f.Z.addParams({lang:d.Z.getItem("lang")||Z}),x.Z.addParams({lang:d.Z.getItem("lang")||Z}),v.Zz.addParams({lang:d.Z.getItem("lang")||Z}),m.Zz.addParams({lang:d.Z.getItem("lang")||Z}),w.L.addParams({lang:d.Z.getItem("lang")||Z}),x.Z.addParams({"x-version":void 0}),v.Zz.addParams({"x-version":void 0}),m.Zz.addParams({"x-version":void 0}),w.L.addParams({"x-version":void 0}),t["default"]=(0,o.default)(p.Z,{namespace:"app",state:{langList:[],langListMap:{},currentLang:y.Hj,currentLangReady:!1,isUseNewIndex:!0,platform:null,from:"",toastConfig:{},loginOpen:!1,forgetPwdOpen:!1,phoneSignUpEnabled:!1},reducers:{langReady(e){return(0,s.Z)((0,s.Z)({},e),{},{currentLangReady:!0})}},effects:{setInit(e,t){return u().mark((function r(){var a,n,s;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a.currentLang,r.next=5,n({type:"update",payload:{currentLang:s}});case 5:case"end":return r.stop()}}),r)}))()},changeUseNewIndexConfig(e,t){return u().mark((function r(){var a,n;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload.isUseNewIndex,n=t.put,"boolean"!==typeof a){r.next=6;break}return r.next=5,n({type:"update",payload:{isUseNewIndex:a}});case 5:d.Z.setItem("isUseNewIndex",a);case 6:case"end":return r.stop()}}),r)}))()},pullLangList(e,t){return u().mark((function e(){var r,a,s,c,o;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(i.P);case 4:if(s=e.sent,c=s.data,!c){e.next=11;break}return o={},n()(c,(e=>{o[e[0]]={lang:e[0],langName:e[1]}})),e.next=11,a({type:"update",payload:{langList:c,langListMap:o}});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])}))()},logout(e,t){return u().mark((function r(){var a,n,s,c,o;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,a=void 0===a?{}:a,n=a.to,s=t.call,r.next=6,s(l.kS);case 6:c=r.sent,o=c.code,"200"===o&&(h.e((e=>e.setUser(null))),n?window.location.href=(0,g.A4)("".concat(window.location.origin).concat(n)):window.location.reload());case 9:case"end":return r.stop()}}),r)}))()},_detectPlatform(e,t){return u().mark((function e(){var r,a,n,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=new(k())(window.navigator.userAgent),n="PC",a.tablet()||(s=a.mobile(),"iPhone"===s?n="IOS":s&&(n="ANDROID")),e.next=6,r({type:"update",payload:{platform:n}});case 6:case"end":return e.stop()}}),e)}))()},setToast(e,t){return u().mark((function r(){var a,n,c;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=(0,s.Z)({type:"error",duration:3e3,anchorOrigin:{vertical:"top",horizontal:"center"},open:!0},a),r.next=5,n({type:"update",payload:{toastConfig:c}});case 5:case"end":return r.stop()}}),r)}))()},getPhoneSignUpEnabled(e,t){return u().mark((function e(){var r,a,n,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(l.pm);case 3:if(n=e.sent,s=n.data,!s){e.next=8;break}return e.next=8,r({type:"update",payload:{phoneSignUpEnabled:s.phoneSignUpEnabled}});case 8:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"pullLangList"})}}})},49987:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(71047),u=r(86960),o=r(67880),p=r(68804),i=r(65426),l=r(23001),d=r(97370);t["default"]=(0,u.default)(o.Z,{namespace:"categories",state:{},reducers:{},effects:{pull(e,t){return s().mark((function e(){var r,n,u,o,y,f,x,v,m;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,n=t.put,e.prev=1,e.next=4,r(p.yN);case 4:return u=e.sent,o=u.data,y={},f={},x={},v={},m=[],o.pool.forEach((e=>{x[e.currency]=e})),o.kumex.forEach((e=>{v[e.currency]=e})),o.kucoin.forEach((e=>{e.precision=parseInt(e.precision||i.dK,10),(0,l.Z)(e.coin,e.precision);var t=(0,a.Z)((0,a.Z)({},e),{},{key:e.currency,coin:e.currency,step:(0,d.Y6)(1/Math.pow(10,e.precision)),decimals:(0,d.d3)(e.precision),isContractEnabled:!!v[e.currency],isPoolEnabled:!!x[e.currency]});y[e.currency]=t,f[e.currencyName]=t,m.push(t)})),e.next=16,n({type:"reset",payload:y});case 16:return e.next=18,n({type:"coins/update",payload:{list:m,coinNamesMap:f,poolCoinsMap:x,kumexCoinsMap:v,poolCoins:o.pool,kumexCoins:o.kumex}});case 18:e.next=26;break;case 20:return e.prev=20,e.t0=e["catch"](1),e.next=24,r(c.g,3e3);case 24:return e.next=26,n({type:"pull"});case 26:case"end":return e.stop()}}),e,null,[[1,20]])}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"pull"})}}})},93862:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(71047),c=r(86960),u=r(67880),o=r(45241);t["default"]=(0,c.default)(u.Z,{namespace:"chainInfo",state:{},reducers:{},effects:{pull(e,t){return n().mark((function r(){var a,c,u,p,i,l,d,y,f;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,c=void 0===a?{}:a,u=t.call,p=t.put,i=t.select,r.next=4,i((e=>e.chainInfo));case 4:if(l=r.sent,l&&"{}"!==JSON.stringify(l)&&!c.isNeedReload){r.next=23;break}return r.prev=6,r.next=9,u(o.bt);case 9:return d=r.sent,y=d.data,f={},y.forEach((e=>{f["".concat(e.currency,"_").concat(e.chain)]=e})),r.next=15,p({type:"reset",payload:f});case 15:r.next=23;break;case 17:return r.prev=17,r.t0=r["catch"](6),r.next=21,u(s.g,3e3);case 21:return r.next=23,p({type:"pull"});case 23:case"end":return r.stop()}}),r,null,[[6,17]])}))()}}})},21492:function(e,t,r){"use strict";r.r(t);var a=r(86960),n=r(67880);t["default"]=(0,a.default)(n.Z,{namespace:"coins",state:{list:[],coinNamesMap:{},poolCoinsMap:{},kumexCoinsMap:{},poolCoins:[],kumexCoins:[]},reducers:{},effects:{},subscriptions:{}})},98011:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(67880),u=r(65979),o=r(45241),p=r(28463);t["default"]=(0,s.default)(c.Z,u.Z,{namespace:"currency",state:{currency:null,currencyList:[],rates:{},prices:{}},effects:{pullRates(e,t){return n().mark((function e(){var r,a,s,c,u,p,i;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,s=[],c={},e.prev=3,e.next=6,r(o.jS);case 6:if(u=e.sent,p=u.data,p){for(i in p)Object.prototype.hasOwnProperty.call(p,i)&&s.push(i);c=p}e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](3),console.log(e.t0);case 14:return e.next=16,a({type:"update",payload:{currencyList:s,rates:c}});case 16:case"end":return e.stop()}}),e,null,[[3,11]])}))()},pullPrices(e,t){return n().mark((function r(){var a,s,c,u,i,l,d,y,f;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload.currency,s=t.call,c=t.put,u=t.select,i=a,a){r.next=10;break}return r.next=6,u((e=>e.user));case 6:l=r.sent,d=l.user,i=p.Z.getItem("currency")||"USD",d&&d.currency&&"null"!==d.currency?i=d.currency:"CNY"===i&&(i="USD",p.Z.setItem("currency","USD"));case 10:return r.next=12,s(o.vD,i);case 12:return y=r.sent,f=y.data,r.next=16,c({type:"update",payload:{currency:i,prices:f||{}}});case 16:case"end":return r.stop()}}),r)}))()},selectCurrency(e,t){return n().mark((function r(){var a,s,c,u,o,i,l,d,y;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.currency,c=a.reloadUser,u=void 0===c||c,o=e.logined,i=void 0!==o&&o,l=t.put,d=t.select,r.next=4,d((e=>e.user.user));case 4:if(y=r.sent,!y&&!i){r.next=8;break}return r.next=8,l({type:"user/setLocal",payload:{params:{currency:s},reloadUser:u}});case 8:return r.next=10,l({type:"update",payload:{currency:s}});case 10:p.Z.setItem("currency",s);case 11:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"pullRates"}),t({type:"pullPrices",payload:{}})}}})},34724:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(93224),s=r(54061),c=r.n(s),u=r(94043),o=r.n(u),p=r(86960),i=r(8054),l=r(28463),d=r(67880),y=r(94166),f=r(93584),x=r(65979),v=r(68804),m=i.s8(),h=!1,w="FORWARD";t["default"]=(0,p.default)(d.Z,y.Z,f.Z,x.Z,{namespace:"futureMarket",state:{marketList:[],favoriteList:[],forWardList:[],reverseList:[],configNavList:[],area:l.Z.getItem("FUTURES_MARKET_TAB_KEY")||w},effects:{getFavoriteList(e,t){return o().mark((function e(){var r,a,n,s,c,u;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.select,e.next=3,n((e=>e.user.user));case 3:if(s=e.sent,!s){e.next=11;break}return e.next=7,r(v.fv);case 7:return c=e.sent,u=c.data,e.next=11,a({type:"update",payload:{favoriteList:u}});case 11:case"end":return e.stop()}}),e)}))()},collectContract(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=t.call,s=t.put,c=t.select,r.next=4,c((e=>e.user.user));case 4:if(u=r.sent,!u){r.next=10;break}return r.next=8,n(v.dH,a);case 8:return r.next=10,s({type:"getFavoriteList"});case 10:case"end":return r.stop()}}),r)}))()},getMarketList(e,t){return o().mark((function e(){var r,a,n,s;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,a({type:"pullTradeAreaList"});case 3:return e.next=5,r(v.C2);case 5:return n=e.sent,s=n.data,e.next=9,a({type:"update",payload:{marketList:s}});case 9:case"end":return e.stop()}}),e)}))()},pullContracts(e,t){return o().mark((function e(){var r,a,n,s,c,u,p;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(v.a3);case 3:return n=e.sent,s=n.data,c=[...s],u=[],p=[],c.forEach((e=>{e.isInverse?p.push(e):u.push(e)})),e.next=11,a({type:"update",payload:{forWardList:u,reverseList:p}});case 11:return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)}))()},pullTradeAreaList(e,t){return o().mark((function e(){var r,s,u,p,i,d,y,f,x,m;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,s=t.put,u=t.select,e.prev=1,e.next=4,u((e=>e.futureMarket.area));case 4:return p=e.sent,i=l.Z.getItem("FUTURES_MARKET_TAB_KEY"),i&&(p=i),e.next=9,r(v.Wn);case 9:return d=e.sent,y=d.data,f=c()(y,((e,t)=>{var r=t.displayName,s=(0,n.Z)(t,["displayName"]),c=(0,a.Z)({displayName:r},s);return r&&(c.nameJson=JSON.parse(r)),e.push(c),e}),[]),x=["FAV","FORWARD","REVERSE"],m=f.find((e=>e.displayName===p)),m||x.includes(p)||(p=w,l.Z.setItem("FUTURES_MARKET_TAB_KEY",p)),e.next=17,s({type:"update",payload:{configNavList:f,area:p}});case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e["catch"](1),e.next=23,s({type:"update",payload:{area:w}});case 23:case"end":return e.stop()}}),e,null,[[1,19]])}))()},updateMarketList(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l,d,y;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.select,c=t.put,u=n.data,p=void 0===u?[]:u,r.next=5,s((e=>e.futureMarket));case 5:if(i=r.sent,l=i.marketList,l&&0!==l.length){r.next=9;break}return r.abrupt("return");case 9:return d={},p.forEach((e=>{var t=e.data;t&&(d[t.symbol]=t)})),y=l.map((e=>(d[e.symbol]&&(e=d[e.symbol]),e))),r.next=14,c({type:"update",payload:{marketList:y}});case 14:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUpFutureMarket(e){var t=e.dispatch;t({type:"watchPolling",payload:{effect:"getMarketList",interval:6e4}})},subscribeMessage(e){var t=e.dispatch;h||(h=!0,m.topicMessage("/contractMarket/snapshot","snapshot.24h",!1)((e=>{t({type:"updateMarketList",payload:{data:e}})}),300,!0))}}})},23386:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880);t["default"]=(0,c.default)(u.Z,{namespace:"initValues",state:{},effects:{collect(e,t){return s().mark((function e(){var r,n,c,u;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,n=t.put,e.next=3,r();case 3:return c=e.sent,u=(0,a.Z)({},c),delete u["@@dva"],delete u.routing,delete u.loading,delete u.initValues,e.next=11,n({type:"update",payload:u});case 11:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUpInitialvaule(e){var t=e.dispatch;t({type:"collect"})}}})},72530:function(e,t,r){"use strict";r.r(t);var a=r(12611),n=r.n(a),s=r(64721),c=r.n(s),u=r(94657),o=r(66073),p=r.n(o),i=r(8870),l=r(54061),d=r.n(l),y=r(35161),f=r.n(y),x=r(94043),v=r.n(x),m=r(71047),h=r(86960),w=r(8054),b=r(67880),k=r(94166),g=r(93584),T=r(65979),Z=r(28463),_=r(68804),S=r(32639),A=r(97370),C=r(18968),I=w.s8(),M=!1,P=(e,t,r)=>{var a=[...f()(e.symbolsMap,(e=>e)),r],n=d()(a,((e,t)=>d()(t,((e,t)=>(0,i.Z)((0,i.Z)({},e),{},{[t.symbol]:(0,i.Z)({},t)})),{})),{});return(0,i.Z)((0,i.Z)({},e),{},{symbolsMap:(0,i.Z)((0,i.Z)({},e.symbolsMap),{},{[t]:r}),coinPairMap:(0,i.Z)((0,i.Z)({},e.coinPairMap),n)})};t["default"]=(0,h.default)(b.Z,k.Z,g.Z,T.Z,{namespace:"market",state:{filters:{area:""},areas:[],areasMap:{},marginConfigs:{},records:[],favRecords:[],symbolsMap:{},stickSymbols:[],favSymbols:[],coinPairMap:{},discountSymbolRecords:[],feeInfoMap:{},disabledTipMap:{},symbolsInfoMap:{},allRecords:[],spotIndexSymbol:"",sampleRecords:[],tickers:[],tickersMap:{},isolatedSymbols:[],isolatedSymbolsMap:{}},reducers:{updateAreas(e,t){var r=t.payload,a=r||{},n=a.areas,s=void 0===n?[]:n,c=a.areasMap,u=void 0===c?{}:c;return(0,i.Z)((0,i.Z)({},e),{},{areas:s,areasMap:u})},updateFilters(e,t){var r=t.payload;return(0,i.Z)((0,i.Z)({},e),{},{filters:r})},updateAreaSymbols(e,t){var r=t.payload,a=r.area,n=r.records;return P(e,a,n)},updateFeeInfo(e,t){var r=t.payload.feeInfo;return(0,i.Z)((0,i.Z)({},e),{},{feeInfoMap:(0,i.Z)((0,i.Z)({},e.feeInfoMap),{},{[r.symbol]:r.data})})},updateDisabledTip(e,t){var r=t.payload.disabledTip;return(0,i.Z)((0,i.Z)({},e),{},{disabledTipMap:(0,i.Z)((0,i.Z)({},e.disabledTipMap),{},{[r.symbol]:r.data})})},updateSymbolsInfo(e,t){var r=t.payload,a=r.data,n=void 0===a?[]:a,s=d()(n||[],((e,t)=>(0,i.Z)((0,i.Z)({},e),{},{[t.code]:t})),{});return(0,i.Z)((0,i.Z)({},e),{},{symbolsInfoMap:s})},updateByWs(e,t){var r=t.payload,a=r.areaMap,n=r.favRecords,s=(0,i.Z)((0,i.Z)({},e),{},{favRecords:n});return p()(a,((e,t)=>{s=P(s,t,e)})),s}},effects:{pullAreas(e,t){return v().mark((function e(){var r,a,n,s,c,u,o,p,i,l;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(_.Qx);case 4:if(n=e.sent,s=n.data,c=void 0===s?[]:s,!c||!c.length){e.next=13;break}return u=[],o={},c.forEach((e=>{var t=e||{},r=t.name,a=void 0===r?"":r,n=t.displayName,s=void 0===n?"":n,c=t.quotes,p=void 0===c?[]:c;a&&(u.push(a),o[a]={displayName:s||a,quotes:p})})),e.next=13,a({type:"updateAreas",payload:{areas:u,areasMap:o}});case 13:return e.next=15,r(_.IP);case 15:return p=e.sent,i=p.data,l=void 0===i?{}:i,e.next=20,a({type:"update",payload:{marginConfigs:l}});case 20:e.next=28;break;case 22:return e.prev=22,e.t0=e["catch"](1),e.next=26,r(m.g,3e3);case 26:return e.next=28,a({type:"pullAreas"});case 28:case"end":return e.stop()}}),e,null,[[1,22]])}))()},pullIsolatedSymbols(e,t){return v().mark((function e(){var r,a,n,s,c,u,o,p,i;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.select,e.next=3,n((e=>e.market));case 3:if(s=e.sent,c=s.isolatedSymbols,u=void 0===c?[]:c,!u.length){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r(_.NO);case 10:return o=e.sent,p=o.data,i={},f()(p,(e=>(i[e.symbol]=e,e))),e.next=16,a({type:"update",payload:{isolatedSymbols:p,isolatedSymbolsMap:i}});case 16:case"end":return e.stop()}}),e)}))()},pull(e,t){return v().mark((function e(){var r,a,n,s,c,u;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(_.yi,{});case 3:return n=e.sent,s=n.data,c=s.map((e=>{var t=e.baseIncrement,r=e.priceIncrement,a=e.quoteIncrement;return(0,i.Z)((0,i.Z)({},e),{},{basePrecision:(0,A.Ni)(t),pricePrecision:(0,A.Ni)(r),quotePrecision:(0,A.Ni)(a)})})),u=c.filter((e=>e.enableTrading)),e.next=9,a({type:"updateSymbolsInfo",payload:{data:c}});case 9:return e.next=11,a({type:"update",payload:{records:u,allRecords:c}});case 11:case"end":return e.stop()}}),e)}))()},pullFavRecords(e,t){return v().mark((function e(){var r,a,n,s,c,u,o,p,i,l;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,n=t.select,e.next=3,n((e=>e.market));case 3:if(s=e.sent,c=s.favSymbols,u=void 0===c?[]:c,o=u.join(),o&&"null"!==o){e.next=12;break}return e.next=10,a({type:"update",payload:{favRecords:[]}});case 10:e.next=19;break;case 12:return e.next=14,r(_.Iq,{symbols:o});case 14:return p=e.sent,i=p.data,l=i.filter((e=>!!e))||[],e.next=19,a({type:"update",payload:{favRecords:l.sort(((e,t)=>+t.volValue-+e.volValue))}});case 19:case"end":return e.stop()}}),e)}))()},pullMarketRecordsByArea(e,t){return v().mark((function r(){var a,n,s,c,u,o;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.area,n=t.call,s=t.put,r.next=4,n(_.Ry,{quote:a||"BTC"});case 4:return c=r.sent,u=c.data,o=u.filter((e=>!!e))||[],r.next=9,s({type:"updateAreaSymbols",payload:{area:a,records:o.sort(((e,t)=>+t.volValue-+e.volValue))}});case 9:case"end":return r.stop()}}),r)}))()},pullIndexTickers(e,t){return v().mark((function r(){var a,n,s,c,o,p;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.area,n=t.call,s=t.put,r.next=4,n(_.HE);case 4:return c=r.sent,o=c.data,p=f()(o.filter((e=>!!e))||[],((e,t)=>{var r=e.symbol.split("-"),a=(0,u.Z)(r,2),n=a[0],s=a[1];return{baseCurrency:n,changeRate:e.change,close:e.close,high:e.high,lastTradedPrice:e.price,low:e.low,open:e.open,quoteCurrency:s,sort:t+1,symbol:e.name,symbolCode:e.symbol,trading:!0,board:0}})),r.next=9,s({type:"updateAreaSymbols",payload:{area:a,records:p}});case 9:case"end":return r.stop()}}),r)}))()},query(e,t){return v().mark((function e(){var r,a,n,s;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,e.next=3,a((e=>e.market.filters));case 3:if(n=e.sent,s=n.area,s!==C.V){e.next=10;break}return e.next=8,r({type:"pullIndexTickers",payload:{area:s}});case 8:e.next=12;break;case 10:return e.next=12,r({type:"pullMarketRecordsByArea",payload:{area:s}});case 12:case"end":return e.stop()}}),e)}))()},updateSnapshotByMap(e,t){return v().mark((function r(){var a,n,s,o,i,l,d,y,x,m,h,w,b,k;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.select,o=a,r.next=5,s((e=>[e.market.symbolsMap,e.market.favRecords||[],e.market.filters]));case 5:return i=r.sent,l=(0,u.Z)(i,3),d=l[0],y=l[1],x=l[2],m=x||{},h=m.area,w=void 0===h?"":h,b={},f()(o,(e=>{var t=e.market,r=e.markets,a=e.symbolCode,n=w&&r&&c()(r,w)?w:t;b[n]||(b[n]=[...d[n]||[]]);var s=b[n];p()(s,((t,r)=>{if(t.symbolCode===a)return s[r]=e,!1}))})),k=[...y],p()(k,((e,t)=>{var r=e.symbolCode;o[r]&&(k[t]=o[r])})),r.next=17,n({type:"updateByWs",payload:{areaMap:b,favRecords:k}});case 17:case"end":return r.stop()}}),r)}))()},pullUserFavSymbols(e,t){return v().mark((function e(){var r,a,n,s;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(_.oE);case 3:if(n=e.sent,s=n.data,!s){e.next=8;break}return e.next=8,a({type:"update",payload:{favSymbols:s}});case 8:case"end":return e.stop()}}),e)}))()},userCollectFavSymbol(e,t){return v().mark((function r(){var a,n,s;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=t.call,s=t.put,r.next=4,n(_.re,{symbol:a});case 4:return r.next=6,s({type:"pullUserFavSymbols"});case 6:case"end":return r.stop()}}),r)}))()},clearSelfSymbols(e,t){return v().mark((function e(){var r;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"update",payload:{favSymbols:[],stickSymbols:[]}});case 3:case"end":return e.stop()}}),e)}))()},pullFeeBySymbol(e,t){return v().mark((function r(){var a,n,s,c,u;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=t.call,s=t.put,r.next=4,n(_.DR,a);case 4:return c=r.sent,u=c.data,u.createdAt=new Date,r.next=9,s({type:"updateFeeInfo",payload:{feeInfo:{symbol:a,data:u}}});case 9:case"end":return r.stop()}}),r)}))()},pullDisabledTip(e,t){return v().mark((function r(){var a,n,s,c,u,o,p;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=t.call,s=t.put,r.next=4,n(_.sS,{symbol:a});case 4:return c=r.sent,u=c.data,o=void 0===u?{}:u,p={tip:o.disabledTip},p.createdAt=new Date,r.next=11,s({type:"updateDisabledTip",payload:{disabledTip:{symbol:a,data:p}}});case 11:case"end":return r.stop()}}),r)}))()},pullDiscountSymbols(e,t){return v().mark((function e(){var r,a,n,s;return v().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(_.dU);case 3:return n=e.sent,s=n.data,e.next=7,a({type:"update",payload:{discountSymbolRecords:s?[...s]:[]}});case 7:case"end":return e.stop()}}),e)}))()},pullSamples(e,t){return v().mark((function r(){var a,n,s,c,u,o;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,r.next=4,n(_.mk,a);case 4:return c=r.sent,u=c.data,o=void 0===u?[]:u,r.next=9,s({type:"update",payload:{sampleRecords:o}});case 9:case"end":return r.stop()}}),r)}))()},pullTickers(e,t){return v().mark((function r(){var a,n,s,c,u,o,i,l;return v().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,c=t.put,r.next=4,s(_.HE,n);case 4:return u=r.sent,o=u.data,i=void 0===o?[]:o,l={},p()(i,(e=>{l[e.symbol]=e})),r.next=11,c({type:"update",payload:{tickers:i,tickersMap:l}});case 11:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"pullAreas"}),t({type:"pull"});var r=Z.Z.getItem(S.V)||{};t({type:"filter",payload:{area:r.area||"BTC"}}),t({type:"watchPolling",payload:{effect:"pullFavRecords",interval:6e4}}),t({type:"watchPolling",payload:{effect:"filter",interval:6e4}})},subscribeMessage(e){var t=e.dispatch;M||(M=!0,I.topicMessage(w.Zf.MARKET_SNAPSHOT,"trade.snapshot")((e=>{var r={};n()(e,(e=>{var t=e.data;t=void 0===t?{}:t;var a=t.data,n=a.symbolCode;r[n]||(r[n]=a)})),t({type:"updateSnapshotByMap",payload:r})}),500,!0))}}})},62016:function(e,t,r){"use strict";r.r(t);var a=r(3651),n=r.n(a),s=r(61170),c=r(8870),u=r(94043),o=r.n(u),p=r(86960),i=r(67880);t["default"]=(0,p.default)(i.Z,{namespace:"notice",state:{_publicMaxNoticeID:0,publicNotice:[],openingGroupMap:{}},effects:{feed(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,l,d,y,f,x,v;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.type,s=a.message,c=a.extra,u=a.groupName,p=a.maxCount,i=t.select,l=t.put,c||(c=0===n.indexOf("message.")?[]:{}),r.next=5,i((e=>e.notice));case 5:if(d=r.sent,y=d.openingGroupMap,!u||"string"!==typeof u||0!==n.indexOf("notification.")){r.next=23;break}return r.next=10,i((e=>e.notice));case 10:if(f=r.sent,x=f._publicMaxNoticeID,v=y[u],p="number"===typeof p&&p>0?p:2,c.groupName=u,c.key=c.key||x+1,!Array.isArray(v)||v.length!==p){r.next=19;break}return r.next=19,l({type:"crowdOut",payload:{groupName:u}});case 19:return r.next=21,l({type:"newNotification",payload:{type:n,message:s,extra:c,groupName:u}});case 21:r.next=25;break;case 23:return r.next=25,l({type:"newNotice",payload:{type:n,message:s,extra:c}});case 25:case"end":return r.stop()}}),r)}))()}},reducers:{newNotification(e,t){var r=t.payload,a=r.type,n=r.message,s=r.extra,u=r.groupName,o=e._publicMaxNoticeID+1,p=e.openingGroupMap[u]||[];return(0,c.Z)((0,c.Z)({},e),{},{_publicMaxNoticeID:o,openingGroupMap:(0,c.Z)((0,c.Z)({},e.openingGroupMap),{},{[u]:[...p,s.key]}),publicNotice:[...e.publicNotice,{type:a,message:n,extra:(0,c.Z)({duration:4,placement:"bottomRight"},s),id:o}]})},newNotice(e,t){var r=t.payload,a=r.type,n=r.message,s=r.extra,u=e._publicMaxNoticeID+1;return(0,c.Z)((0,c.Z)({},e),{},{_publicMaxNoticeID:u,publicNotice:[...e.publicNotice,{type:a,message:n,extra:s,id:u}]})},crowdOut(e,t){var r=t.payload.groupName,a=e._publicMaxNoticeID+1,n=e.openingGroupMap[r],u=(0,s.Z)(n),o=u[0],p=u.slice(1);return(0,c.Z)((0,c.Z)({},e),{},{_publicMaxNoticeID:a,openingGroupMap:(0,c.Z)((0,c.Z)({},e.openingGroupMap),{},{[r]:p}),publicNotice:[...e.publicNotice,{id:a,type:"notification.close",extra:{key:o}}]})},removeKeyInGroup(e,t){var r=t.payload,a=r.groupName,n=r.key,s=e.openingGroupMap[a],u=s.filter((e=>e!==n));return(0,c.Z)((0,c.Z)({},e),{},{openingGroupMap:(0,c.Z)((0,c.Z)({},e.openingGroupMap),{},{[a]:u})})},consume(e,t){var r=t.payload.ids,a=void 0===r?[]:r,s=e.publicNotice,u=s.filter((e=>-1===n()(a,e.id)));return(0,c.Z)((0,c.Z)({},e),{},{publicNotice:u})}},subscriptions:{}})},96120:function(e,t,r){"use strict";r.r(t);var a=r(8870);t["default"]={namespace:"ping",state:{delayHTTP:0},reducers:{setDelayHTTP(e,t){var r=t.payload.delayHTTP;return(0,a.Z)((0,a.Z)({},e),{},{delayHTTP:r})}}}},91029:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(67880),u=r(61612);t["default"]=(0,s.default)(c.Z,{namespace:"publicNoticeDialog",state:{noticeInfo:{}},effects:{getNotice(e,t){return n().mark((function r(){var a,s,c,o,p,i,l;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.put,c=t.call,r.next=4,c(u.T,a);case 4:if(o=r.sent,p=o.success,i=o.data,!p){r.next=11;break}return l=a.module,r.next=11,s({type:"update",payload:{noticeInfo:i&&i.find((e=>e.module===l))||{}}});case 11:case"end":return r.stop()}}),r)}))()},sendNoticeCallback(e,t){return n().mark((function r(){var a,s;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,r.next=4,s(u.I,a);case 4:return r.abrupt("return",r.sent);case 5:case"end":return r.stop()}}),r)}))()}}})},69419:function(e,t,r){"use strict";r.r(t);var a=r(42905),n=r.n(a),s=r(8870),c=r(94043),u=r.n(c),o=r(86960),p=r(79956),i=r(67880),l=r(8055),d=r(59395),y=r(97370),f=y.mr.getEvt(),x=!0,v=null,m=(e,t)=>e&&t&&"my_sms"===t.toLowerCase()?"MY_VOICE":e&&t&&"sms"===t.toLowerCase()?"VOICE":t,h=e=>e.split("/")[0];t["default"]=(0,o.default)(i.Z,{namespace:"security",state:{sec_bizType:"",sec_code:"",sec_channel:"",instanceArr:{},dispatchHandle:null,retryAfterSeconds:0},reducers:{sec_clear(){return{sec_bizType:"",sec_code:"",sec_channel:""}}},effects:{sec_init(e,t){return u().mark((function r(){var a,n;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"sec_setVerify_type",payload:a});case 4:case"end":return r.stop()}}),r)}))()},sec_setVerify_type(e,t){return u().mark((function r(){var a,n,s,c,o,p,i;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a.bizType,c=a.sec_code,o=void 0===c?"":c,p=a.sec_channel,i=void 0===p?"":p,r.next=5,n({type:"update",payload:{sec_bizType:s,sec_code:o,sec_channel:i}});case 5:case"end":return r.stop()}}),r)}))()},sec_verify(e,t){return u().mark((function r(){var a,n,c,o,p,i,d,y,x,v,w,b,k,g,T,Z,_,S,A,C,I,M,P,L,N,U;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.type,c=e.clear,o=void 0===c||c,p=t.call,i=t.put,d=t.select,y=h(n),r.next=5,d((e=>e[y]));case 5:return x=r.sent,v=x.sec_bizType,w=a.validationType,b=a.validationVal,k=a.bizType,g=void 0===k?"":k,T=a.id,Z=a.validations,_=void 0===Z?null:Z,S=a.extraParams,A=void 0===S?{}:S,C=a.address,I=void 0===C?null:C,M=a.isVoiceSend,P=void 0!==M&&M,L=null,r.prev=9,N=(m(P,w)||"").toLowerCase(),U={["validations[".concat(N,"]")]:b},I&&(U.address=I),_&&(U=Object.keys(_).reduce(((e,t)=>{var r=(m(P,t)||"").toLowerCase();return(0,s.Z)((0,s.Z)({},e),{},{["validations[".concat(r,"]")]:_[t]})}),{})),r.next=16,p(l.verify,(0,s.Z)((0,s.Z)({bizType:g||v},U),A));case 16:if(L=r.sent,!L||"200"!==L.code||!o){r.next=20;break}return r.next=20,i({type:"sec_clear"});case 20:r.next=25;break;case 22:r.prev=22,r.t0=r["catch"](9),L=r.t0;case 25:return T&&f.emit("".concat(T,"/verify"),L||{}),r.abrupt("return",L);case 27:case"end":return r.stop()}}),r,null,[[9,22]])}))()},sec_get_code(e,t){return u().mark((function r(){var a,n,c,o,i,y,x,v,w,b,k,g,T,Z,_,S,A,C,I,M,P,L,N,U,D,R,E,O,B,z,V;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.type,c=e.silent,o=void 0!==c&&c,i=t.call,y=t.put,x=t.select,v=h(n),r.next=5,x((e=>e[v]));case 5:return w=r.sent,b=w.sec_bizType,k=w.sec_channel,g=a.address,T=a.channel,Z=void 0===T?"":T,_=a.bizType,S=void 0===_?null:_,A=a.id,C=a.ext,I=void 0===C?"":C,M=a.extraParams,P=void 0===M?{}:M,L=a.isVoiceSend,N=void 0!==L&&L,U=(S||b).toUpperCase(),D=null,r.next=13,y({type:"update",payload:{retryAfterSeconds:0}});case 13:return r.prev=13,R=m(N,Z||k),r.next=17,i(l.getValidationCode,(0,s.Z)({bizType:S||b,address:g,sendChannel:R,ext:I},P));case 17:if(D=r.sent,E=D&&"200"===D.code,O=D||{},B=O.data,B=void 0===B?{}:B,z=B.retryAfterSeconds,V=void 0===z?0:z,A&&R&&(["voice","my_voice"].includes(R.toLowerCase())?f.emit("__VOICE_SEND_SUCCESS__"):f.emit(A,{send:E,bizType:U,delay:V})),!E){r.next=26;break}return r.next=26,y({type:"update",payload:{retryAfterSeconds:V}});case 26:E&&!o&&d.Z.success(D.msg||(0,p._t)("operation.succeed")),r.next=34;break;case 29:r.prev=29,r.t0=r["catch"](13),D=r.t0,o||d.Z.error(r.t0.msg||(0,p._t)("send.failed")),f.emit(A,{send:!1,upBiz:U});case 34:return r.abrupt("return",D);case 35:case"end":return r.stop()}}),r,null,[[13,29]])}))()},watch(e,t){return u().mark((function r(){var a,c,o,p,i,l,d,y,f,v,m,w,b,k,g;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.payload,c=e.type,o=t.take,p=t.put,i=t.select,l=t.race,d=a.key,y=h(c);case 4:if(!x){r.next=24;break}return r.next=7,l({init:o("".concat(d,"/init")),getCode:o("".concat(d,"/getCode")),verify:o((e=>e.type.indexOf("".concat(d,"/verify"))>-1))});case 7:return f=r.sent,v=f.getCode,m=f.verify,r.next=12,i((e=>e[y]));case 12:if(w=r.sent,b=w.instanceArr,k=b[d],!v){r.next=19;break}return g=n()(k.ext||{}).map((e=>e.join("="))).join(","),r.next=19,p({type:"sec_get_code",payload:(0,s.Z)((0,s.Z)({},k.opts),{},{extraParams:k.extraParams,id:k.id,ext:g})});case 19:if(!m){r.next=22;break}return r.next=22,p({type:"sec_verify",payload:(0,s.Z)((0,s.Z)({},k.opts),{},{extraParams:k.extraParams,id:k.id})});case 22:r.next=4;break;case 24:case"end":return r.stop()}}),r)}))()},gen_instance(e,t){return u().mark((function r(){var a,n,c,o,p,i,l,d,y,f,x,m,w,b,k,g,T,Z,_,S;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.type,c=t.put,o=t.select,p=a.bizType,i=a.sec_code,l=void 0===i?"":i,d=a.channel,y=void 0===d?"":d,f=a.validationType,x=void 0===f?"":f,m=a.handleKey,w=void 0===m?"":m,b=h(n),r.next=6,o((e=>e[b]));case 6:return k=r.sent,g=k.instanceArr,T=w||"".concat(p,"_").concat(Date.now()),S={id:T,opts:{bizType:p,sec_code:l,channel:y,validationType:x,validations:null,isVoiceSend:!1},ext:{},extraParams:{},update(){Z=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"opts",S[_]=(0,s.Z)((0,s.Z)({},S[_]),Z)}},S.getCode=()=>v({type:"".concat(T,"/getCode")}),S.verify=()=>v({type:"".concat(T,"/verify")}),r.next=14,c({type:"watch",payload:{key:T}});case 14:return r.next=16,c({type:"update",payload:{instanceArr:(0,s.Z)((0,s.Z)({},g),{},{[T]:S})}});case 16:return r.abrupt("return",S);case 17:case"end":return r.stop()}}),r)}))()},get_instance(e,t){return u().mark((function r(){var a,n,s,c,o,p,i;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=e.type,s=t.select,c=a.key,o=h(n),r.next=6,s((e=>e[o]));case 6:return p=r.sent,i=p.instanceArr,r.abrupt("return",i[c]);case 9:case"end":return r.stop()}}),r)}))()},get_verify_type(e,t){return u().mark((function r(){var a,n,c,o;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,c=t.call,o=null,r.prev=3,r.next=6,c(l.checkValidations,(0,s.Z)({},n));case 6:o=r.sent,r.next=13;break;case 9:throw r.prev=9,r.t0=r["catch"](3),o={data:null,error:r.t0},r.t0;case 13:return r.abrupt("return",o.data);case 14:case"end":return r.stop()}}),r,null,[[3,9]])}))()}},subscriptions:{setUp(e){var t=e.dispatch;v=t}}})},87971:function(e,t,r){"use strict";r.r(t);var a=r(86960),n=r(67880),s=r(69419);t["default"]=(0,a.default)(n.Z,s.default,{namespace:"security_new"})},98707:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(71047),c=r(86960),u=r(67880),o=r(65979),p=r(12873),i=r(30381),l=r.n(i),d=2e4;t["default"]=(0,c.default)(u.Z,o.Z,{namespace:"server_time",state:{serverTime:0,requestedLocalTime:0},effects:{pullServerTime(e,t){return n().mark((function e(){var r,a,c,u,o;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,c=t.race,u=n().mark((function e(){return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a(s.g,d/2);case 2:return e.next=4,r({type:"ping/setDelayHTTP",payload:{delayHTTP:-3}});case 4:case"end":return e.stop()}}),e)})),o=n().mark((function e(){var t,s,c,u,o;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t=Date.now(),e.next=4,a(p.b);case 4:if(s=e.sent,c=s.data,u=Date.now(),!c){e.next=18;break}if(o=u-t,!(o>0)){e.next=14;break}return e.next=12,r({type:"ping/setDelayHTTP",payload:{delayHTTP:o}});case 12:e.next=16;break;case 14:return e.next=16,r({type:"ping/setDelayHTTP",payload:{delayHTTP:-1}});case 16:return e.next=18,r({type:"update",payload:{serverTime:c,requestedLocalTime:l()().valueOf()}});case 18:e.next=24;break;case 20:return e.prev=20,e.t0=e["catch"](0),e.next=24,r({type:"ping/setDelayHTTP",payload:{delayHTTP:-2}});case 24:case"end":return e.stop()}}),e,null,[[0,20]])})),e.next=5,c([a(u),a(o)]);case 5:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUp(e){e.dispatch}}})},55900:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(27334),p=r(54083),i=r(77944),l=r(28463),d=r(88228),y=r(8054),f=r(33407),x=r(35660),v=r(35740),m=r(71893),h=r.n(m),w=r(39666),b=r(74932),k=r.n(b),g=r(5544),T=5,Z=["401","4111","4113"];t["default"]=(0,c.default)(u.Z,{namespace:"user",state:{frozen:void 0,user:void 0,isLogin:void 0,securtyStatus:{},frozenStatus:{},timeZones:[],conflictModal:!1,balanceCurrency:"USDT",restrictedStatus:-1,restrictedUserNotice:null,restrictedTypes:null},reducers:{},effects:{pullUser(e,t){return s().mark((function r(){var a,n,c,u,m,b,_,S,A,C,I,M,P,L,N,U,D,R;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,u=t.select,r.next=4,u((e=>e.currency));case 4:return m=r.sent,b=h().options.currentLocale,r.prev=6,r.next=9,n(p.BV);case 9:if(_=r.sent,S=_.data,!S){r.next=37;break}if(w.av({id:S.uid}),(0,d.Ie)(S.csrf),y.Ie(S.csrf),f.Z.addParams({c:S.csrf}),x.Zz.addParams({c:S.csrf}),v.L.addParams({c:S.csrf}),A=S.currency||m.currency||a.currency||l.Z.getItem("currency")||l.Z.getItem("_rl_currency"),!A){r.next=22;break}return r.next=22,c({type:"currency/selectCurrency",payload:{currency:A,reloadUser:S.language===b&&!S.currency},logined:!0});case 22:if(C=S||{},I=C.type,M=void 0===I?1:I,M&&3===M){r.next=26;break}return r.next=26,c({type:"account_security/getNoticeStatus"});case 26:return r.next=28,c({type:"accountFee/pullUserLevel"});case 28:return r.next=30,c({type:"market/pullDiscountSymbols"});case 30:return r.next=32,c({type:"currency/pullPrices",payload:{currency:S.currency}});case 32:return(0,g.Ym)(String(S.uid),String(S.honorLevel)),k().setIDConfig(S.uid),"function"===typeof window.gio&&window.gio("setUserId",S.referralCode),r.next=37,c({type:"kyc/checkStatus"});case 37:return P=S||{},L=P.type,N=void 0===L?1:L,U=P.balanceCurrency,D=void 0===U?"USDT":U,S&&(S.isSub=3===N),r.next=41,c({type:"update",payload:{user:S||null,isLogin:!0,frozen:!!S&&S.status===i.ZW,balanceCurrency:D&&"null"!==D?D:"USDT"}});case 41:if(!S){r.next=49;break}return R=S.id,r.next=45,c({type:"pullSecurtyMethods",payload:{id:R}});case 45:return r.next=47,c({type:"bonus/pullReferralSummary"});case 47:return r.next=49,c({type:"bonus/pullBonusSummary"});case 49:T=5,r.next=64;break;case 52:if(r.prev=52,r.t0=r["catch"](6),!(r.t0&&!Z.includes(r.t0.code)&&T>0)){r.next=62;break}return r.next=57,(0,o.gw)(5e3);case 57:return T-=1,r.next=60,c({type:"pullUser"});case 60:r.next=64;break;case 62:return r.next=64,c({type:"checkUserError",payload:{error:r.t0}});case 64:return r.prev=64,r.next=67,c({type:"app/initDefaultLang"});case 67:return(0,g.de)(),r.finish(64);case 69:case"end":return r.stop()}}),r,null,[[6,52,64,69]])}))()},checkUserConflict(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(p.so);case 3:if(n=e.sent,c=n.data,!c){e.next=8;break}return e.next=8,r({type:"update",payload:{conflictModal:!0}});case 8:case"end":return e.stop()}}),e)}))()},checkUserError(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=e.payload.error,n=t.put,c=a.code,r.t0=c,r.next=6;break;case 6:return r.next=8,n({type:"update",payload:{user:null,frozen:!1,isLogin:!1}});case 8:throw a;case 9:case"end":return r.stop()}}),r)}))()},pullSecurtyMethods(e,t){return s().mark((function r(){var a,n,c,u;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.id,n=t.call,c=t.put,r.next=4,n(p.aE,a);case 4:return u=r.sent,r.next=7,c({type:"update",payload:{securtyStatus:u.data}});case 7:case"end":return r.stop()}}),r)}))()},pullTimeZones(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(p.ZV);case 3:if(n=e.sent,c=n.data,!c){e.next=8;break}return e.next=8,a({type:"update",payload:{timeZones:c}});case 8:case"end":return e.stop()}}),e)}))()},setLocal(e,t){return s().mark((function r(){var a,n,c,u,o,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.params,c=a.reloadUser,u=void 0===c||c,o=t.call,i=t.put,r.next=4,o(p.co,n);case 4:if(!u){r.next=7;break}return r.next=7,i({type:"pullUser"});case 7:case"end":return r.stop()}}),r)}))()},setBalanceCurrency(e,t){return s().mark((function r(){var n,c,u,o,i,l,d,y,f;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.payload,c=t.call,u=t.put,o=t.select,i=n||{},l=i.balanceCurrency,!l){r.next=13;break}return r.next=6,c(p.co,{balanceCurrency:l});case 6:return r.next=8,o((e=>e.user));case 8:return d=r.sent,y=d.user,f=y?(0,a.Z)((0,a.Z)({},y),{},{balanceCurrency:l}):y,r.next=13,u({type:"update",payload:{balanceCurrency:l,user:f}});case 13:case"end":return r.stop()}}),r)}))()},pullUserAvatarList(e,t){return s().mark((function e(){var r,a,n;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,e.next=3,r(p._s);case 3:return a=e.sent,n=a.data,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))()},updateUserAvatar(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.code,n=t.put,c=t.call,r.next=4,c(p.n1,{code:a});case 4:return r.next=6,n({type:"pullUser"});case 6:case"end":return r.stop()}}),r)}))()},updateNickName(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.nickname,n=t.put,c=t.call,r.next=4,c(p.oE,{nickname:a});case 4:return r.next=6,n({type:"pullUser"});case 6:case"end":return r.stop()}}),r)}))()},checkWalletLock(e,t){return s().mark((function e(){var r;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,e.next=3,r({type:"wallet_lock/checkIsConfirmed"});case 3:case"end":return e.stop()}}),e)}))()},getUserFrozenStatus(e,t){return s().mark((function e(){var r,a,n;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(p.uO);case 3:return n=e.sent,e.next=6,a({type:"update",payload:{frozenStatus:n.data}});case 6:case"end":return e.stop()}}),e)}))()},getUserRestrictedStatus(e,t){return s().mark((function r(){var a,n,c,u,o;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.call,r.next=4,c(p.Wf,a);case 4:return u=r.sent,o=u.data,r.next=8,n({type:"update",payload:{restrictedUserNotice:o||{}}});case 8:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"pullUser",payload:{firstCall:!0}})}}})},57882:function(e,t,r){"use strict";r.r(t);var a=r(33407);t["default"]=(0,a.h)("certificateAuth")},43050:function(e,t,r){"use strict";r.r(t);var a=r(49431);t["default"]=(0,a.hM)("footer")},52672:function(e,t,r){"use strict";r.r(t);var a=r(49431);t["default"]=(0,a.hM)("cmsComs")},54908:function(e,t,r){"use strict";r.r(t);var a=r(12639);t["default"]=(0,a.h)("forgetPwd")},40155:function(e,t,r){"use strict";r.r(t);var a=r(35660);t["default"]=(0,a.hM)("header")},9361:function(e,t,r){"use strict";r.r(t);var a=r(35660);t["default"]=(0,a.hM)("cmsComs")},14921:function(e,t,r){"use strict";r.r(t);var a=r(12639);t["default"]=(0,a.h)("login")},90235:function(e,t,r){"use strict";r.r(t);var a=r(12639);t["default"]=(0,a.h)("signUp")},50496:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(65979),p=r(88211);t["default"]=(0,c.default)(u.Z,o.Z,{namespace:"indexes",state:{tickers:[],tickersMap:{},trends:{},currentCurrency:"",sampleRecords:[]},reducers:{updateTrend(e,t){var r=t.payload.trend,n=void 0===r?{}:r;return(0,a.Z)((0,a.Z)({},e),{},{trends:(0,a.Z)((0,a.Z)({},e.trends),n)})}},effects:{pullTickers(e,t){return s().mark((function e(){var r,a,n,c,u,o;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(p.hn);case 3:return n=e.sent,c=n.items,u=void 0===c?[]:c,o={},u.forEach((e=>{o[e.currency]=e})),e.next=10,a({type:"update",payload:{tickers:u,tickersMap:o}});case 10:case"end":return e.stop()}}),e)}))()},pullTrend(e,t){return s().mark((function r(){var a,n,c,u,o,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.currency,n=t.call,c=t.put,r.next=4,n(p.sp,a);case 4:return u=r.sent,o=u.items,i=void 0===o?[]:o,r.next=9,c({type:"updateTrend",payload:{trend:{[a]:i}}});case 9:case"end":return r.stop()}}),r)}))()},pullSamples(e,t){return s().mark((function r(){var a,n,c,u,o,i;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.currency,n=t.call,c=t.put,r.next=4,n(p.Eg,a);case 4:return u=r.sent,o=u.items,i=void 0===o?[]:o,r.next=9,c({type:"update",payload:{sampleRecords:i}});case 9:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUpIndexes(e){var t=e.dispatch;t({type:"watchPolling",payload:{effect:"pullTickers",interval:2e4}}),t({type:"watchPolling",payload:{effect:"pullSamples",interval:2e4}})}}})},33987:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(93224),s=r(35161),c=r.n(s),u=r(94043),o=r.n(u),p=r(86960),i=r(8054),l=r(18649),d=r(7600),y=r(67880),f=r(46115),x=r(93584),v=r(65979),m=i.s8(),h=!1;t["default"]=(0,p.default)(y.Z,f.Z,x.Z,v.Z,{namespace:"leveragedTokens",state:{currentListType:0,tokensMap:{},riskModalConfig:{isShow:!1,callback:null},showApplyModal:!1,openFlag:void 0,applyData:{},applyType:"",agreement:{}},effects:{watchUser(e,t){return o().mark((function e(){var r,a,n,s,c;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.take,a=t.put,n=t.select;case 1:return e.next=4,r("user/pullUser/@@end");case 4:return e.next=6,n((e=>e.user));case 6:if(s=e.sent,c=s.user,!c){e.next=11;break}return e.next=11,a({type:"checkUserAgreement"});case 11:e.next=1;break;case 13:case"end":return e.stop()}}),e)}))()},queryTokens(e,t){return o().mark((function r(){var a,n,s,c,u,p,i;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.put,c=t.call,r.next=4,c(l.A8,n);case 4:if(u=r.sent,p=u.success,i=u.data,!p){r.next=10;break}return r.next=10,s({type:"updateAllTokens",payload:{data:i}});case 10:case"end":return r.stop()}}),r)}))()},queryBaseTokens(e,t){return o().mark((function r(){var a,n,s,c,u,p,i,d,y,f;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.put,c=t.call,u=t.select,r.next=4,u((e=>e.leveragedTokens));case 4:if(p=r.sent,i=p.tokensList,!i||!i.records.length){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,c(l.Ux,n);case 10:if(d=r.sent,y=d.success,f=d.data,!y){r.next=16;break}return r.next=16,s({type:"updateAllTokens",payload:{data:f,origin:"baseTokens"}});case 16:case"end":return r.stop()}}),r)}))()},updateAllTokens(e,t){return o().mark((function r(){var s,u,p,i,l,d,y,f,x,v;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.payload,u=void 0===s?{}:s,p=t.put,i=t.select,l=u.data,d=u.origin,r.next=5,i((e=>e.leveragedTokens));case 5:if(y=r.sent,f=y.tokensList,"baseTokens"!==d||!f||!f.records.length){r.next=9;break}return r.abrupt("return");case 9:return x={},v=c()(l,(e=>{var t=e.code,r=(0,n.Z)(e,["code"]),s=(0,a.Z)({code:t,currency:t,currencyName:t},r);return x[t]=s,s})),r.next=13,p({type:"update",payload:{tokensMap:x}});case 13:return r.next=15,p({type:"savePage",payload:{items:v},listName:"tokensList"});case 15:case"end":return r.stop()}}),r)}))()},querySubscriptionHistory(e,t){return o().mark((function e(){var r,a,s,c,u,p,i,d;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,s=t.call,e.next=3,a((e=>e.leveragedTokens));case 3:return c=e.sent,u=c.filters,e.next=7,s(l.Bg,u);case 7:if(p=e.sent,i=p.success,d=(0,n.Z)(p,["success"]),!i){e.next=13;break}return e.next=13,r({type:"savePage",payload:d,listName:"subscriptionHistory"});case 13:case"end":return e.stop()}}),e)}))()},queryRedemptionHistory(e,t){return o().mark((function e(){var r,a,s,c,u,p,i,d;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,s=t.call,e.next=3,a((e=>e.leveragedTokens));case 3:return c=e.sent,u=c.filters,e.next=7,s(l.Lh,u);case 7:if(p=e.sent,i=p.success,d=(0,n.Z)(p,["success"]),!i){e.next=13;break}return e.next=13,r({type:"savePage",payload:d,listName:"redemptionHistory"});case 13:case"end":return e.stop()}}),e)}))()},checkUserAgreement(e,t){return o().mark((function e(){var r,a,n,s,c;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(l.RI);case 3:if(n=e.sent,s=n.success,c=n.data,!s){e.next=9;break}return e.next=9,r({type:"update",payload:{openFlag:!!c}});case 9:case"end":return e.stop()}}),e)}))()},agreeAgreement(e,t){return o().mark((function r(){var a,n,s,c,u;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.callback,n=t.put,s=t.call,r.next=4,s(l.mq);case 4:if(c=r.sent,u=c.success,!u){r.next=10;break}return r.next=9,n({type:"update",payload:{openFlag:!0}});case 9:"function"===typeof a&&a(u);case 10:case"end":return r.stop()}}),r)}))()},pullCurrencyInfo(e,t){return o().mark((function r(){var n,s,c,u,p,i,d,y,f,x;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=void 0===n?{}:n,c=t.put,u=t.call,p=t.select,r.next=4,p((e=>e.leveragedTokens));case 4:return i=r.sent,d=i.applyData,r.next=8,u(l.BF,s);case 8:if(y=r.sent,f=y.success,x=y.data,!f){r.next=14;break}return r.next=14,c({type:"update",payload:{applyData:(0,a.Z)((0,a.Z)({},d),x)}});case 14:case"end":return r.stop()}}),r)}))()},postSubscribeApply(e,t){return o().mark((function r(){var a,n,s,c;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,r.next=4,s(l.m7,n);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)}))()},postRedeemApply(e,t){return o().mark((function r(){var a,n,s,c;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,r.next=4,s(l.Jx,n);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)}))()},queryRebalanceList(e,t){return o().mark((function r(){var a,s,c,u,p,i,d;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=void 0===a?{}:a,c=t.put,u=t.call,r.next=4,u(l.lc,s);case 4:if(p=r.sent,i=p.success,d=(0,n.Z)(p,["success"]),!i){r.next=10;break}return r.next=10,c({type:"savePage",payload:d,listName:"rebalanceList"});case 10:case"end":return r.stop()}}),r)}))()},queryDealTime(e,t){return o().mark((function r(){var a,n,s,c;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,r.next=4,s(l.mu,n);case 4:return c=r.sent,r.abrupt("return",c);case 6:case"end":return r.stop()}}),r)}))()},updateNetAssetValue(e,t){return o().mark((function r(){var n,s,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=void 0===n?{}:n,c=t.put,u=t.select,p=s.netAssetValue,r.next=5,u((e=>e.leveragedTokens));case 5:if(i=r.sent,l=i.applyData,!l.code||void 0===p){r.next=10;break}return r.next=10,c({type:"update",payload:{applyData:(0,a.Z)((0,a.Z)({},l),{},{netAssetValue:p})}});case 10:case"end":return r.stop()}}),r)}))()},updateSnapshot(e,t){return o().mark((function r(){var n,s,c,u,p,i;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=t.put,c=t.select,u=n.lastTradedPrice,r.next=5,c((e=>e.leveragedTokens));case 5:if(p=r.sent,i=p.applyData,!i.code||void 0===u){r.next=10;break}return r.next=10,s({type:"update",payload:{applyData:(0,a.Z)((0,a.Z)({},i),{},{lastTradedPrice:u})}});case 10:case"end":return r.stop()}}),r)}))()},pullAgreementContent(e,t){return o().mark((function r(){var n,s,c,u,p,i,l,y,f,x,v,m;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=void 0===n?{}:n,c=t.put,u=t.call,p=t.select,r.next=4,p((e=>e.leveragedTokens));case 4:if(i=r.sent,l=i.agreement,y=s.isZh,f=y?"risk-disclosure-statement-of-kucoin-leveraged-tokens":"en-risk-disclosure-statement-of-kucoin-leveraged-tokens",x=y?"zh_CN":"default",!l[x]){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,u(d.cT,f);case 13:return v=r.sent,m=v.data,r.next=17,c({type:"update",payload:{agreement:(0,a.Z)((0,a.Z)({},l),{},{[x]:m.content})}});case 17:case"end":return r.stop()}}),r)}))()}},reducers:{},subscriptions:{watchPollingLeveragedToken(e){e.dispatch},watchUser(e){var t=e.dispatch;t({type:"watchUser"})},subscribeMessage(e){var t=e.dispatch;h||(h=!0,m.topicMessage("/margin-fund/nav:{SYMBOL_LIST}","margin-fund.nav")((e=>{t({type:"updateNetAssetValue",payload:{netAssetValue:e[0].data.netAssetValue}})})),m.topicMessage(i.Zf.MARKET_SNAPSHOT,"trade.snapshot")((e=>{t({type:"updateSnapshot",payload:{lastTradedPrice:e[0].data.data.lastTradedPrice}})}),100,!0))}}})},60926:function(e,t,r){"use strict";r.r(t);var a=r(3182),n=r(66073),s=r.n(n),c=r(8870),u=r(94043),o=r.n(u),p=r(86960),i=r(67880),l=r(8054),d=r(20518),y=r(7600),f=l.s8(),x=!1;t["default"]=(0,p.default)(i.Z,{namespace:"marginMeta",state:{userPosition:null,coins:[],coinsMap:{},currentMarket:"USDT",noviceBenefitsVisible:!1,agreement:{}},reducers:{},effects:{pullUserMarginPostion(e,t){return o().mark((function e(){var r,a,n,s;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(d.nz);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"update",payload:{userPosition:(0,c.Z)({},s||{})}});case 7:case"end":return e.stop()}}),e)}))()},updateStatus(e,t){return o().mark((function r(){var a,n,s,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.put,u=t.select,r.next=4,u((e=>e.marginMeta));case 4:if(p=r.sent,i=p.userPosition,l=n.data.type,!i||!l){r.next=10;break}return r.next=10,s({type:"update",payload:{userPosition:(0,c.Z)((0,c.Z)({},i),{},{status:l})}});case 10:case"end":return r.stop()}}),r)}))()},userSignAgreement(e,t){return o().mark((function r(){var a,n,s,c,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.disabledOpenLoansModal,n=t.put,s=t.call,r.next=4,s(d.iP);case 4:if(c=r.sent,u=c.data,p=c.success,!p){r.next=13;break}if(!u.hasFreshmanPackage||a){r.next=11;break}return r.next=11,n({type:"update",payload:{noviceBenefitsVisible:!0}});case 11:return r.next=13,n({type:"pullUserMarginPostion"});case 13:return r.abrupt("return",p);case 14:case"end":return r.stop()}}),r)}))()},pullMarginCoins(e,t){return o().mark((function r(){var a,n,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,c=t.put,u=t.call,r.next=4,u(d.uF,n);case 4:return p=r.sent,i=p.data,l={},s()(i,(e=>{l[e.currency]=e})),r.next=10,c({type:"update",payload:{coinsMap:l,coins:i}});case 10:case"end":return r.stop()}}),r)}))()},pullAgreementContent(e,t){return o().mark((function r(){var a,n,s,u,p,i,l,d,f,x,v,m,h;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=e.forceFetch,u=t.put,p=t.call,i=t.select,r.next=4,i((e=>e.marginMeta));case 4:if(l=r.sent,d=l.agreement,f=n.isZh,x=f?"margin-trading-agreement":"en-margin-trading-agreement",v=f?"zh_CN":"default",!d[v]||s){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,p(y.cT,x);case 13:return m=r.sent,h=m.data,r.next=17,u({type:"update",payload:{agreement:(0,c.Z)((0,c.Z)({},d),{},{[v]:h})}});case 17:case"end":return r.stop()}}),r)}))()}},subscriptions:{subscribeMessage:function(){var e=(0,a.Z)(o().mark((function e(t){var r;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.dispatch,!x){e.next=3;break}return e.abrupt("return");case 3:x=!0,f.topicMessage("/margin/position","position.status",!0)((e=>{r({type:"updateStatus",payload:e[0]})}));case 5:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}})},22553:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(3298),u=r(67880);t["default"]=(0,s.default)(u.Z,{namespace:"newcomerGuide",state:{receiveInfo:{popup:!1,status:null}},effects:{getUserRegisterReceiveInfo(e,t){return n().mark((function r(){var a,s,u,o,p,i,l;return n().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,u=t.put,r.prev=2,r.next=5,s(c.G,a);case 5:return o=r.sent,p=o.data,r.next=9,u({type:"update",payload:{receiveInfo:p}});case 9:r.next=15;break;case 11:r.prev=11,r.t0=r["catch"](2),i=r.t0||{},l=i.msg,console.error(l);case 15:case"end":return r.stop()}}),r,null,[[2,11]])}))()}}})},78418:function(e,t,r){"use strict";r.r(t);var a=r(94043),n=r.n(a),s=r(86960),c=r(84976),u=r(67880);t["default"]=(0,s.default)(u.Z,{namespace:"newcomerPackage",state:{lotteryNum:"",activityConfig:{},userInfo:null,usersDeposited:!1},effects:{getUserInfo(e,t){return n().mark((function e(){var r,a,s,u,o,p;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(c.bG);case 4:return s=e.sent,u=s.data,e.next=8,a({type:"update",payload:{userInfo:u}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),o=e.t0||{},p=o.msg,console.error(p);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))()},getConfig(e,t){return n().mark((function e(){var r,a,s,u,o,p;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(c.iE);case 4:return s=e.sent,u=s.data,e.next=8,a({type:"update",payload:{activityConfig:u}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),o=e.t0||{},p=o.msg,console.error(p);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))()},getUserIsDeposited(e,t){return n().mark((function e(){var r,a,s,u,o,p;return n().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(c.gI);case 4:return s=e.sent,u=s.data,e.next=8,a({type:"update",payload:{usersDeposited:u}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](1),o=e.t0||{},p=o.msg,console.error(p);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))()}}})},97930:function(e,t,r){"use strict";r.r(t);var a=r(94657),n=r(64721),s=r.n(n),c=r(94043),u=r.n(c),o=r(86960),p=r(67880),i=r(65979),l=r(20586);t["default"]=(0,o.default)(p.Z,i.Z,{namespace:"fast_coin",state:{symbols:{},currencyIcons:{},targetCurrency:"",baseCurrency:"",amount:null,targetCurrencyList:[],baseCurrencyList:[],lowestQuote:{},platform:"KUCOIN",tradeType:"BASE",quote:"",ready:!1},effects:{setDefaultSymbol(e,t){return u().mark((function e(){var r,n,c,o,p,i,l,d,y;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,n=t.select,e.next=3,n((e=>e.currency));case 3:return c=e.sent,o=c.currency,e.next=7,n((e=>e.fast_coin));case 7:return p=e.sent,i=p.baseCurrencyList,l="USDT",d="",s()(i,o)?d=o:(y=(0,a.Z)(i,1),d=y[0]),e.next=14,r({type:"update",payload:{targetCurrency:l,baseCurrency:d}});case 14:case"end":return e.stop()}}),e)}))()},getSymbols(e,t){return u().mark((function e(){var r,n,s,c,o,p,i,d,y,f,x,v,m,h;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,n=t.call,s=t.select,e.next=3,n(l.x);case 3:if(c=e.sent,o=c.data,!o||!o.symbols){e.next=21;break}return e.next=8,s((e=>e.currency));case 8:return p=e.sent,i=p.currency,d=Object.keys(o.symbols).map((e=>e)),y=[],e.next=14,s((e=>e.fast_coin));case 14:return f=e.sent,x=f.targetCurrency,v=f.baseCurrency,x||(x="USDT"),y=o.symbols[x]||[],y.indexOf(i)>-1?v=i:(m=y,h=(0,a.Z)(m,1),v=h[0]),e.next=21,r({type:"update",payload:{symbols:o.symbols,currencyIcons:o.icons,targetCurrency:x,baseCurrency:v,targetCurrencyList:d,baseCurrencyList:y}});case 21:return e.next=23,r({type:"update",payload:{ready:!0}});case 23:case"end":return e.stop()}}),e)}))()},getQuotes(e,t){return u().mark((function r(){var a,n,s,c,o,p,i;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload,n=t.put,s=t.call,c=a.targetCurrency,o=a.baseCurrency,!c||!o){r.next=18;break}return r.prev=4,r.next=7,s(l.QR,{legal:o,side:"BUY",currency:c});case 7:if(p=r.sent,i=p.data,!i){r.next=12;break}return r.next=12,n({type:"update",payload:{quote:i||{}}});case 12:r.next=18;break;case 14:return r.prev=14,r.t0=r["catch"](4),r.next=18,n({type:"update",payload:{quote:""}});case 18:case"end":return r.stop()}}),r,null,[[4,14]])}))()}},subscriptions:{setUpFastCoin(e){var t=e.dispatch;t({type:"getSymbols"})}}})},12880:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(66073),s=r.n(n),c=r(94043),u=r.n(c),o=r(86960),p=r(71047),i=r(67880),l=r(65979),d=r(36115),y=5e3;t["default"]=(0,o.default)(i.Z,l.Z,{namespace:"otc_meta",state:{payType:null,payTypeMap:null,legalType:null,legalTypeMap:null,languageType:null,languageTypeMap:null,merchantSupportLegalType:null,merchantSupportLegalTypeMap:null,kycName:null,userConditionInfo:null,tradeConfig:null,langConfig:null,supportSymbols:[]},effects:{pullSupportPayTypes(e,t){return u().mark((function r(){var n,c,o,i,l,f,x,v,m,h,w;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=void 0===n?{}:n,o=t.call,i=t.put,l=c.type,f=void 0===l?"PAYTYPE":l,r.prev=3,r.next=6,o(d.Qg,{type:f});case 6:return x=r.sent,v=x.data,m={},s()(v,(e=>{var t=e.typeCode;m[t]=e})),h="",h="PAYTYPE"===f?"pay":"LANGUAGE"===f?"language":"legal",w={["".concat(h,"Type")]:v,["".concat(h,"TypeMap")]:m},r.next=15,i({type:"update",payload:(0,a.Z)({},w)});case 15:r.next=24;break;case 17:return r.prev=17,r.t0=r["catch"](3),console.log(r.t0),r.next=22,o(p.g,y);case 22:return r.next=24,i({type:"pullSupportPayTypes",payload:{type:f}});case 24:case"end":return r.stop()}}),r,null,[[3,17]])}))()},pullMerchantSupportLegalTypes(e,t){return u().mark((function e(){var r,a,n,c,o;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(d.Ar);case 4:return n=e.sent,c=n.data,o={},s()(c,(e=>{var t=e.typeCode;o[t]=e})),e.next=10,a({type:"update",payload:{merchantSupportLegalType:c,merchantSupportLegalTypeMap:o}});case 10:e.next=19;break;case 12:return e.prev=12,e.t0=e["catch"](1),console.log(e.t0),e.next=17,r(p.g,y);case 17:return e.next=19,a({type:"pullMerchantSupportLegalTypes"});case 19:case"end":return e.stop()}}),e,null,[[1,12]])}))()},_pullSupportSymbols(e,t){return u().mark((function r(){var a,n,s,c,o,p,i;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=a.legal,r.next=5,n(d.lq,{legal:s});case 5:return c=r.sent,o=c.data,p=c.code,i=c.success,r.abrupt("return",{data:o,code:p,success:i});case 10:case"end":return r.stop()}}),r)}))()},pullSupportSymbols(e,t){return u().mark((function r(){var a,n,s,c,o,p,i,l,d;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a.legal,c=a.needReturn,o=void 0!==c&&c,r.next=5,n({type:"_pullSupportSymbols",payload:{legal:s}});case 5:return r.next=7,r.sent;case 7:if(p=r.sent,i=p.data,l=p.code,d=p.success,"200"!==l||!d){r.next=14;break}return r.next=14,n({type:"update",payload:{supportSymbols:i}});case 14:if(!o){r.next=16;break}return r.abrupt("return",{data:i,code:l,success:d});case 16:case"end":return r.stop()}}),r)}))()},pullUserKyc(e,t){return u().mark((function r(){var a,n,s,c,o,i,l,f,x,v;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,c=t.put,o=t.select,i=n.once,l=void 0!==i&&i,r.prev=3,r.next=6,o((e=>e.user.isLogin));case 6:if(f=r.sent,!f){r.next=14;break}return r.next=10,s(d.rX);case 10:return x=r.sent,v=x.data,r.next=14,c({type:"update",payload:{kycName:v.kycName,userConditionInfo:v}});case 14:r.next=25;break;case 16:if(r.prev=16,r.t0=r["catch"](3),console.log(r.t0),!l){r.next=21;break}return r.abrupt("return");case 21:return r.next=23,s(p.g,y);case 23:return r.next=25,c({type:"pullUserKyc"});case 25:case"end":return r.stop()}}),r,null,[[3,16]])}))()},pullTradeConfig(e,t){return u().mark((function r(){var a,n,s,c,o,p;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,c=t.put,r.next=4,s(d.sX,n.legal);case 4:return o=r.sent,p=o.data,r.next=8,c({type:"update",payload:{tradeConfig:p}});case 8:case"end":return r.stop()}}),r)}))()},pullLangConfig(e,t){return u().mark((function e(){var r,a,n,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(d.Yx);case 3:return n=e.sent,s=n.data,e.next=7,a({type:"update",payload:{langConfig:s}});case 7:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUpMeta(e){var t=e.dispatch;t({type:"pullLangConfig"}),t({type:"pullSupportPayTypes",payload:{type:"LANGUAGE"}})}}})},88798:function(e,t,r){"use strict";r.r(t);var a=r(35161),n=r.n(a),s=r(66073),c=r.n(s),u=r(8870),o=r(94657),p=r(61170),i=r(94043),l=r.n(i),d=r(86960),y=r(49431),f=r(10768),x=r(67880),v=r(65426),m=r(74057);function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en_US";return new Promise((r=>f.Q(e,t).then((e=>e.json())).then((e=>{r(e)}),(()=>{r({err:!0})})).catch((e=>{console.log("err",e)}))))}t["default"]=(0,d.default)(x.Z,{namespace:"components",state:{head:{},body:{},pageCmpt:{}},effects:{fetch(e,t){return l().mark((function r(){var a,n,s,c,i,d,f,x,w,b,k,g,T,Z,_,S;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,c=t.select,i=a.componentsToload,d=void 0===i?[]:i,f=a.currentLang,x=a.pathname,w=[...d],x&&(w=v.Uv[x]||[]),b=w,k=(0,p.Z)(b),g=k[0],T=k.slice(1),r.prev=6,r.next=9,s(h,g,f);case 9:return Z=r.sent,r.next=12,c((e=>e.components.body));case 12:if(_=r.sent,Z.err){r.next=17;break}return S=Object.keys(Z).reduce(((e,t)=>{var r=t.split("@"),a=(0,o.Z)(r,1),n=a[0];return(0,u.Z)((0,u.Z)({},e),{},{["".concat(n)]:(0,y.zQ)(Z[n]||Z["".concat(n,"@en_US")]||"",(0,u.Z)({},m.Z||{}))})}),{}),r.next=17,n({type:"update",payload:{body:(0,u.Z)((0,u.Z)({},_),S)}});case 17:r.next=22;break;case 19:r.prev=19,r.t0=r["catch"](6),console.log("components fetch error",r.t0);case 22:if(!T.length||!T[0]){r.next=25;break}return r.next=25,n({type:"fetch",payload:{componentsToload:[...T]}});case 25:case"end":return r.stop()}}),r,null,[[6,19]])}))()},fetchAlone(e,t){return l().mark((function r(){var a,n,s,u,o,p;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a.componentToload,u=[s],r.next=6,n({type:"fetchComponents",payload:{componentsToload:u}});case 6:return r.next=8,r.sent;case 8:return o=r.sent,p={},c()(o,(e=>{var t=e.key,r=e.compiled_html,a="".concat(t).replace(/@[a-zA-Z_]+$/,"");p[a]=r})),r.next=13,n({type:"update",payload:{pageCmpt:p}});case 13:case"end":return r.stop()}}),r)}))()},fetchComponents(e,t){return l().mark((function r(){var a,s,c,u,o,p,i,d,y,x;return l().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=t.call,c=a.componentsToload,u=a.currentLang,o=a.extra,p=[...c],i=n()(p,(e=>"".concat(e,"@").concat(u))),u!==v.Hj&&(d=n()(p,(e=>"".concat(e,"@").concat(v.Hj))),i=d.concat(i)),o&&(i=i.concat(o)),r.prev=7,r.next=10,s(f.P,i);case 10:return y=r.sent,x=y.data,r.abrupt("return",x);case 15:return r.prev=15,r.t0=r["catch"](7),console.log("components fetch error"),r.abrupt("return",[]);case 19:case"end":return r.stop()}}),r,null,[[7,15]])}))()}}})},70659:function(e,t,r){"use strict";r.r(t);var a=r(12611),n=r.n(a),s=r(59395),c=r(66073),u=r.n(c),o=r(8870),p=r(94043),i=r.n(p),l=r(86960),d=r(67880),y=r(65426),f=r(65979),x=r(46115),v=r(33535),m=r(8054),h=r(91229),w=r(68804),b=r(34425),k=r(71893),g=r.n(k),T=m.s8(),Z=!1,_={en:[{title:"ONOT Round Two Campaign Rewards Distributed",link:"/news/en-onot-round-two-campaign-rewards-distributed/"},{title:"XYO Campaign Rewards Distributed",link:"/news/en-xyo-campaign-rewards-distributed/"}],cn:[{title:"ONOT\u7b2c\u4e8c\u8f6e\u6d3b\u52a8\u5956\u52b1\u5df2\u53d1\u653e",link:"/news/onot\u7b2c\u4e8c\u8f6e\u6d3b\u52a8\u5956\u52b1\u5df2\u53d1\u653e/"},{title:"XYO\u6d3b\u52a8\u5956\u52b1\u5df2\u53d1\u653e",link:"/news/xyo\u6d3b\u52a8\u5956\u52b1\u5df2\u53d1\u653e/"}]};t["default"]=(0,l.default)(d.Z,f.Z,x.Z,{namespace:"homepage",state:{summary:{},news:[],activities:[],ads:{},marketRecords:[],deviceTable:[],sLevel:0,SecurityLogs:{pagination:{current:1,pageSize:5},records:[]},LoginLogs:{pagination:{current:1,pageSize:5},records:[]},baseInfo:{apiEnableCount:0,makerRate:"~",securityLevel:0,takerRate:"~",withdrawQuota:0,kyc:0,credentialType:"no_credential",vipLevel:0},countryList:[],onlineDeviceNum:null,feeDiscountConfig:{discountRate:100,isGlobalDeductionEnabled:!1},userKcsDiscountStatus:!1},reducers:{deepSave(e,t){var r=t.payload,a=t.target;return(0,o.Z)((0,o.Z)({},e),{},{[a]:(0,o.Z)((0,o.Z)({},e[a]),r)})}},effects:{pull(e,t){return i().mark((function e(){var r,a,n,s,c;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.fork,n=t.select,e.next=3,n((e=>e.user));case 3:return s=e.sent,c=s.isLogin,e.next=7,r({type:"pullSummary"});case 7:if(!c){e.next=12;break}return e.next=10,a(r,{type:"api_key/getEnabledApi"});case 10:return e.next=12,a(r,{type:"getSecurityLevel"});case 12:case"end":return e.stop()}}),e)}))()},pullHomePage(e,t){return i().mark((function e(){var r,a,n,s,c,u,o,p,l;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return l=function(){return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),n)},p=function(){return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s({type:"pullActivity"});case 2:return e.next=4,c("pullActivity/@@end");case 4:case"end":return e.stop()}}),a)},o=function(){return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s({type:"pullNews"});case 2:return e.next=4,c("pullNews/@@end");case 4:case"end":return e.stop()}}),r)},r=i().mark(o),a=i().mark(p),n=i().mark(l),s=t.put,c=t.take,u=t.all,e.next=7,u([o(),p(),l()]);case 7:case"end":return e.stop()}}),e)}))()},pullSummary(e,t){return i().mark((function e(){var r,a,n,s,c,u,o,p,l;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(v.H2,y.qz);case 3:return n=e.sent,s=n.data,c=null,e.prev=6,e.next=9,r(v.Vc,"USDT");case 9:c=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](6),c={data:{volume:0}};case 15:return u=c,o=u.data.volume,p={map:{}},s&&s.forEach((e=>{p.map[e.type]=e,p[e.type]=e.amount})),void 0!==p.TRADING_VOLUME&&(l=p.map.TRADING_VOLUME,l.amount=o,p.TRADING_VOLUME=l.amount),e.next=21,a({type:"update",payload:{summary:p}});case 21:case"end":return e.stop()}}),e,null,[[6,12]])}))()},pullNews(e,t){return i().mark((function e(){var r,a,n,s;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(v.dD,{pageSize:10});case 4:return n=e.sent,s=n.items,e.next=8,a({type:"update",payload:{homepageNews:(s||[]).slice(0,3).sort(((e,t)=>e.stick-t.stick)),news:(s||[]).sort(((e,t)=>e.stick-t.stick))}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("homepage pullNews error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))()},pullActivity(e,t){return i().mark((function e(){var r,a,n,s,c,u,o;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,n=g().options.currentLocale,e.next=5,r(v.K3,{pageSize:3});case 5:return s=e.sent,c=s.items,c.length>3&&(c=c.slice(0,3)),u="zh_CN"===n?_.cn:_.en,o=(c||[]).concat(u),e.next=12,a({type:"update",payload:{activities:o.slice(0,3)}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log("homepage pullActivity error");case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))()},pullAds(e,t){return i().mark((function e(){var r,a,n,s;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(v.bW);case 4:return n=e.sent,s=n.data,e.next=8,a({type:"update",payload:{ads:s}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("homepage pullAds error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))()},pullMarketRecords(e,t){return i().mark((function r(){var a,n,s,c,u,o,p,l;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.activeTab,n=t.call,s=t.put,c=null,u={},"hot"===a?(c=w.OH,u={count:15}):(c=w.oM,u={number:15,sort:"increase"===a}),r.next=7,n(c,u);case 7:return o=r.sent,p=o.data,l=p.filter((e=>!!e))||[],"hot"===a&&(l=l.sort(((e,t)=>+t.volValue-+e.volValue))),r.next=13,s({type:"update",payload:{marketRecords:l}});case 13:case"end":return r.stop()}}),r)}))()},updateSnapshotByMap(e,t){return i().mark((function r(){var a,n,s,c,o,p;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.select,c=a,r.next=5,s((e=>e.homepage.marketRecords||[]));case 5:return o=r.sent,p=[...o],u()(p,((e,t)=>{var r=e.symbolCode;c[r]&&(p[t]=c[r])})),r.next=10,n({type:"update",payload:{marketRecords:p}});case 10:case"end":return r.stop()}}),r)}))()},getLoginLogs(e,t){return i().mark((function r(){var a,n,s,c,u,o,p,l,d,y,f,x,m;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,c=t.put,u=t.select,r.next=4,u((e=>e.homepage));case 4:return o=r.sent,p=o.LoginLogs,l=n.current,d=void 0===l?1:l,y=n.pageSize,f=void 0===y?5:y,n.current||(d=p.pagination.current,f=p.pagination.pageSize),r.next=10,s(v.KT,{page:d,pageSize:f});case 10:if(x=r.sent,!x||!x.items){r.next=14;break}return r.next=14,c({type:"savePage",payload:x,listName:"LoginLogs"});case 14:if(1!==d){r.next=18;break}return m=x.items.filter((e=>e.onlineStatus)),r.next=18,c({type:"update",payload:{onlineDeviceNum:m.length}});case 18:return r.abrupt("return",x);case 19:case"end":return r.stop()}}),r)}))()},getDeviceList(e,t){return i().mark((function e(){var r,a,n;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(v.Ix);case 3:return n=e.sent,e.next=6,a({type:"update",payload:{deviceTable:n.data}});case 6:case"end":return e.stop()}}),e)}))()},getSecurityLevel(e,t){return i().mark((function e(){var r,a,n;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(v.km);case 3:return n=e.sent,e.next=6,a({type:"update",payload:{sLevel:n.data}});case 6:case"end":return e.stop()}}),e)}))()},removeDevice(e,t){return i().mark((function r(){var a,n,c,u;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.put,r.next=4,n(v.Rw,a.deviceId);case 4:return u=r.sent,s.Z.success(u.msg),r.next=8,c({type:"getDeviceList"});case 8:case"end":return r.stop()}}),r)}))()},accountPolling(e,t){return i().mark((function e(){var r,a;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.fork,e.next=3,a(r,{type:"getDeviceList"});case 3:return e.next=5,a(r,{type:"getLoginLogs"});case 5:return e.next=7,a(r,{type:"getSecurityLog"});case 7:return e.next=9,a(r,{type:"getUserOverviewInfo"});case 9:case"end":return e.stop()}}),e)}))()},getUserOverviewInfo(e,t){return i().mark((function e(){var r,a,n,s,c,u;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,n=t.select,e.next=3,a(v.H9);case 3:return s=e.sent,e.next=6,n((e=>e.homepage));case 6:return c=e.sent,u=c.baseInfo,e.next=10,r({type:"update",payload:{baseInfo:(0,o.Z)((0,o.Z)({},u),s.data)}});case 10:return e.next=12,r({type:"getTradeFee"});case 12:case"end":return e.stop()}}),e)}))()},getSecurityLog(e,t){return i().mark((function r(){var a,n,s,c,u,o,p,l,d,y;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.put,c=t.call,u=t.select,r.next=4,u((e=>e.homepage));case 4:return o=r.sent,p=o.SecurityLogs,l=n.pagination,d=void 0===l?{current:1,size:6}:l,n.pagination||(d={page:p.pagination.current||1,pageSize:p.pagination.pageSize}),d.page=d.page||d.current,r.next=11,c(v.VH,d);case 11:if(y=r.sent,!y||!y.items){r.next=15;break}return r.next=15,s({type:"savePage",payload:y,listName:"SecurityLogs"});case 15:case"end":return r.stop()}}),r)}))()},getCountryCodes(e,t){return i().mark((function e(){var r,a,n;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(v.UT);case 3:return n=e.sent,e.next=6,r({type:"update",payload:{countryList:n.data||[]}});case 6:case"end":return e.stop()}}),e)}))()},getQuota(e,t){return i().mark((function e(){var r,a,n;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(b.s8,{currency:"BTC"});case 3:return n=e.sent,e.next=6,r({type:"deepSave",payload:{withdrawQuota:n.data.limitBTCAmount},target:"baseInfo"});case 6:case"end":return e.stop()}}),e)}))()},getTradeFee(e,t){return i().mark((function e(){var r,a,n,s;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(v.kx);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"deepSave",payload:{makerRate:s.makerFeeRate,takerRate:s.takerFeeRate,vipLevel:s.level},target:"baseInfo"});case 7:case"end":return e.stop()}}),e)}))()},getFeeDeductionConfig(e,t){return i().mark((function e(){var r,a,n,s;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(v.SS);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"update",payload:{feeDiscountConfig:s}});case 7:case"end":return e.stop()}}),e)}))()},getUserKcsDiscount(e,t){return i().mark((function e(){var r,a,n,s;return i().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.next=3,a(v.CG);case 3:return n=e.sent,s=n.data,e.next=7,r({type:"update",payload:{userKcsDiscountStatus:(s||{}).isDeductionEnabled||!1}});case 7:case"end":return e.stop()}}),e)}))()},updateUserKcsDiscount(e,t){return i().mark((function r(){var a,n,s;return i().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,r.next=4,s(v.Sy,a.enabled);case 4:return r.next=6,n({type:"getUserKcsDiscount"});case 6:case"end":return r.stop()}}),r)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"watchPolling",payload:{effect:"pullMarketRecords",interval:6e4}}),t({type:"pull"})},subscribeMessage(e){var t=e.dispatch;if(!Z){Z=!0;var r=(0,h.Z)((e=>{var r={};n()(e,(e=>{n()(e,(e=>{var t=e.data;t=void 0===t?{}:t;var a=t.data,s=void 0===a?[]:a;s[0]&&n()(s,(e=>{var t=e.symbolCode;r[t]||(r[t]=e)}))}))})),t({type:"updateSnapshotByMap",payload:r})}),3e3);T.topicMessage(m.Zf.MARKET_SNAPSHOT,"trade.snapshot")(r)}}}})},38798:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(28463),p="market_page",i={"storage.ver":3,select:"market",setting:{showColumns:["lastTradedPrice","changeRate","vol","volValue","avgPrice"]}},l={"storage.ver":3,select:"market",setting:{showColumns:["lastTradedPrice","changeRate","vol","volValue","avgPrice"]}},d=e=>{o.Z.setItem(p,e)},y=e=>{var t=o.Z.getItem(p);return t?t["storage.ver"]!==i["storage.ver"]?e?l:i:t:e?l:i};t["default"]=(0,c.default)(u.Z,{namespace:"marketPage",state:{},reducers:{setSelect(e,t){var r=t.payload.select,n=(0,a.Z)((0,a.Z)({},e),{},{select:r});return d(n),n},setSetting(e,t){var r=t.payload,n=(0,a.Z)((0,a.Z)({},e),{},{setting:r});return d(n),n}},effects:{restStateAuto(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,e.next=3,a((e=>e.user.user));case 3:return n=e.sent,c=y(n),e.next=7,r({type:"reset",payload:c});case 7:case"end":return e.stop()}}),e)}))()},listenSetUser(e,t){return s().mark((function e(){var r,a,n,c;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=t.put,a=t.select,n=t.take;case 1:return e.next=4,n("app/setUser");case 4:return e.next=6,a((e=>e.user.user));case 6:if(c=e.sent,c){e.next=12;break}return e.next=10,r({type:"reset",payload:i});case 10:e.next=14;break;case 12:return e.next=14,r({type:"restStateAuto"});case 14:e.next=1;break;case 16:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUp(e){var t=e.dispatch;t({type:"restStateAuto"})}}})},71249:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(84486),s=r.n(n),c=r(94043),u=r.n(c),o=r(86960),p=r(67880),i=r(65979),l=r(46115),d=r(70941),y=r(57939),f=r(23325),x=r(68804),v=e=>{if(!e||!e.length)return{};var t={};return s()(e,(e=>{var r=e||{},a=r.changeRate,n=r.lastTradedPrice,s=r.symbolCode;s&&(t[s]={change:a||0,price:n||0,name:"",symbolCode:s})})),t},m=[{num:576804751},{num:59435916755}];t["default"]=(0,o.default)(p.Z,i.Z,l.Z,{namespace:"newhomepage",state:{news:[],banners:[],transactions:0,volumes:0,ads:[],tickers:[],statistics:m,currencies:[],redPacketList:[],redPacketInfo:{},receivedInfo:{},redPacketPhone:{},filters:{page:1,pageSize:5,hasMore:!0},newCoins:[],topList:[],trendMap:{}},effects:{pullRedPacketInfo(e,t){return u().mark((function r(){var a,n,s,c,o,p;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,r.next=4,s(y.rj,a);case 4:return c=r.sent,o=c.data,p=o.sendRecordId,r.next=9,n({type:"update",payload:{redPacketInfo:o}});case 9:return r.next=11,n({type:"getReceiveInfo",payload:{sendRecordId:p}});case 11:case"end":return r.stop()}}),r)}))()},getReward(e,t){return u().mark((function r(){var n,s,c,o,p,i,l,d,f,x,v;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=e.callBack,c=t.put,o=t.call,p=t.select,r.next=4,p((e=>e.user));case 4:if(i=r.sent,l=i.isLogin,!l){r.next=12;break}return r.next=9,o(y.jA,n);case 9:r.t0=r.sent,r.next=15;break;case 12:return r.next=14,o(y.oi,n);case 14:r.t0=r.sent;case 15:if(d=r.t0,f=d.success,x=d.data,!f){r.next=22;break}return r.next=21,c({type:"update",payload:{redPacketPhone:(0,a.Z)({},n),receivedInfo:x}});case 21:s&&(v=!l&&x&&!0===x.isNewUser,s(v));case 22:case"end":return r.stop()}}),r)}))()},getReceiveInfo(e,t){return u().mark((function r(){var n,s,c,o,p,i,l,d,f,x,v,m,h,w,b,k;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.callBack,s=t.put,c=t.call,o=t.select,r.next=4,o((e=>e.user));case 4:return p=r.sent,i=p.isLogin,r.next=8,o((e=>e.newhomepage));case 8:if(l=r.sent,d=l.redPacketPhone,f=l.redPacketInfo,x=d.phone,v=f.sendRecordId,m={},i||!x){r.next=22;break}return r.next=17,c(y.ME,(0,a.Z)((0,a.Z)({},d),{},{sendRecordId:v}));case 17:h=r.sent,w=h.data,m=w,r.next=27;break;case 22:return r.next=24,c(y.sH,{sendRecordId:v});case 24:b=r.sent,k=b.data,m=k;case 27:return r.next=29,s({type:"update",payload:{redPacketFooterInfo:m}});case 29:n&&n(m);case 30:case"end":return r.stop()}}),r)}))()},getRedPacketList(e,t){return u().mark((function r(){var n,s,c,o,p,i,l,d,f,x,v,m,h,w,b,k,g,T,Z,_;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=t.put,c=t.call,o=t.select,r.next=4,o((e=>e.newhomepage));case 4:return p=r.sent,i=p.filters,l=p.redPacketInfo,d=p.redPacketList,f=l.sendRecordId,x=n.page,v=i.pageSize,r.prev=11,m={sendRecordId:f,size:v},1!==x&&d&&d.length&&(h=d[d.length-1]||{},w=h.index,b=void 0===w?0:w,m.index=b),r.next=16,c(y.j9,m);case 16:return k=r.sent,g=k.hasMore,T=void 0===g||g,Z=k.dataList,_=1===x?Z:[...d,...Z],r.next=23,s({type:"update",payload:{redPacketList:_,filters:(0,a.Z)((0,a.Z)({},i),{},{hasMore:T})}});case 23:r.next=30;break;case 25:return r.prev=25,r.t0=r["catch"](11),console.error(r.t0),r.next=30,s({type:"update",payload:{list:[],filters:(0,a.Z)((0,a.Z)({},i),{},{hasMore:!1})}});case 30:case"end":return r.stop()}}),r,null,[[11,25]])}))()},pullNews(e,t){return u().mark((function e(){var r,a,n,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(d.dD,{pageSize:3});case 4:return n=e.sent,s=n.items,e.next=8,a({type:"update",payload:{news:(s||[]).sort(((e,t)=>e.stick-t.stick))}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("newhomepage pullNews error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))()},pullStatistics(e,t){return u().mark((function e(){var r,a,n,s,c,o,p,i,l,y;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,a=t.call,n=t.put,e.prev=1,e.next=4,r((e=>e.newhomepage));case 4:return s=e.sent,c=s.statistics,e.next=8,a(d.HV);case 8:return o=e.sent,p=o.data,i=p.transactions,l=p.volumes,y=[...c],y[0].num=i,y[1].num=l,e.next=16,n({type:"update",payload:{statistics:y}});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](1),console.log("newhomepage pullStatistics error");case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))()},getAds(e,t){return u().mark((function r(){var a,n,s,c,o;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,r.prev=2,r.next=5,n(d.bW,a);case 5:return c=r.sent,o=c.data,r.next=9,s({type:"update",payload:{ads:o}});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),console.log("newhomepage getAds error");case 14:case"end":return r.stop()}}),r,null,[[2,11]])}))()},queryTickers(e,t){return u().mark((function e(){var r,n,c,o,p,i,l,y,f,m,h,w,b,k,g,T;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,n=t.put,e.prev=1,e.next=4,r(d.f1);case 4:if(c=e.sent,o=c.success,p=c.data,!o){e.next=32;break}if(i=[],l=p||[],y=[],!l.length){e.next=22;break}f=0;case 13:if(!(f<l.length)){e.next=22;break}if(m=l[f]||{},h=m.symbol,h&&(y.push(h),i.push(m)),!(y.length>=5)){e.next=19;break}return e.abrupt("break",22);case 19:f++,e.next=13;break;case 22:if(!y||!y.length){e.next=30;break}return w=y.join(","),e.next=26,r(x.Iq,{symbols:w});case 26:b=e.sent,k=b.success,g=b.data,k&&g&&g.length&&(T=v(g),s()(i,((e,t)=>{var r=e||{},n=r.symbol,s=r.currency,c=r.name,u=T[n||""]||null;u&&(i[t]=(0,a.Z)((0,a.Z)({},u),{},{symbol:n,currency:s,name:c}))})));case 30:return e.next=32,n({type:"update",payload:{tickers:i||[]}});case 32:e.next=37;break;case 34:e.prev=34,e.t0=e["catch"](1),console.log("newhomepage queryTickers error");case 37:case"end":return e.stop()}}),e,null,[[1,34]])}))()},getCurrencyWithdrawFee(e,t){return u().mark((function e(){var r,a,n,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(d.Ku);case 4:return n=e.sent,s=n.data,e.next=8,a({type:"update",payload:{currencies:s}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("newhomepage getCurrencyWithdrawFee error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))()},getNewCoins(e,t){return u().mark((function e(){var r,n,c,o,p,i,l,d,y,m,h,w,b,k,g,T;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,n=t.put,e.prev=1,e.next=4,r(f.gA,{limit:5});case 4:if(c=e.sent,o=c.success,p=c.data,!o){e.next=32;break}if(i=[],l=p||[],d=[],!l.length){e.next=22;break}y=0;case 13:if(!(y<l.length)){e.next=22;break}if(m=l[y]||{},h=m.symbol,h&&(d.push(h),i.push(m)),!(d.length>=5)){e.next=19;break}return e.abrupt("break",22);case 19:y++,e.next=13;break;case 22:if(!d||!d.length){e.next=30;break}return w=d.join(","),e.next=26,r(x.Iq,{symbols:w});case 26:b=e.sent,k=b.success,g=b.data,k&&g&&g.length&&(T=v(g),s()(i,((e,t)=>{var r=e||{},n=r.symbol,s=r.iconUrl,c=r.currency,u=r.name,o=T[n||""]||null;i[t]=o?(0,a.Z)((0,a.Z)({},o),{},{indexName:"",iconUrl:s,currency:c}):(0,a.Z)((0,a.Z)({},e),{},{name:n?"":u,symbolCode:n||""})})));case 30:return e.next=32,n({type:"update",payload:{newCoins:i||[]}});case 32:e.next=37;break;case 34:e.prev=34,e.t0=e["catch"](1),console.log(e.t0);case 37:case"end":return e.stop()}}),e,null,[[1,34]])}))()},getTopList(e,t){return u().mark((function e(){var r,a,n,c,o,p;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.prev=1,e.next=4,r(x.oM,{number:5,sort:!0});case 4:if(n=e.sent,c=n.success,o=n.data,!c){e.next=12;break}return p=[],o&&o.length&&s()(o,(e=>{var t=e||{},r=t.changeRate,a=t.lastTradedPrice,n=t.symbolCode,s=t.baseCurrency;p.push({change:r||0,price:a||0,symbolCode:n,name:"",indexName:"",currency:s})})),e.next=12,a({type:"update",payload:{topList:p||[]}});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](1),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,14]])}))()},getKLineData(e,t){return u().mark((function r(){var n,c,o,p,i,l,y,f,x,v,m,h,w,b,k;return u().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.call,o=t.put,p=t.select,r.prev=2,r.next=5,p((e=>e.newhomepage));case 5:if(i=r.sent,l=i.trendMap,y=n||{},f=y.symbol,x=y.begin,v=y.end,!l[f]){r.next=10;break}return r.abrupt("return");case 10:return r.next=12,c(d.PB,{symbol:f,type:"5min",begin:x,end:v});case 12:if(m=r.sent,h=m.success,w=m.data,!h){r.next=22;break}return b=w||[],k=[],s()(b,(e=>{if(e&&e.length>2){var t=e[0],r=e[2];t&&void 0!==r&&k.push([Number(t),Number(r)])}})),l[f]=k,r.next=22,o({type:"update",payload:{trendMap:(0,a.Z)({},l)}});case 22:r.next=27;break;case 24:r.prev=24,r.t0=r["catch"](2),console.log(r.t0);case 27:case"end":return r.stop()}}),r,null,[[2,24]])}))()}},reducers:{},subscriptions:{watchTotalPollingNewHomePage(e){var t=e.dispatch;t({type:"watchPolling",payload:{effect:"pullStatistics",interval:2e4}})}}})},66110:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(3182),s=r(94043),c=r.n(s),u=r(86960),o=r(7600),p=r(67880),i=r(34998),l=r(29075),d=r(59395),y=r(94301),f=r.n(y);function x(e){return v.apply(this,arguments)}function v(){return v=(0,n.Z)(c().mark((function e(t){var r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=window.location.host.match(/(net|localhost)/)?"asset-v2.kucoin.net":"assets.staticimg.com",e.abrupt("return",new Promise((e=>{var a=Math.floor(Date.now()/18e4);return f()("https://".concat(r,"/cms/articles/").concat(t,".json?t=").concat(a)).then((e=>{if(e.status>=200&&e.status<300)return e;var t={msg:e.statusText||e.status,res:e};throw t})).then((e=>e.json())).then((t=>{e({data:t,error:null})}),(t=>{e({error:t,data:{}})})).catch((e=>{console.log("catch error",e)}))})));case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}t["default"]=(0,u.default)(p.Z,i.Z,{namespace:"news",state:{hotList:[],activityList:[],articleDetail:{},categories:["promotion","listing","change-log","announcements","news","futures","poolx","defi","kucoin-pool","more"],currentLang:"",breadPrePath:"/news"},reducers:{updateLang(e,t){var r=t.payload;return(0,a.Z)((0,a.Z)({},e),{},{lang:r})},updateBreadPrePath(e,t){var r=t.payload;return(0,a.Z)((0,a.Z)({},e),{},{breadPrePath:r})}},effects:{pullHotList(e,t){return c().mark((function e(){var r,a,n,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.call,e.prev=1,e.next=4,a(o.lS);case 4:return n=e.sent,s=n.items,e.next=8,r({type:"update",payload:{hotList:s}});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),console.log("news pullHotList error");case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))()},pullArticlesList(e,t){return c().mark((function r(){var a,n,s,u,p,i,l,d,y,f;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.page,s=a.category,u=a.keyword,p=t.put,i=t.call,r.prev=2,l=10,r.next=6,i(o.iP,{page:n,pageSize:l,category:s,keyword:u});case 6:return d=r.sent,y=d.items,f=d.totalNum,r.next=11,p({type:"savePage",payload:{items:y,page:n,pageSize:l,totalNum:f}});case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](2),console.log("news pullArticlesList error");case 16:case"end":return r.stop()}}),r,null,[[2,13]])}))()},pullArticleDetail(e,t){return c().mark((function r(){var a,n,s,u,p,i,y,f,x,v,m,h,w,b;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload,n=a.key,s=a.currentLang,u=t.put,p=t.call,n){r.next=6;break}return r.next=5,u({type:"update",payload:{articleDetail:{}}});case 5:return r.abrupt("return");case 6:return i="zh_CN"===s,r.prev=7,r.next=10,p(o.cT,n);case 10:if(y=r.sent,f=y.data,x=f.paths||{},v=x[s]||x.default,m=v?v.substr(1):"",h=window.location.search,w=-1!==h.indexOf("_cms_ts")&&-1!==h.indexOf("_cms_hash"),m!==n&&!w){r.next=22;break}return r.next=20,u({type:"update",payload:{articleDetail:f}});case 20:r.next=27;break;case 22:return r.next=24,p(o.cT,m||n);case 24:return b=r.sent,r.next=27,u({type:"update",payload:{articleDetail:b.data}});case 27:r.next=36;break;case 29:return r.prev=29,r.t0=r["catch"](7),r.next=33,u({type:"update",payload:{articleDetail:{}}});case 33:d.Z.error(r.t0.message||!i?"Oops! We cannot reach this page":"\u5f88\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u627e\u4e0d\u5230\u4e86\u3002"),console.log("news pullArticleDetail error"),"404"===r.t0.code&&(0,l.Z)();case 36:case"end":return r.stop()}}),r,null,[[7,29]])}))()},pullDetail(e,t){return c().mark((function r(){var a,n,s,u,p,i,l,y,f,v,m,h,w,b,k,g,T;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload,n=a.key,s=a.currentLang,u=t.put,p=t.call,n){r.next=6;break}return r.next=5,u({type:"update",payload:{articleDetail:{}}});case 5:return r.abrupt("return");case 6:return i=!1,l={},r.prev=8,y=window.location.search,f=-1!==y.indexOf("_cms_ts")&&-1!==y.indexOf("_cms_hash"),r.next=13,p(x,n);case 13:if(v=r.sent,m=v.data,h=v.error,!h||404!==h.msg){r.next=20;break}return r.next=19,u({type:"pullArticleDetail",payload:{key:n}});case 19:return r.abrupt("return");case 20:if(i="zh_CN"===s,w=m.paths||{},b=w[s]||w.default,k=b?b.substr(1):"",!f){r.next=31;break}return r.next=27,p(o.cT,k||n);case 27:g=r.sent,l=g.data,r.next=44;break;case 31:if(k!==n){r.next=35;break}l=m,r.next=44;break;case 35:if(k===n){r.next=44;break}return r.next=38,p(x,k||n);case 38:if(T=r.sent,!T.error||404!==T.error.msg){r.next=43;break}return r.next=42,u({type:"pullArticleDetail",payload:{key:k||n}});case 42:return r.abrupt("return");case 43:l=T.data;case 44:return r.next=46,u({type:"update",payload:{articleDetail:l}});case 46:r.next=55;break;case 48:return r.prev=48,r.t0=r["catch"](8),r.next=52,u({type:"update",payload:{articleDetail:{}}});case 52:d.Z.error(r.t0.message||!i?"Oops! We cannot reach this page":"\u5f88\u62b1\u6b49\uff0c\u60a8\u8bbf\u95ee\u7684\u9875\u9762\u627e\u4e0d\u5230\u4e86\u3002"),console.log("news pullArticleDetail error"),r.t0.code;case 55:case"end":return r.stop()}}),r,null,[[8,48]])}))()}}})},3296:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94657),s=r(44908),c=r.n(s),u=r(94043),o=r.n(u),p=r(86960),i=r(81354),l=r.n(i),d=r(30381),y=r.n(d),f=r(67880),x=r(65979),v=r(5619),m=()=>l().MD5("".concat(y()().valueOf())).toString();t["default"]=(0,p.default)(f.Z,x.Z,{namespace:"priceWarn",state:{formVisible:!1,modalVisible:!1,drawerVisible:!1,newFormVisible:!1,symbol:null,defaultPrice:null,formData:{symbol:"",warnType:0},records:[],symbols:[],logs:[]},reducers:{},effects:{pull(e,t){return o().mark((function e(){var r,a,n,s;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,console.log("pull pricewarn symbols"),e.next=4,r(v.aT);case 4:return n=e.sent,s=n.data,e.next=8,a({type:"update",payload:{records:s,symbols:c()(s.map((e=>e.symbol)))}});case 8:return e.next=10,a({type:"pullLogs"});case 10:case"end":return e.stop()}}),e)}))()},pullLogs(e,t){return o().mark((function e(){var r,a,n,s,c;return o().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.put,e.next=3,r(v.bY,{isReverse:!0,subjects:["notification.risen.to","notification.fell.to","quotes.push.symbol.up","quotes.push.symbol.down","quotes.push.symbol.volatility"].join(",")});case 3:return n=e.sent,s=n.data.onlineEventResponseList||[],c=s.map((e=>{var t=e.content,r=e.sendTime;return{content:t,sendTime:r}})).sort(((e,t)=>t.sendTime-e.sendTime)),e.next=8,a({type:"update",payload:{logs:c}});case 8:case"end":return e.stop()}}),e)}))()},modalAdd(e,t){return o().mark((function r(){var a,n,s,c,u,p;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=void 0===a?"":a,s=t.put,c=t.select,r.next=4,c((e=>e.market.coinPairMap));case 4:if(u=r.sent,p={base:n.split("-")[0],pair:n.split("-")[1]},Object.prototype.hasOwnProperty.call(u,n)){r.next=9;break}return r.next=9,s({type:"market/pullMarketRecordsByArea",payload:{area:p.pair}});case 9:return r.next=11,s({type:"update",payload:{formData:{id:null,warnType:0,warnAmount:null,symbol:n},symbol:null,formVisible:!0,modalVisible:!1}});case 11:case"end":return r.stop()}}),r)}))()},modalEdit(e,t){return o().mark((function r(){var a,s,c,u,p,i,l,d,y,f,x,v,m,h,w;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,s=a.symbol,c=a.id,u=t.put,p=t.select,r.next=4,p((e=>e.market.coinPairMap));case 4:if(i=r.sent,l={base:s.split("-")[0],pair:s.split("-")[1]},Object.prototype.hasOwnProperty.call(i,s)){r.next=9;break}return r.next=9,u({type:"market/pullMarketRecordsByArea",payload:{area:l.pair}});case 9:return r.next=11,p((e=>e.priceWarn));case 11:if(d=r.sent,y=d.records,f=null,c){r.next=23;break}if(x=y.filter((e=>e.symbol===s)),!(x.length>1)){r.next=20;break}return r.next=19,u({type:"update",payload:{modalVisible:!0,formVisible:!1}});case 19:return r.abrupt("return");case 20:1===x.length&&(v=(0,n.Z)(x,1),f=v[0],c=f.id),r.next=24;break;case 23:f=y.find((e=>e.id===c));case 24:if(!f){r.next=28;break}return m=f,h=m.warnAmount,w=m.warnType,r.next=28,u({type:"update",payload:{formData:{id:c,warnType:w,warnAmount:h,symbol:s},symbol:s,formVisible:!0,modalVisible:!1}});case 28:case"end":return r.stop()}}),r)}))()},receiveFormValues(e,t){return o().mark((function r(){var n,s,c,u,p,i,l;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.payload.values,s=t.select,c=t.put,u={},!("symbol"in n)){r.next=8;break}return r.next=6,s((e=>e.market.coinPairMap[n.symbol]));case 6:p=r.sent,u.defaultPrice=(p||{}).lastTradePrice;case 8:return r.next=10,s((e=>e.priceWarn));case 10:return i=r.sent,l=i.formData,r.next=14,c({type:"update",payload:(0,a.Z)((0,a.Z)({},u),{},{formData:(0,a.Z)((0,a.Z)({},l),n)})});case 14:case"end":return r.stop()}}),r)}))()},create(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.values,n=t.call,s=t.put,a.requestId=m(),r.next=5,n(v.Ue,a);case 5:return r.next=7,s({type:"pull"});case 7:return r.next=9,s({type:"update",payload:{modalVisible:!0,formVisible:!1,symbol:""}});case 9:case"end":return r.stop()}}),r)}))()},creactAmplitudeWarn(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=t.call,r.next=4,s(v.DQ,a);case 4:return r.next=6,n({type:"pull"});case 6:return r.next=8,n({type:"update",payload:{formVisible:!1}});case 8:case"end":return r.stop()}}),r)}))()},edit(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.values,n=t.call,s=t.put,r.next=4,n(v.Vx,a);case 4:return r.next=6,s({type:"pull"});case 6:return r.next=8,s({type:"update",payload:{modalVisible:!0,formVisible:!1,symbol:""}});case 8:case"end":return r.stop()}}),r)}))()},pause(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.values,n=t.call,s=t.put,r.next=4,n(v.sT,a);case 4:return r.next=6,s({type:"pull"});case 6:case"end":return r.stop()}}),r)}))()},active(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.values,n=t.call,s=t.put,r.next=4,n(v.bB,a);case 4:return r.next=6,s({type:"pull"});case 6:case"end":return r.stop()}}),r)}))()},changeStatus(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,r.next=4,n(v.wv,a);case 4:return r.next=6,s({type:"pull"});case 6:case"end":return r.stop()}}),r)}))()},remove(e,t){return o().mark((function r(){var a,n,s;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.values,n=t.call,s=t.put,r.next=4,n(v.XL,a);case 4:return r.next=6,s({type:"pull"});case 6:case"end":return r.stop()}}),r)}))()},modalShow(e,t){return o().mark((function r(){var n,s,c,u,p,i,l,d,y,f,x;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n=e.payload,s=n.type,c=n.symbol,u=void 0===c?"":c,p=n.isWarn,i=void 0!==p&&p,l=t.put,d=t.select,"modalVisible"!==s){r.next=13;break}return r.next=5,l({type:"pull"});case 5:return r.next=7,d((e=>e.priceWarn));case 7:if(y=r.sent,f=y.records,f.length){r.next=13;break}return r.next=12,l({type:"priceWarn/modalAdd",payload:{symbol:""}});case 12:return r.abrupt("return");case 13:if(x={},"formVisible"!==s){r.next=21;break}if(!i){r.next=20;break}return r.next=18,l({type:"modalEdit",payload:{symbol:u}});case 18:r.next=21;break;case 20:x.formData={id:null,symbol:u,warnType:0};case 21:return r.next=23,l({type:"update",payload:(0,a.Z)({[s]:!0,symbol:u},x)});case 23:case"end":return r.stop()}}),r)}))()},modalClose(e,t){return o().mark((function r(){var a,n;return o().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.type,n=t.put,r.next=4,n({type:"update",payload:{[a]:!1}});case 4:case"end":return r.stop()}}),r)}))()}}})},7145:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86960),u=r(67880),o=r(95772),p=r(28463),i=r(65428),l=r(79956),d=r(30381),y=r.n(d),f=r(40444),x=r(68804),v=r(97370),m=r(61752),h=r(50103),w=p.Z.getItem,b=p.Z.setItem,k=e=>void 0===e||null===e||Number.isNaN(e)?e:new v.tA(e).toFixed();t["default"]=(0,c.default)(u.Z,o.Z,{namespace:"tradeV2",state:{coinPairList:[],currentCoinPair:"BTC-USDT",currentCoin:"BTC",currentPair:"USDT",activeBoxIndex:0,boxCount:"1",kLineResolution:"480",tradeType:"buy",tradeTypeUpdates:0,tradeForm:{price:void 0,amount:void 0,timeStrategy:"GTC",usefulLife:y()("00:00:00","HH:mm:ss"),showAmount:0,bwdt:!1},navCollapsed:!1,fixedBarCollapsed:!0,favorites:[],marketListSorter:{},advancedMode:!0,drawerStatusNumber:0,coinPairInfo:null,symbolFee:{},toSetPrice:null,toSetAmount:null,toSetAmountUpdateTime:null,toSetPriceUpdateTime:null,priceLimitRate:null},reducers:{modifyActiveBoxIndex(e,t){var r=t.payload.activeBoxIndex,n=void 0===r?0:r;return b("trade_active_box_index",n),(0,a.Z)((0,a.Z)({},e),{},{activeBoxIndex:n})},modifyBoxCount(e,t){var r=t.payload,n=r.boxCount,s=void 0===n?"1":n,c=r.fixedBarCollapsed,u=void 0===c||c;return b("trade_box_count",s),(0,a.Z)((0,a.Z)({},e),{},{boxCount:s,fixedBarCollapsed:u})},modifyTradeType(e,t){var r=t.payload,n=r.tradeType,s=r.fixedBarCollapsed,c=void 0!==s&&s;return(0,a.Z)((0,a.Z)({},e),{},{tradeType:n,tradeTypeUpdates:e.tradeTypeUpdates+1,fixedBarCollapsed:c})},modifyMarketListSorter(e,t){var r=t.payload.marketListSorter,n=void 0===r?{}:r;return(0,a.Z)((0,a.Z)({},e),{},{marketListSorter:n})},modifyCoinPairList(e,t){var r=t.payload.coinPairList,n=void 0===r?[]:r;return b("trade_selected_symbol_list",n),(0,a.Z)((0,a.Z)({},e),{},{coinPairList:[...n]})},modifyCurrentCoinPair(e,t){var r=t.payload.currentCoinPair,n=void 0===r?"":r;b("trade_current_symbol",n);var s=n.split("-");return(0,a.Z)((0,a.Z)({},e),{},{currentCoinPair:n,currentCoin:s[0],currentPair:s[1]})},updateTradeForm(e,t){var r=t.payload.tradeForm;return(0,a.Z)((0,a.Z)({},e),{},{tradeForm:r})},deepUpdateTradeForm(e,t){var r=t.payload,n=void 0===r?{}:r,s=e.tradeForm;return(0,a.Z)((0,a.Z)({},e),{},{tradeForm:(0,a.Z)((0,a.Z)({},s),n)})},updateFavorites(e,t){var r=t.payload,n=r.oid,s=r.favorites;return b("favorites_".concat(n),s),(0,a.Z)((0,a.Z)({},e),{},{favorites:[].concat(s)})}},effects:{getPriceLimitRate(e,t){return s().mark((function r(){var a,n,c,u,o,p;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.symbol,n=t.put,c=t.call,r.next=4,c(x.sS,{symbol:a});case 4:return u=r.sent,o=u.data,p=void 0===o?{}:o,r.next=9,n({type:"update",payload:{priceLimitRate:p.priceLimitRate}});case 9:case"end":return r.stop()}}),r)}))()},getFavorites(e,t){return s().mark((function e(){var r,a,n,c,u,o,p;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,e.next=3,a((e=>e.user));case 3:return n=e.sent,c=n.user,u=c||{},o=u.oid,p=w("favorites_".concat(o))||[],e.next=9,r({type:"update",payload:{favorites:p}});case 9:case"end":return e.stop()}}),e)}))()},addFavorites(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,l,d;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.id,n=t.put,c=t.select,r.next=4,c((e=>e.tradeV2));case 4:if(u=r.sent,o=u.favorites,!(o.indexOf(a)>-1)){r.next=8;break}return r.abrupt("return");case 8:return r.next=10,c((e=>e.user));case 10:return p=r.sent,i=p.user,l=i||{},d=l.oid,o.push(a),r.next=16,n({type:"updateFavorites",payload:{oid:d,favorites:o}});case 16:case"end":return r.stop()}}),r)}))()},removeFavorites(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,l,d,y;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.id,n=t.put,c=t.select,r.next=4,c((e=>e.tradeV2));case 4:if(u=r.sent,o=u.favorites,p=o.indexOf(a),!(p<0)){r.next=9;break}return r.abrupt("return");case 9:return r.next=11,c((e=>e.user));case 11:return i=r.sent,l=i.user,d=l||{},y=d.oid,o.splice(p,1),r.next=17,n({type:"updateFavorites",payload:{oid:y,favorites:o}});case 17:case"end":return r.stop()}}),r)}))()},getCoinPairInfo(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,l;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.select,u=t.call,o=a.currentCoinPair,r.next=5,c((e=>e.market));case 5:return p=r.sent,i=p.allRecords,r.next=9,n({type:"getSymbolFee",payload:{currentCoinPair:o}});case 9:return r.next=11,n({type:"market/pullFeeBySymbol",payload:{symbol:o}});case 11:if(i&&i.length){r.next=17;break}return r.next=14,u(v._v,2e3);case 14:return r.next=16,n({type:"getCoinPairInfo",payload:a});case 16:return r.abrupt("return");case 17:return l=i.filter((e=>e.code===o)),console.log("target -----\x3e",l),r.next=21,n({type:"update",payload:{coinPairInfo:l[0]}});case 21:case"end":return r.stop()}}),r)}))()},setFast(e,t){return s().mark((function r(){var a,n,c,u,o;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,c=e.setType,u=t.put,o={price:"toSetPrice",amount:"toSetAmount"},console.log({[o[c]]:n[c]},n,c),r.next=6,u({type:"update",payload:{[o[c]]:n[c],["".concat(o[c],"UpdateTime")]:Date.now()}});case 6:case"end":return r.stop()}}),r)}))()},createConsignation(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,d,x,v,w,b,g,T,Z,_,S,A,C,I,M,P,L,N,U;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,c=t.select,u=t.put,r.next=4,c((e=>e.tradeV2));case 4:return o=r.sent,p=o.currentCoinPair,i=o.currentCoin,d=o.currentPair,r.next=10,c((e=>e.categories));case 10:return x=r.sent,r.next=13,c((e=>e.ticks));case 13:return v=r.sent,w=(v[p]||{}).lastTradedPrice,b=a.formValues,g=b.tradeType,T=b.side,Z={customPrise:"limit",marketPrise:"market",triggerPrise:"limit",marketTriggerPrice:"market"},_=b&&b.triggerPrise?+b.triggerPrise>+w?"entry":"loss":void 0,S=0===+b.showAmount,A=Z[b.tradeType],C=e=>{if(!e)return 0;if(e&&e.format){var t=e.format("HH:mm:ss").match(/\d{2}/g);return 60*t[0]*60+60*t[1]+ +t[2]}return e},I={type:A,price:k(b.price),symbol:p,channel:"WEB",hidden:b.hidden&&S,iceberg:b.hidden&&!S,postOnly:!!b.postOnly,side:b.side,size:k(b.amount),stop:_,stopPrice:k(b.triggerPrise),timeInForce:b.timeStrategy,visibleSize:k(b.showAmount),cancelAfter:C(b.usefulLife)},"buy"===I.side&&"market"===A&&(I.funds=I.size,delete I.size),["undefined","null","NaN"].indexOf(I.stopPrice)>-1&&delete I.stopPrice,"GTT"!==I.timeInForce&&delete I.cancelAfter,"market"===A&&delete I.price,b.hidden||delete I.visibleSize,M=(0,m.Z)((0,l._t)(h.TRADE_TYPES_LANG_KEY[g]),T,i,d,x),r.prev=29,r.next=32,n(f.vm,I);case 32:if(P=r.sent,!P||"200"!==P.code){r.next=40;break}return r.next=36,u({type:"notice/feed",payload:{type:"notification.success",message:(0,l._t)("trade.placeOrder.success"),extra:{description:M},groupName:"trade"}});case 36:return r.next=38,u({type:"updateTradeForm",payload:{tradeForm:{price:void 0,amount:void 0,timeStrategy:"GTC",usefulLife:y()("00:00:00","HH:mm:ss").toString(),showAmount:0,postOnly:!1}}});case 38:r.next=47;break;case 40:if(!P||400200!==+P.code){r.next=45;break}return r.next=43,u({type:"notice/feed",payload:{type:"notification.error",message:(0,l._t)("trade.hidden.disable"),extra:{description:M},groupName:"trade"}});case 43:r.next=47;break;case 45:return r.next=47,u({type:"notice/feed",payload:{type:"notification.error",message:(0,l._t)("trade.placeOrder.failed"),extra:{description:M},groupName:"trade"}});case 47:return r.abrupt("return",P);case 50:if(r.prev=50,r.t0=r["catch"](29),L=r.t0||{},N=L.msg,U=L.code,400200!==+U){r.next=58;break}return r.next=56,u({type:"notice/feed",payload:{type:"notification.error",message:(0,l._t)("trade.hidden.disable"),extra:{description:N||""},groupName:"trade"}});case 56:r.next=65;break;case 58:if("validation.createOrder.symbolNotAvailable"!==N){r.next=63;break}return r.next=61,u({type:"notice/feed",payload:{type:"notification.error",message:(0,l._t)("validation.createOrder.symbolNotAvailable"),extra:{description:M},groupName:"trade"}});case 61:r.next=65;break;case 63:return r.next=65,u({type:"notice/feed",payload:{type:"notification.error",message:(0,l._t)("trade.placeOrder.failed"),extra:{description:N||""},groupName:"trade"}});case 65:case"end":return r.stop()}}),r,null,[[29,50]])}))()},getSymbolFee(e,t){return s().mark((function r(){var n,c,u,o,p,i,l,d,y,f,x,m;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.call,u=t.put,o=t.select,r.next=4,o((e=>e.tradeV2));case 4:return p=r.sent,i=p.symbolFee,l=void 0===i?{}:i,r.next=9,o((e=>e.market));case 9:return d=r.sent,y=d.feeInfoMap,r.next=13,o((e=>e.homepage));case 13:if(f=r.sent,x=f.baseInfo,m=n.currentCoinPair,"~"!==x.makerRate){r.next=21;break}return r.next=19,u({type:"homepage/getTradeFee"});case 19:return r.next=21,r.sent;case 21:if(!l[m]){r.next=23;break}return r.abrupt("return");case 23:if(!y[m]){r.next=27;break}return r.next=26,u({type:"update",payload:{symbolFee:(0,a.Z)((0,a.Z)({},l),{},{[m]:(0,a.Z)({},y[m])})}});case 26:return r.abrupt("return");case 27:return r.next=29,u({type:"market/pullFeeBySymbol",payload:{symbol:m}});case 29:return r.next=31,r.sent;case 31:return r.next=33,c(v._v,2e3);case 33:return r.next=35,u({type:"getSymbolFee",payload:{currentCoinPair:m}});case 35:case"end":return r.stop()}}),r)}))()},startReport(e,t){return s().mark((function e(){var r,a,n;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,e.next=3,r((e=>e.tradeV2));case 3:a=e.sent,n=a.currentCoinPair,(0,i.Z)(n,!0);case 6:case"end":return e.stop()}}),e)}))()}},subscriptions:{setUpTrade(e){var t=e.dispatch;t({type:"startReport"})}}})},89908:function(e,t,r){"use strict";r.r(t);var a=r(59395),n=r(8870),s=r(94043),c=r.n(s),u=r(86960),o=r(27384),p=r(67880);t["default"]=(0,u.default)(p.Z,{namespace:"captcha",state:{captcha_enable:!1,captcha_verify:!1,captcha_config:null,captcha_ready:!1,captcha_bizType:"",captchaType:"",imageTimestamp:"",imageVerVisible:!1,imageSrc:""},reducers:{captcha_verify(e){var t=e.captcha_ready;return t?(0,n.Z)((0,n.Z)({},e),{},{captcha_verify:!0}):(0,n.Z)({},e)},captcha_clear(e,t){var r=t.resetReady,a=void 0===r||r;return(0,n.Z)((0,n.Z)({},e),{},{captcha_config:null,captcha_verify:!1},a?{captcha_ready:!1}:null)},captcha_ready(e,t){var r=t.payload,a=void 0===r?{}:r,s=a.captcha_verify,c=void 0!==s&&s;return(0,n.Z)((0,n.Z)({},e),{},{captcha_verify:c,captcha_ready:!0})}},effects:{captcha_start(e,t){return c().mark((function r(){var a,n,s,u;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.type,n=e.payload.bizType,s=void 0===n?"":n,u=t.put,console.log("init gee ",a),r.next=5,u({type:"captcha_init",payload:{captcha_enable:!0,captcha_verify:!1,bizType:s}});case 5:case"end":return r.stop()}}),r)}))()},captcha_init(e,t){return c().mark((function r(){var s,u,p,i,l,d,y,f,x,v,m,h,w;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.payload,u=void 0===s?{}:s,p=e.type,i=t.call,l=t.put,d=t.select,y=p.split("/")[0],r.next=5,d((e=>e[y]));case 5:return f=r.sent,x=f.captcha_bizType,v=u.bizType,console.log("init gee test",v),m={},r.prev=10,r.next=13,i(o.vn,v||x);case 13:if(m=r.sent,!m||"200"===m.code){r.next=18;break}throw new Error("\u63a5\u53e3\u5931\u8d25");case 18:if(m){r.next=20;break}throw new Error("\u8bf7\u6c42\u5931\u8d25");case 20:r.next=26;break;case 22:return r.prev=22,r.t0=r["catch"](10),a.Z.error("\u6781\u9a8c\u521d\u59cb\u5316\u5931\u8d25\uff0c\u8bf7\u5237\u65b0\u9875\u9762\u91cd\u8bd5"),r.abrupt("return");case 26:if(h=m,w=h.data,w.captchaType=window.cpty||w.captchaType,"geetest"!==w.captchaType){r.next=33;break}return r.next=31,l({type:"update",payload:(0,n.Z)((0,n.Z)({},u),{},{captcha_config:w,captcha_gt:w.gt,captcha_bizType:v||x,captchaType:w.captchaType})});case 31:r.next=44;break;case 33:if("recaptcha"!==w.captchaType){r.next=39;break}return console.log("init reCAPTCHA"),r.next=37,l({type:"update",payload:(0,n.Z)((0,n.Z)({},u),{},{captcha_bizType:v||x,captchaType:w.captchaType,reCAPTCHA_time:Date.now()})});case 37:r.next=44;break;case 39:if("image"!==w.captchaType){r.next=44;break}return r.next=42,l({type:"update",payload:(0,n.Z)((0,n.Z)({},u),{},{captcha_bizType:v||x,captchaType:w.captchaType,challenge:w.challenge,imageVerVisible:!0})});case 42:return r.next=44,l({type:"getImage"});case 44:return r.abrupt("return",w);case 45:case"end":return r.stop()}}),r,null,[[10,22]])}))()},getImage(e,t){return c().mark((function e(){var r,a,n,s,u,p,i,l;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,a=t.call,n=t.put,e.next=3,r((e=>e.captcha));case 3:return s=e.sent,u=s.challenge,e.prev=5,e.next=8,a(o.iq,{challenge:u});case 8:if(p=e.sent,i=p.success,l=p.data,!i){e.next=14;break}return e.next=14,n({type:"update",payload:{imageSrc:"data:image/png;base64,".concat(l)}});case 14:e.next=21;break;case 16:return e.prev=16,e.t0=e["catch"](5),e.next=20,n({type:"update",payload:{imageVerVisible:!1}});case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[5,16]])}))()},captcha_retry(e,t){return c().mark((function r(){var a,n,s;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload.bizType,n=void 0===a?"":a,s=t.put,r.next=4,s({type:"captcha_clear"});case 4:return r.next=6,s({type:"captcha_init",payload:{bizType:n}});case 6:case"end":return r.stop()}}),r)}))()},captcha_verifyIfOk(e,t){return c().mark((function r(){var a,n,s,u,p,i,l,d,y,f,x,v,m,h,w,b,k,g;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.type,n=e.payload,s=t.call,u=t.select,p=t.put,i=a.split("/")[0],r.next=5,u((e=>e.captcha));case 5:return l=r.sent,d=l.challenge,r.next=9,u((e=>e[i]));case 9:return y=r.sent,f=y.captcha_bizType,x=n.validate,v=n.captchaType,m=void 0===v?"GEETEST":v,h=n.bizType,w=void 0===h?null:h,r.next=14,u((e=>e.captcha));case 14:return b=r.sent,k={geetest:"GEETEST",recaptcha:"reCAPTCHA",image:"IMAGE"},r.prev=16,r.next=19,s(o.cN,{bizType:w||f,captchaType:k[m||b.captchaType],response:"object"===typeof x?JSON.stringify(x):x,secret:d});case 19:return g=r.sent,r.next=22,p({type:"update",payload:{captcha_gt:null,captcha_bizType:null}});case 22:if("image"!==m){r.next=25;break}return r.next=25,p({type:"captcha/update",payload:{imageVerVisible:!1}});case 25:return r.abrupt("return",g);case 28:if(r.prev=28,r.t0=r["catch"](16),"image"!==m){r.next=33;break}return r.next=33,p({type:"captcha/getImage"});case 33:throw r.t0;case 34:case"end":return r.stop()}}),r,null,[[16,28]])}))()}}})},28939:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(93224),s=r(94043),c=r.n(s),u=r(9156),o=r(50890),p=r(59395),i=r(28463),l=r(78835),d=r(89908),y=r(86960),f=r(97370),x=r(79956),v=r(30048),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((t=>{setTimeout((()=>{t()}),e)}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"email",t={mobile:"phone",email:"email"};return"".concat(t[e].toUpperCase(),"_LOGIN")};t["default"]=(0,y.default)(d.default,{namespace:"login",state:{l_account:"",l_password:"",l_vcode:"",l_area_code:"",lock_get_code:!1,l_token:"",safeWords:"",signUpBG_pc:"",signUpBG_h5:"",loginBG_pc:"",loginBG_h5:""},subscriptions:{setupLogin(e){var t=e.dispatch,r=i.Z.getItem("curLoginOpts");r&&t({type:"save",payload:{l_account:r["mobile"===r.type?"phone":"email"],l_area_code:r.countryCode||"",captcha_bizType:r.bizType}})}},effects:{checkLocation(e,t){return c().mark((function e(){var r,a,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.select,e.next=3,r((e=>e.user));case 3:a=e.sent,n=a.user,console.log("checkLocation"),n&&(window.location.href=(0,x.A4)("/"));case 7:case"end":return e.stop()}}),e)}))()},setFormItem(e,t){return c().mark((function r(){var a,n,s,u,o,p;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,s=a.val,u=a.name,o=a.type,p="register"===o?"r":"l",r.next=6,n({type:"save",payload:{["".concat(p,"_").concat(u)]:s}});case 6:case"end":return r.stop()}}),r)}))()},pullUserInfo(e,t){return c().mark((function e(){var r,a,n,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.put,a=t.select,n=t.fork,e.next=3,a((e=>e.currency));case 3:return s=e.sent,e.next=6,n(r,{type:"user/pullUser",payload:{currency:s.currency}});case 6:case"end":return e.stop()}}),e)}))()},login(e,t){return c().mark((function r(){var s,o,d,y,x,v,m,h,w,b,k,g,T,Z,_,S;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.payload,o=t.call,d=t.put,y=t.select,x=s.loginType,v=s.countryCode,m=s.password,h=(0,n.Z)(s,["loginType","countryCode","password"]),w=(0,f.QZ)(s.account),r.next=6,y((e=>e.currency));case 6:return b=r.sent,i.Z.setItem("_rl_currency",b.currency),k="mobile"===x?"phone":"email",g={countryCode:(v||"").replace(/_.*$/g,""),[k]:w,password:(0,f.mt)(m)},h&&h.jwtLogin&&(g.jwtLogin=!!h.jwtLogin),T=(0,l.P)(),g=(0,a.Z)((0,a.Z)({},g),T),"email"===k&&delete g.countryCode,Z=i.Z.getItem("curLoginOpts")||{},_="".concat(k.toUpperCase(),"_LOGIN")||0,i.Z.setItem("curLoginOpts",(0,a.Z)((0,a.Z)({},Z),{},{[k]:w,type:x||"email",countryCode:v||Z.countryCode,account:w||"",bizType:_})),i.Z.setItem("liquidateWarningHide",!1),S=null,r.prev=19,r.next=22,o(u.lf,"".concat(k,"-login"),g);case 22:if(S=r.sent,"200"!==S.code){r.next=30;break}return i.Z.setItem("finishUpgrade",S.data.finishUpgrade),i.Z.setItem("user_login",{l_account:w,l_area_code:v,l_token:S.data.loginToken,[k]:w,time:Date.now()}),r.next=28,d({type:"save",payload:{jwtToken:S.data.jwtToken}});case 28:r.next=32;break;case 30:return p.Z.error(S.msg),r.abrupt("return");case 32:if((S.data.needValidations||[]).length){r.next=37;break}return r.next=35,d({type:"pullUserInfo"});case 35:r.next=39;break;case 37:return r.next=39,d({type:"save",payload:{jwtToken:S.data.jwtToken,return_to:h.return_to}});case 39:return console.log(S.data.needValidations,"result.data.needValidations"),r.next=42,d({type:"save",payload:{loginType:x,captcha_bizType:_,l_token:S.data.loginToken,safeWords:S.data.loginSafeWord,needValidations:(S.data.needValidations||[]).toString().split(",").filter((e=>!!e))}});case 42:r.next=52;break;case 44:if(r.prev=44,r.t0=r["catch"](19),"40011"!==r.t0.code){r.next=51;break}return r.next=49,d({type:"captcha/captcha_init",payload:{bizType:"".concat(k.toUpperCase(),"_LOGIN")}});case 49:r.next=52;break;case 51:p.Z.error(r.t0.msg);case 52:return r.abrupt("return",S);case 53:case"end":return r.stop()}}),r,null,[[19,44]])}))()},getUserInfo(e,t){return c().mark((function e(){var r,a;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,e.next=3,r(u.bG,{});case 3:a=e.sent,i.Z.setItem("user",a.data);case 5:case"end":return e.stop()}}),e)}))()},sec_verify(e,t){return c().mark((function r(){var a,n,s,o,p,i,l,d,y,f,x,v;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=void 0===a?{}:a,s=t.call,o=t.select,p=t.put,r.next=4,o((e=>e.login));case 4:return i=r.sent,l=i.l_vcode,d=i.l_token,y=n.validationType,f=void 0===y?"MY_SMS":y,x=n.trustDevice,r.next=10,s(u.x4,{code:l||null,token:d,validationType:f,trustDevice:x});case 10:return v=r.sent,r.next=13,p({type:"checkIfBackToSome"});case 13:return r.next=15,r.sent;case 15:return r.next=17,p({type:"pullUserInfo"});case 17:return r.abrupt("return",v);case 18:case"end":return r.stop()}}),r)}))()},sec_get_code(e,t){return c().mark((function e(){var r,a,n,s,o,i,l;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.select,n=t.put,e.next=3,a((e=>e.login));case 3:return s=e.sent,o=s.l_token,i=s.loginType,l=null,e.prev=7,e.next=10,r(u.Jv,o);case 10:l=e.sent,console.log(l),l&&"200"===l.code&&p.Z.info(l.msg),e.next=24;break;case 15:if(e.prev=15,e.t0=e["catch"](7),l=e.t0,"40011"!==e.t0.code){e.next=23;break}return e.next=21,n({type:"captcha/captcha_init",payload:{bizType:h(i)}});case 21:e.next=24;break;case 23:p.Z.error(e.t0.msg||"ERROR");case 24:return e.abrupt("return",l);case 25:case"end":return e.stop()}}),e,null,[[7,15]])}))()},checkIfBackToSome(){return c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=(0,f.Et)(),!t.back||!(0,f.Ym)(t.back)){e.next=5;break}return window.location.href=t.back,e.next=5,m(1500);case 5:case"end":return e.stop()}}),e)}))()},getBackgroundUrl(e,t){return c().mark((function r(){var a,n,s,u,p,i,l,d,y,f,x,m,h,w,b;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,s=t.put,r.prev=2,r.next=5,n(o.P,a);case 5:if(u=r.sent,p=u.success,i=u.data,!p){r.next=11;break}return l=(0,v.P)(i),d=l.signUpBG_pc,y=l.signUpBG_pc_default,f=l.signUpBG_h5,x=l.signUpBG_h5_default,m=l.loginBG_pc,h=l.loginBG_pc_default,w=l.loginBG_h5,b=l.loginBG_h5_default,r.next=11,s({type:"save",payload:{signUpBG_pc:d||y,signUpBG_h5:f||x,loginBG_pc:m||h,loginBG_h5:w||b}});case 11:r.next=16;break;case 13:r.prev=13,r.t0=r["catch"](2),console.log(r.t0.msg||"ERROR");case 16:case"end":return r.stop()}}),r,null,[[2,13]])}))()}},reducers:{save(e,t){return(0,a.Z)((0,a.Z)({},e),t.payload)}}})},39556:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(93224),s=r(94043),c=r.n(s),u=r(67880),o=r(27042),p=r(86960),i=r(71930),l=r(18504),d=r(8055),y=r(97370),f=r(21056),x=y.mr.getEvt();t["default"]=(0,p.default)(u.Z,l.Z,o.Z,{namespace:"rebind_phone",state:{securityAllowTypes:null,currentStep:0,loadingSms:!1,sendChannel:"SMS",retryAfterSeconds:0},effects:{pullStatus(e,t){return c().mark((function r(){var a,n,s,u,o,p,l,d;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.bizType,s=a.token,u=t.call,o=t.put,r.next=4,u(i.b,{token:s});case 4:if(p=r.sent,!p.success){r.next=14;break}if(l=p.data||{},d=l.status,d!==f.i){r.next=12;break}return r.next=10,o({type:"update",payload:{currentStep:3}});case 10:r.next=14;break;case 12:return r.next=14,o({type:"getSecurityAllowTypes",payload:{bizType:n,token:s}});case 14:case"end":return r.stop()}}),r)}))()},getValidationCode(e,t){return c().mark((function r(){var s,u,o,p,i,l,y,f,v,m;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.payload,u=t.call,o=t.put,p=s.sendChannel,i=(0,n.Z)(s,["sendChannel"]),r.next=5,o({type:"update",payload:{loadingSms:!0,retryAfterSeconds:0}});case 5:return r.prev=5,r.next=8,u(d.getValidationCode,(0,a.Z)({sendChannel:p},i));case 8:if(l=r.sent,y=l.success,f=l.data,v=l.msg,!y){r.next=20;break}return m=f.retryAfterSeconds,p&&"voice"!==p.toLowerCase()&&x.emit("__TIMER_BTN_COUNT_START__",{send:!0,id:"_REBIND_PHONE_",delay:m}),r.next=17,o({type:"update",payload:{retryAfterSeconds:m,sendChannel:p}});case 17:if(!v){r.next=20;break}return r.next=20,o({type:"notice/feed",payload:{type:"message.info",message:v}});case 20:r.next=26;break;case 22:throw r.prev=22,r.t0=r["catch"](5),console.error(r.t0),r.t0;case 26:return r.prev=26,r.next=29,o({type:"update",payload:{loadingSms:!1}});case 29:return r.finish(26);case 30:case"end":return r.stop()}}),r,null,[[5,22,26,30]])}))()},getSecurityAllowTypes(e,t){return c().mark((function r(){var a,n,s;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"security_new/get_verify_type",payload:a});case 4:return r.next=6,r.sent;case 6:if(s=r.sent,null==s){r.next=10;break}return r.next=10,n({type:"update",payload:{securityAllowTypes:s||[]}});case 10:case"end":return r.stop()}}),r)}))()},submitNewPhone(e,t){return c().mark((function r(){var n,s,u,o,p,l,d,y,f,x,v;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,s=t.call,u=t.select,o=t.put,r.next=4,u((e=>e.rebind_phone));case 4:return p=r.sent,l=p.fields,d=p.currentStep,y=p.sendChannel,f={},Object.keys(l).forEach((e=>{f[e]=l[e].fileId.original,f["".concat(e,"Mini")]=l[e].fileId.mini})),r.next=12,s(i.P,(0,a.Z)((0,a.Z)((0,a.Z)({},n),f),{},{validationType:y}));case 12:if(x=r.sent,v=x.success,!v){r.next=17;break}return r.next=17,o({type:"update",payload:{currentStep:d+1}});case 17:case"end":return r.stop()}}),r)}))()}}})},8637:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(9156),u=r(59395),o=r(86960),p=r(67880),i=r(28463),l=r(78835),d=r(97370),y=e=>(e||"").replace(/_.*$/g,"");t["default"]=(0,o.default)(p.Z,{namespace:"register",state:{r_account:"",r_password:"",r_invite_code:"",r_vcode:"",r_area_code:void 0,r_agrement:!1,lock_get_code:!1,type:"email",sec_bizType:"REGISTER",referInfo:null},subscriptions:{setUpRegister(e){e.dispatch}},effects:{setFormItem(e,t){return s().mark((function r(){var a,n,c,u,o,p;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=a.val,u=a.name,o=a.type,p="register"===o?"r":"l",r.next=6,n({type:"save",payload:{["".concat(p,"_").concat(u)]:c}});case 6:case"end":return r.stop()}}),r)}))()},register(e,t){return s().mark((function r(){var n,u,o,p,i,f,x,v,m,h,w,b,k,g,T;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,u=t.call,o=t.select,r.next=4,o((e=>e.register));case 4:return p=r.sent,i=p.r_account,f=p.r_password,x=p.r_area_code,v=p.r_vcode,m=p.r_invite_code,h=p.type,w=n.type||h,b=n.otherOpts,k={code:v,referralCode:m,password:(0,d.mt)(f),timeZone:60*(new Date).getTimezoneOffset()},b&&b.c&&b.r&&(k.thirdPartReferralCode=b.r,k.thirdPartClient=b.c),g=(0,l.P)(),k=(0,a.Z)((0,a.Z)({},k),g),k="mobile"===w?(0,a.Z)((0,a.Z)({},k),{},{countryCode:y(x),phone:(0,d.QZ)(i)}):(0,a.Z)((0,a.Z)({},k),{},{email:(0,d.QZ)(i)}),r.next=20,u(c.y1,"mobile"===w?"sign-up-phone":"sign-up-email",k);case 20:return T=r.sent,r.abrupt("return",T);case 22:case"end":return r.stop()}}),r)}))()},getVcode(e,t){return s().mark((function r(){var n,o,p,l,f,x,v,m,h,w,b,k,g,T,Z,_;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,o=t.call,p=t.put,l=t.select,r.next=4,l((e=>e.register));case 4:return f=r.sent,x=f.r_account,v=f.r_area_code,m=f.lock_get_code,r.next=10,l((e=>e.currency));case 10:if(h=r.sent,i.Z.setItem("_rl_currency",h.currency),!m){r.next=14;break}return r.abrupt("return");case 14:return w=n.type,b={email:["email"],mobile:["phone","countryCode"]},k=b[w][0].toUpperCase(),g="mobile"===w?"register-short-message":"register-email",T={phone:(0,d.QZ)(x),countryCode:y(v),email:(0,d.QZ)(x)},Z=b[w].reduce(((e,t)=>(0,a.Z)((0,a.Z)({},e),{},{[t]:T[t]})),{}),_=null,r.prev=21,r.next=24,o(c.NV,g,Z);case 24:return _=r.sent,_&&"200"===_.code&&u.Z.info(_.msg),r.next=28,p({type:"checkTriedTime",payload:_});case 28:r.next=39;break;case 30:if(r.prev=30,r.t0=r["catch"](21),_=r.t0,"40011"!==r.t0.code){r.next=38;break}return r.next=36,p({type:"captcha/captcha_init",payload:{bizType:"".concat(k,"_REGISTER")}});case 36:r.next=39;break;case 38:u.Z.error(r.t0.msg||"ERROR");case 39:return r.abrupt("return",_);case 40:case"end":return r.stop()}}),r,null,[[21,30]])}))()},checkTriedTime(e,t){return s().mark((function r(){var a,n,c,u;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.payload,n=t.put,c=a.maxRetryTimes,u=a.retryTimes,!(u+1>c)){r.next=6;break}return r.next=6,n({type:"save",payload:{lock_get_code:!1}});case 6:case"end":return r.stop()}}),r)}))()},validateCode(e,t){return s().mark((function r(){var a,n,u,o,p,i,l,f,x,v;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.select,u=t.call,r.next=4,n((e=>e.register));case 4:return o=r.sent,p=o.r_vcode,i=o.r_area_code,l=o.r_account,f="email"===a.type?"email":"sms",x="mobile"===a.type?"".concat(y(i),"-").concat((0,d.QZ)(l)):(0,d.QZ)(l),r.next=12,u(c.TB,x,p,f.toUpperCase());case 12:return v=r.sent,r.abrupt("return",v);case 14:case"end":return r.stop()}}),r)}))()},getRefer(e,t){return s().mark((function r(){var a,n,u,o,p;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,u=t.put,o=a.rcode,r.next=5,n(c.vl,o);case 5:return p=r.sent,r.next=8,u({type:"save",payload:{referInfo:p.data,r_invite_code:o}});case 8:case"end":return r.stop()}}),r)}))()}},reducers:{save(e,t){return(0,a.Z)((0,a.Z)({},e),t.payload)}}})},15615:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(67880),u=r(27042),o=r(86960),p=r(9055),i=r(18504),l=r(21056),d=r(59395);t["default"]=(0,o.default)(c.Z,i.Z,u.Z,{namespace:"reset_g2fa",state:{securityAllowTypes:null,currentStep:0},effects:{pullStatus(e,t){return s().mark((function r(){var a,n,c,u,o,i,d,y;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=a.bizType,c=a.token,u=t.call,o=t.put,r.next=4,u(p.B,{token:c});case 4:if(i=r.sent,!i.success){r.next=14;break}if(d=i.data||{},y=d.status,y!==l.c){r.next=12;break}return r.next=10,o({type:"update",payload:{currentStep:2}});case 10:r.next=14;break;case 12:return r.next=14,o({type:"getSecurityAllowTypes",payload:{bizType:n,token:c}});case 14:case"end":return r.stop()}}),r)}))()},getSecurityAllowTypes(e,t){return s().mark((function r(){var a,n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"security_new/get_verify_type",payload:a});case 4:return r.next=6,r.sent;case 6:if(c=r.sent,null==c){r.next=10;break}return r.next=10,n({type:"update",payload:{securityAllowTypes:c||[]}});case 10:case"end":return r.stop()}}),r)}))()},submitAuthentication(e,t){return s().mark((function r(){var n,c,u,o,i,l,y,f;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload.token,c=void 0===n?"":n,u=t.select,o=t.call,r.next=4,u((e=>e.reset_g2fa));case 4:return i=r.sent,l=i.fields,y={},Object.keys(l).forEach((e=>{y[e]=l[e].fileId.original,y["".concat(e,"Mini")]=l[e].fileId.mini})),r.prev=8,r.next=11,o(p.E,(0,a.Z)({token:c},y));case 11:return f=r.sent,r.abrupt("return",f);case 15:return r.prev=15,r.t0=r["catch"](8),d.Z.error(r.t0.msg),r.abrupt("return",r.t0);case 19:case"end":return r.stop()}}),r,null,[[8,15]])}))()}}})},67645:function(e,t,r){"use strict";r.r(t);var a=r(8870),n=r(94043),s=r.n(n),c=r(86268),u=r(59395),o=r(90903),p=r(89908),i=r(86960),l=r(97370),d=e=>(e||"").replace(/_.*$/g,"");t["default"]=(0,i.default)(p.default,{namespace:"resetPassword",state:{verifyType:"email",code:"",bizType:"",address:"",account:"",area_code:"",vcode:""},effects:{getVcode(e,t){return s().mark((function r(){var a,n,c,o,p,i,l,y,f;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.select,r.next=4,c((e=>e.resetPassword));case 4:return o=r.sent,p=o.account,i=o.area_code,l=a.type,y=l.toUpperCase(),f=null,r.prev=10,r.next=13,n({type:"security_new/sec_get_code",payload:{channel:"EMAIL"===y?"EMAIL":"SMS",address:"EMAIL"===y?p:"".concat(d(i),"-").concat(p)},silent:!0});case 13:return r.next=15,r.sent;case 15:f=r.sent,r.next=21;break;case 18:r.prev=18,r.t0=r["catch"](10),f=r.t0;case 21:if(f&&"200"===f.code&&u.Z.info(f.msg),!f||"200"===f.code){r.next=29;break}if(!f||"40011"!==f.code){r.next=28;break}return r.next=26,n({type:"captcha/captcha_init",payload:{bizType:"FORGOT_PASSWORD"}});case 26:r.next=29;break;case 28:u.Z.error(f.msg||"ERROR");case 29:return r.next=31,n({type:"save",payload:{verifyType:l}});case 31:return r.abrupt("return",f);case 32:case"end":return r.stop()}}),r,null,[[10,18]])}))()},verify(e,t){return s().mark((function r(){var a,n,c,u,o,p,i,l,y;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=t.select,r.next=4,c((e=>e.resetPassword));case 4:return u=r.sent,o=u.vcode,p=u.account,i=u.area_code,l=a.type,r.next=11,n({type:"security_new/sec_verify",payload:{validationType:"mobile"===l?"sms":"email",validationVal:o,address:"mobile"===l?"".concat(d(i),"-").concat(p):p}});case 11:return y=r.sent,r.abrupt("return",y);case 13:case"end":return r.stop()}}),r)}))()},getVerifyCode(e,t){return s().mark((function r(){var a,n,o,p,i,l,d;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.call,o=t.put,p=a.serviceType,i=a.businessType,l=a.address,d=null,r.prev=4,r.next=7,n(c.u,p,i,l);case 7:return d=r.sent,"200"===d.code&&u.Z.info(d.msg),r.next=11,o({type:"save",payload:{bizType:i,address:l}});case 11:r.next=21;break;case 13:if(r.prev=13,r.t0=r["catch"](4),!r.t0||"40011"!==r.t0.code){r.next=20;break}return r.next=18,o({type:"captcha/captcha_init",payload:{bizType:"FORGOT_PASSWORD"}});case 18:r.next=21;break;case 20:u.Z.error(r.t0.msg||"ERROR");case 21:case"end":return r.stop()}}),r,null,[[4,13]])}))()},setFormItem(e,t){return s().mark((function r(){var a,n,c,u;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,c=a.name,u=a.val,r.next=5,n({type:"save",payload:{[c]:u}});case 5:case"end":return r.stop()}}),r)}))()},switchType(e,t){return s().mark((function r(){var a,n;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.payload,n=t.put,r.next=4,n({type:"save",payload:{verifyType:a.type,code:""}});case 4:case"end":return r.stop()}}),r)}))()},reset(e,t){return s().mark((function r(){var n,c;return s().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=e.payload,c=t.put,r.next=4,c({type:"save",payload:(0,a.Z)({account:"",area_code:""},n)});case 4:case"end":return r.stop()}}),r)}))()},resetPwd(e,t){return s().mark((function e(){var r,a,n,c,u,p,i,y,f,x;return s().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.call,a=t.select,e.next=3,a((e=>e.resetPassword));case 3:return n=e.sent,c=n.verifyType,u=n.account,p=n.password,i=n.area_code,y="mobile"===c?"phone":"email",f={password:(0,l.mt)(p),[y]:u},"phone"===y&&(f.countryCode=d(i)),e.next=13,r(o.c,y,f);case 13:return x=e.sent,e.abrupt("return",x);case 15:case"end":return e.stop()}}),e)}))()}},reducers:{save(e,t){return(0,a.Z)((0,a.Z)({},e),t.payload)}}})}}]);